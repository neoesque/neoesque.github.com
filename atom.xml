<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[neoesque]]></title>
  <subtitle><![CDATA[Making Life Better]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://blog.littlero.se/"/>
  <updated>2015-06-09T02:39:48.000Z</updated>
  <id>http://blog.littlero.se/</id>
  
  <author>
    <name><![CDATA[neoesque]]></name>
    <email><![CDATA[neoesque@gmail.com]]></email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[日本東京、箱根自助之旅]]></title>
    <link href="http://blog.littlero.se/post/Trip-to-Japan-Tokyo-Hakone/"/>
    <id>http://blog.littlero.se/post/Trip-to-Japan-Tokyo-Hakone/</id>
    <published>2015-06-06T03:36:14.000Z</published>
    <updated>2015-06-09T02:39:48.000Z</updated>
    <content type="html"><![CDATA[<p>第一次到日本玩，因為是跟高中死黨和他女友一起去，他很熟日本，所以我們一行四人(加我妹)就選擇自助，這次旅行的地點主要在東京 &amp; 箱根，一共六天五夜，是大多數到日本玩的旅客都會走的路線。時間是 4/1 ~ 4/6，也就是端午節假期，請兩天玩六天。</p>
<p><img src="https://lh3.googleusercontent.com/hd3xY_bIZXWC4kSoZwEXqGhzmNG2AyPE6n1gtc-L_4nD=w828-h621-no" alt="新宿御苑櫻花美景"></p>
<a id="more"></a>
<h2 id="機票_&amp;_交通">機票 &amp; 交通</h2><p>旅行在去年 2014 年九月就開始規劃了，因為日本旅行四月是旺季，有機會卡到櫻花季，所以一定要及早規劃，機票的部分是委託旅行社買 JAL 日本航空的機票，因為 JAL 每人的<a href="http://www.tw.jal.com/twl/cms/contents/local/jal_news_000530.html" target="_blank" rel="external">托運行李是兩個</a>，23 公斤/件，也就是總重可達 46 公斤，如果有要到日本搬家電的真的是不錯的選擇，我同學這次就是要搬家電，所以就選擇 JAL。</p>
<p>我們從高雄出發到成田機場，來回一個人一萬四，雖然是六天五夜，不過實際上大概只有玩五天，因為第一天 4/1 搭班次 JL812 從高雄飛是 9:25，抵達日本是 13:50，加上到旅館可能也四五點了，然後最後一天 4/6 搭班次 JL811 是傍晚 18:25 的飛機，回到高雄是 21:45。日本航空來回我們都是坐到 <a href="https://zh.wikipedia.org/zh-tw/%E6%B3%A2%E9%9F%B3767" target="_blank" rel="external">波音 767</a>。</p>
<p>JAL 的飛機餐有哈根達斯 =w=<br><img src="https://lh6.googleusercontent.com/-b93xSWHq9Ys/VSXmDlw1AhI/AAAAAAAASRM/QVfZYOWplog/w1024-no/P4015123.jpg" alt="JAL 飛機餐"></p>
<p>另外飲料同學強力推薦點梅酒蘇打 (梅酒ソダ - うめしゅソダ)<br><img src="https://lh6.googleusercontent.com/-4xObD4Zws_g/VSXmDkkLxwI/AAAAAAAASRM/iedaCmN4Uso/h480-no/P4015124.jpg" alt=""></p>
<p>在飛機上還看到圓形的彩虹！！<br><img src="https://lh6.googleusercontent.com/-tDjz-XaAiFM/VSXmGYIbwuI/AAAAAAAASRM/IXKfE3eI3BY/h480-no/P4015133.jpg" alt=""></p>
<p>另外在日本境內的交通方式很簡單，在東日本就是買 Suica (西瓜卡) 就好了，雖然日本鐵路有 JR &amp; 數家私人鐵路公司也有自己的 PASMO，但是現在 Suica 都通吃就是，Suica 在出機場往車站走就會看到販賣機了。</p>
<p>另外我們此行會到箱根，交通是坐網路鼎鼎有名的<a href="http://www.odakyu.jp/tc/romancecar/" target="_blank" rel="external">小田急浪漫特快</a>，基本上如果只是要坐一般座位也不需要搶就是，不過如果是要坐它的展望席，則要在一個月前搶(比方說買 7/7 就要在 6/6 淩晨搶)，<a href="https://www.web-odakyu.com/e-romancecar" target="_blank" rel="external">訂票頁面</a>，展望席分前後，當然是前展望席是最好的，原本我沒搶到展望席(因為我記錯時間了 QQ)，不過後來我每天晚上有事沒事就 Reload 一下訂票頁，後來很幸運的在一個禮拜後的晚上被我搶到 3 前展望席 + 1 後展望席，而且前展望席還是第一排！幸運到有剩，本來想說我去坐後展望席就好，結果我後來跑去跟同學擠 XDD，至於回新宿，因為我們會去御殿場所以基本上就是坐小田急的高速巴士回去，在小田急遊客中心可以預約座位，後面會提到。買到票只是先保留，記得要付錢！日本人還真不錯，付錢的時間我記得好像是一個禮拜，不像臺鐵兩天內就要付款完。</p>
<p>浪漫號展望席就是直接一整片的大玻璃窗可以看到美景，直接感覺自己就是列車駕駛 XDD</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/g2eIu9IoFRw" frameborder="0" allowfullscreen></iframe></div>
<h2 id="住宿">住宿</h2><p>我們行程規劃是 4/1 - 4/2 住新宿，然後 4/3 去箱根玩，4/4 - 4/5 在住新宿，在新宿的四晚我們都住同一間 <a href="http://www.booking.com/hotel/jp/shinjuku-granbell.html" target="_blank" rel="external">格蘭貝爾 (Granbell Hotel)</a> ，就在新宿火車站附近，從東口出來走路約十分鐘，距離還 OK，床都是席夢思的，而且是 2014 年新開幕的所以房間都很新，這家可說英文，缺點就是比較貴一些，一間雙人房 4033 / 天。<br>然後去箱根當然就是要泡溫泉啦，我們選擇的是老牌子<a href="http://www.ichinoyu.co.jp" target="_blank" rel="external">一之湯</a>，它在箱根很多地方都有設旅館，我們訂的是<a href="http://www.ichinoyu.co.jp/shinkan/index.html" target="_blank" rel="external">新館(塔ノ沢一の湯新館)</a>，一泊二食，每個人 4016/天，實在是有夠貴 = =，這家也可以說英文，不過新館交通實在有點不方便，距離車站還要走一下下山路，如果要到箱根的遊客建議定強羅的飯店比較方便(但強羅的一之湯只有日文)，強羅幾乎可以說是箱根的交通中心。</p>
<h2 id="4/1_東京">4/1 東京</h2><h3 id="NEX_成田機場_-_新宿車站">NEX 成田機場 - 新宿車站</h3><p>一到成田機場後很順利的就出關啦，移民官完全不說話的，進入日本需要壓指紋，移民官會跟你比動作，壓完之後就OK了，出了機場就可以直接看到 JR 的旅客服務中心了，在這裡可以買到 NEX 的車票到東京市內，票價現在在促銷來回 4000 日幣/人，超級便宜。基本上說英文是可以通的，不過注意的是只有去市區的票會先打座位，到時候要回機場時要在新宿(出發地)再打車位。</p>
<p><img src="https://lh6.googleusercontent.com/-7M4nhxDRI7A/VSXmG3LoYZI/AAAAAAAASRM/juQGFWorfCg/w1024-no/P4015139.jpg" alt=""></p>
<p>繼續往車站走的方向也可以順便買到在東日本遊玩必備的西瓜卡。</p>
<p><img src="https://lh4.googleusercontent.com/-eirEV_BfDFs/VSXmPm8d6PI/AAAAAAAASRM/J0of92Rx9Uw/h480-no/P4015154.jpg" alt=""></p>
<p>從成田機場到新宿要 1 小時 20 分左右。</p>
<p><img src="https://lh6.googleusercontent.com/-Avy-fWxK1tA/VSXmQP60CJI/AAAAAAAASRM/5kMumhCj2wQ/w1024-no/P4015155.jpg" alt=""></p>
<p>其實去年本來沒有打算要看到櫻花的，不過我們運氣真的太好了，剛好搭上櫻花滿開～坐 NEX 的時候一路上都有櫻花看，日本真的處處是櫻花誒 *0*</p>
<p><img src="https://lh6.googleusercontent.com/-_RpgeHVA81E/VSXYdjbWTWI/AAAAAAAASRM/E5YaxWYQW7E/w1024-no/P4015160.jpg" alt=""></p>
<p>NEX 列車有中日韓英語言，不過臺灣人本來就看得懂漢字 XD 其實沒中文也不是問題。</p>
<p><img src="https://lh6.googleusercontent.com/-pnsWyoOoIv0/VSXYdkO1T4I/AAAAAAAASRM/1YRB3KEILOc/w1024-no/P4015166.jpg" alt=""></p>
<p>帥氣的 NEX 車頭。</p>
<p><img src="https://lh6.googleusercontent.com/-tAKwjZcH8qg/VSXYezJEoGI/AAAAAAAASRM/zln2mbq8nPI/w1024-no/P4015168.jpg" alt=""></p>
<p>NEX for Narita Express 成田快車</p>
<p><img src="https://lh6.googleusercontent.com/-xpHxi1DJtjM/VSXYfTP3uWI/AAAAAAAASRM/gieq8l9zOy4/w1024-no/P4015169.jpg" alt=""></p>
<h3 id="小田急旅客中心_箱根周遊券">小田急旅客中心 箱根周遊券</h3><p>因為我們要到箱根玩，在日本箱根地區的旅遊交通主要都是小田急企業提供的，然後他們在新宿車站就直接有小田急旅遊服務中心，所以出新宿車站之後在靠小田急百貨那側就可以找到了，這裡會有可以說中文的大陸人(是的，此次旅遊凡事會說中文的店員/服務員都是大陸人)，所以直接說需求，他就會依照需求建議你買什麼票。</p>
<p><img src="https://lh6.googleusercontent.com/-Ud7yVw5PXHU/VSXYgEAPblI/AAAAAAAASRM/TlCXc1o_u5o/w1024-no/P4015170.jpg" alt=""></p>
<p>我們預計 4/3 一早去箱根周遊，然後 4/4 早上去小王子博物館，接着下午去御殿場的 Outlet。因此我們買了<a href="http://www.odakyu.jp/tc/deels/freepass/hakone/" target="_blank" rel="external">箱根周遊券</a>，基本上就是箱根的交通工具都可以搭乘，包含盧之湖的海盜船、空中纜車、登山纜車、登山巴士、小田急高速巴士，都不限次數搭乘，票有兩天跟三天，我們只玩兩天，票價日幣 6000。其實箱根的券有兩種另一種是<a href="http://www.odakyu.jp/tc/deels/freepass/fujihakone/" target="_blank" rel="external">富士箱根周遊券</a>，本來看官網我們以為要買富士箱根周遊券，因為我們要做小田急高速巴士回新宿，不過買票時那個服務生說買箱根周遊券也可以免費坐，只是要先預約(怕沒座位)。然後因為御殿場回新宿的高速巴士會跟箱根(或 Outlet)過來的交通車有兩個會合點：東明御殿場(東明高速公路口)與御殿場火車站，巴士從火車站發車所以如果要從御殿場車站上車要比較早一點 19:05，如果是高速公路口則晚五分鐘 19:10，所以我們從 Outlet 坐交通車坐到東明御殿場的巴士站再換車時間會比較充裕一些(不過也才多五分鐘就是)。</p>
<p><img src="https://lh5.googleusercontent.com/s96BC477rFB84dCKGMljx51iU4xmjcmWabZPRVilgxAU=w1024-no" alt=""></p>
<p>至於前面提到一個月前就買好的浪漫號車票不需要換票，直接用周遊券過就可以進入車站內，到時候如果真的要驗票直接拿印出來的購票證明就可以了，不過其實在車上也沒有列車長來看就是。</p>
<p>買完票之後就是直接殺去旅館 checkin 啦，格蘭貝爾從新宿東口出來比較近，新宿車站實在是大到誇張，JR 加私營鐵路加捷運一共有十來個月臺，出口分北中南，東口、西口在北邊，中央東口跟東南口、南口、新南口，總之是個只能乖乖跟着 Google Map 走的車站 XD</p>
<p><img src="https://lh6.googleusercontent.com/-Pa5XHTS4qUY/VSXYgflZBCI/AAAAAAAASRM/ocpK4r2flpY/h480-no/P4015171.jpg" alt="歌舞伎町的哥吉拉"></p>
<h3 id="格蘭貝爾飯店">格蘭貝爾飯店</h3><p>嗯。基本上就是小到不行…有夠窄，不過大致上來說是乾淨明亮的空間。</p>
<p><img src="https://lh6.googleusercontent.com/-dq8IhQg50C4/VSXYhtFIfjI/AAAAAAAASRM/bMfcCgAmUrA/w1024-no/P4015175.jpg" alt="格蘭貝爾房內"></p>
<p>日本免不了的是都有免治馬桶，不過這個真的是我做過最高級的了，除了加熱的坐墊，還有排氣(臭味?!)、吹乾屁屁、起身幾秒後自動沖水的功能，完全全自動，簡直驚訝。</p>
<p><img src="https://lh4.googleusercontent.com/-JpVqXPaYHAs/VSXYhPjQNhI/AAAAAAAASRM/g0odwoW-ob0/h480-no/P4015174.jpg" alt="浴室"></p>
<h3 id="山頭火">山頭火</h3><p>因為今天晚上同學已經在一個禮拜前透過日本友人已經預約了新宿有名的燒肉六歌仙，所以我們晚餐想說先隨便填填肚子就好，山頭火在臺灣也有，不過沒吃過 XDD，這裡發生一件小插曲，就是拍日本人店內千萬不要拍到他們的臉！我不小心被老闆制止了 Orz…，總之來日本記得大部分的室內拍照 OK 別拍到臉就好</p>
<p>一樣貼心的有中文菜單</p>
<p><img src="https://lh6.googleusercontent.com/-U62Ts_qvgmc/VSXYiklDWDI/AAAAAAAASRM/mE48CnE6y7w/w1024-no/P4015179.jpg" alt="山頭火中文菜單"></p>
<p>開動！叉燒超級好吃的 T口T</p>
<p><img src="https://lh6.googleusercontent.com/-BsmYd82QlnA/VSXYi6RBSBI/AAAAAAAASRM/pEgnOO5tKsM/w1024-no/P4015182.jpg" alt=""></p>
<h3 id="BicCamera">BicCamera</h3><p>吃飽後回到車站附近跟同學想說先去 Bic 一下，此行還有一個目的就是買 Marumi 的 CPL (偏光鏡)，為什麼要到日本買呢，因為 Marumi 是日本品牌在日本買便宜非常非常多！另外一個就是因為價位便宜可以直接攻頂 /0_0\，我要買的是 <a href="http://www.biccamera.com/bc/disp/CSfGoodsPage_001.jsp?GOODS_NO=1978596" target="_blank" rel="external">MARUMI EXUS CPL 46mm</a> 這個在臺灣賣 3150 跟一個 <a href="http://www.biccamera.com/bc/disp/CSfGoodsPage_001.jsp?GOODS_NO=1978598" target="_blank" rel="external">62mm</a> 這個售價是 4590，換句話說在臺灣買的話我至少要花八千啊啊啊～但是在日本原本價錢就低，加上日幣便宜、BicCamera 的 8% 免稅 + 7% off 折價券，根本是 3C 敗家天堂 QQ，可惜我 m43 頂級鏡頭都不小心湊齊了…不然來日本買至少省兩三萬有 XD 直接說最後的入手價好了：兩片 CPL 合計日幣 17344，換成臺幣大概只有 4600，直接省了 40% 以上啊，可怕誒！對了BicCamera 都有會說中文的大陸人，語言基本上也不是問題，不過其實也沒有要說什麼就是，我一開始也是找一個店員拿圖片給他，問 これはどこですが  然後他就會帶你去了，結賬時才知道有會說中文的人。</p>
<p><img src="https://lh6.googleusercontent.com/-wNdAKhXCrDo/VSXY1KP807I/AAAAAAAASRM/vgNg-_rJPWk/w1024-no/P4015261.jpg" alt="Marumi EXUS C.P.L."></p>
<h3 id="目黑川夜櫻">目黑川夜櫻</h3><p>因為第一天到日本也不算早了，所以晚上只有排一個看夜櫻的行程，目黑川在中目黑站，直接搭東京 Metro 日比谷(Hibiya) Line 就可以到了。下車站後依照 Google Map 就可以走到目黑川了，一到就會看到一整排依河而生的櫻花，美！</p>
<p><img src="https://lh4.googleusercontent.com/-8U-874vq-sE/VSXYq3fMlgI/AAAAAAAASRM/8fO8U-DEjFE/w1024-no/P4015217.jpg" alt="目黑川夜櫻"></p>
<p><img src="https://lh4.googleusercontent.com/-XFLEMTUHnA8/VT7xwxS_l-I/AAAAAAAASxY/h6npiV3oOIQ/w1024-no/DSC03926.jpg" alt="目黑川夜櫻2"></p>
<p>出賣一下我妹 XD</p>
<p><img src="https://lh4.googleusercontent.com/-Uuz0a5AY0-w/VSXYoWQf_ZI/AAAAAAAASRM/Mp4WMfw9wkI/w1024-no/P4015208.jpg" alt=""></p>
<p>目黑川這裡拍夜櫻其實有點難，因為他沒有打燈，只有燈籠跟靠周邊的環境光，其實還蠻暗的，那附近算是住宿區，因此要不就是拉高 ISO，要不就是放大光圈放慢快門，前者畫質下降，後者景深會變小，如果可以帶腳架也許是不錯的選擇，不過去日本玩帶腳架是有點誇張了，總之蠻考驗拍照的功力，夜櫻也可以考慮去千鳥淵，同學隔天還去那邊賞夜櫻。</p>
<h3 id="六歌仙">六歌仙</h3><p><img src="https://lh6.googleusercontent.com/-N1_I30E35vc/VSXY0WGzK-I/AAAAAAAASRM/yl7UDIfEYWU/h400-no/P4015256.jpg" alt="六歌仙入口"></p>
<p><a href="http://www.rokkasen.co.jp/" target="_blank" rel="external">六歌仙</a> 超多人推薦必吃的店，同學在一個禮拜多前就請日本友人打電話來預約，結果還是只有排到 21:45 分的，店內就有時間板子，沒預約的話現場要等到到 23:00，生意真的是很好。</p>
<p><img src="https://lh6.googleusercontent.com/-DowsjRfZYkw/VSXYsoviR2I/AAAAAAAASRM/7EDXxySUNQY/w1024-no/P4015230.jpg" alt=""></p>
<p>我們四人被安排在一個小包箱，然後我忘記拍菜單了 XDD，可以跟他要中文的菜單，點菜別擔心，直接報號碼跟份數給服務生就好。</p>
<p><img src="https://lh4.googleusercontent.com/-yOVCMPAiMzE/VSXYtoPpdjI/AAAAAAAASRM/6B6Bib0Q75E/h400-no/P4015231.jpg" alt=""></p>
<p>我們點基本款吃到飽<a href="http://www.rokkasen.co.jp/cn/contents/tabe.html" target="_blank" rel="external">雪之宴</a>，每個人日幣 6800，真的是要價不菲，可是真的是超級超級好吃的，CP 值超高啊！</p>
<p>一開始他會先上幾個基本盤</p>
<p><img src="https://lh6.googleusercontent.com/-HPt967CDc-I/VSXYt4XdG8I/AAAAAAAASRM/R2oxrsWPFjg/w1024-no/P4015234.jpg" alt=""></p>
<p><img src="https://lh4.googleusercontent.com/-IRGVkAzAZMA/VSXYu0z5ywI/AAAAAAAASRM/y3Ew-zb3gaA/w1024-no/P4015235.jpg" alt=""></p>
<p><img src="https://lh6.googleusercontent.com/-mm1DpEKT-Ak/VSXYwG1l5fI/AAAAAAAASRM/yCQlGubzZIY/w1024-no/P4015238.jpg" alt=""></p>
<p><img src="https://lh6.googleusercontent.com/-iPGJ7QTT-fI/VSXYxpesjKI/AAAAAAAASRM/kltngxmQ-2c/w1024-no/P4015243.jpg" alt=""></p>
<p><img src="https://lh6.googleusercontent.com/-opS6hv2Zsgs/VSXYyH1EJ5I/AAAAAAAASRM/nAm0R1zmoXU/h400-no/P4015245.jpg" alt=""></p>
<p>超好吃der～  T口T  在臺灣還沒吃到這麼好吃的燒肉</p>
<p><img src="https://lh4.googleusercontent.com/-ZC5H7gUtonM/VSXYvbPMpHI/AAAAAAAASRM/ld1p7SoCRaQ/w1024-no/P4015237.jpg" alt=""></p>
<p><img src="https://lh4.googleusercontent.com/-RKCpRkoN5U8/VSXYzkUk66I/AAAAAAAASRM/TXCN0lMZtw4/w1024-no/P4015253.jpg" alt=""></p>
<p>也是有海鮮的</p>
<p><img src="https://lh4.googleusercontent.com/-PWDNAsrA-Fc/VSXYwsCSPsI/AAAAAAAASRM/YWnpfsr3h18/w1024-no/P4015240.jpg" alt=""></p>
<p>河豚… 第一次吃 😨 心態上會覺得蠻可怕的</p>
<p><img src="https://lh4.googleusercontent.com/-t80QDrPQqAg/VSXYyVkofeI/AAAAAAAASRM/LJAzWzDCkp0/w1024-no/P4015248.jpg" alt=""></p>
<p>干貝</p>
<p><img src="https://lh6.googleusercontent.com/-gbj9CzY8aOk/VSXYy_JzHgI/AAAAAAAASRM/PO_jTtWx5Kk/w1024-no/P4015249.jpg" alt=""></p>
<h2 id="4/2_東京賞櫻_-_新宿御苑、上野公園、淺草寺、晴空塔">4/2 東京賞櫻 - 新宿御苑、上野公園、淺草寺、晴空塔</h2><h3 id="新宿御苑">新宿御苑</h3><p>第二天，很幸運的是個好天氣加上前後這幾天是櫻花滿開的日子！原本行前我跟同學是想把看櫻花放在最後一天今年不知道為什麼滿開日比較晚在四月初，不過看氣象預報 4/3 之後都是下雨天，聽說日本氣象廳一向都很準，所以行前決定第二天就殺去看櫻花，最後一天變成採購。</p>
<p><img src="https://lh6.googleusercontent.com/-gWR8vS5nBpo/VSXY2nanOgI/AAAAAAAASRM/aXEsJ20dKd0/h400-no/P4025266.jpg" alt="新宿御苑正門"></p>
<p>新宿御苑進去要收費，每個人 200 日幣。</p>
<p>裡面也是有新人在拍婚紗的</p>
<p><img src="https://lh4.googleusercontent.com/-XK9thdsEsTw/VT7x0Nl7KjI/AAAAAAAASxY/tqoTvCYgj9E/w1024-no/DSC03984.jpg" alt=""></p>
<p>一堆櫻花樹滿開真的很壯觀</p>
<p><img src="https://lh4.googleusercontent.com/-gLC_S8C0PqE/VSXZAv5GBWI/AAAAAAAASRM/GJpCG9x3Cdg/w1024-no/P4025337.jpg" alt=""></p>
<p><img src="https://lh6.googleusercontent.com/-K2BjiuuIg2k/VSXZBxHHqzI/AAAAAAAASRM/6lG5ncxEpUo/w1024-no/P4025343.jpg" alt=""></p>
<p><img src="https://lh4.googleusercontent.com/-7ZNNIep4bHE/VSXZD_RKx8I/AAAAAAAASRM/AM1pQ0CMPK8/h400-no/P4025348.jpg" alt=""></p>
<p><img src="https://lh4.googleusercontent.com/-P_kT0vJP-DQ/VSXY9UD65tI/AAAAAAAASRM/AmtL6hfNL4M/w1024-no/P4025302.jpg" alt=""></p>
<h3 id="上野公園_&amp;_宇奈とと">上野公園 &amp; 宇奈とと</h3><p>在新宿御苑待了大概一個早上，中午決定到上野公園附近吃有名的宇奈とと，是鰻魚飯專賣店，這樣一碗日幣 1000。</p>
<p><img src="https://lh6.googleusercontent.com/-xHv5YUbDzv4/VSXZJQm02NI/AAAAAAAASRM/YOm2Jmg9iaw/w1024-no/P4025365.jpg" alt=""></p>
<p>同學還點了一杯啤酒，頗有日本人的味道?</p>
<p><img src="https://lh5.googleusercontent.com/ULZ_j4HdlOExPNyoU7S5yRK57vvH2rAJDnXx6PGlvomb=w1024-no" alt=""></p>
<p>吃完飯後我們就去上野公園了。這裡的櫻花更密！</p>
<p><img src="https://lh4.googleusercontent.com/-1w4hbaHmAWQ/VSXZS602zII/AAAAAAAASRM/Cho0Izgz1VI/w1024-no/P4025393.jpg" alt=""></p>
<p><img src="https://lh6.googleusercontent.com/-zdHkg8ZTCkA/VSXZUlkFh0I/AAAAAAAASRM/FalclsP_6as/w1024-no/P4025398.jpg" alt=""></p>
<p>櫻桃小丸子會看到的情節，一群上班族在櫻花樹下喝酒作樂</p>
<p><img src="https://lh6.googleusercontent.com/-aYbeZsWR73M/VSXZMnVuZcI/AAAAAAAASRM/puRy5CACZx0/w1024-no/P4025374.jpg" alt=""></p>
<p>上野公園內也有星巴克，可以喝個咖啡休息一下在離開</p>
<p><img src="https://lh6.googleusercontent.com/-dKirTBDHKa8/VSXZXOU4VZI/AAAAAAAASRM/hywzZVx3Jew/w1024-no/P4025408.jpg" alt=""></p>
<p>離開上野公園也可以到阿美橫丁逛逛，就是一個類似西門町的地方，有賣衣服的、鞋子之類的，也有 RedWing 的店不過不見得比較便宜 XD，可以來逛看看。</p>
<p><img src="https://lh6.googleusercontent.com/-eu193LK1y88/VSXZZkJiHXI/AAAAAAAASRM/x9tnZjw0UvU/w1024-no/P4025428.jpg" alt=""></p>
<h3 id="うさぎや兔屋銅鑼燒">うさぎや兔屋銅鑼燒</h3><p>隨後我們來到了也是在上野的兔屋銅鑼燒，也是非常有名的老店。</p>
<p><img src="https://lh6.googleusercontent.com/-fn-fI6xuiH8/VSXZajdeqSI/AAAAAAAASRM/DqB9yoOsMQY/w1024-no/P4025435.jpg" alt=""></p>
<p>紅豆銅鑼燒😍</p>
<p><img src="https://lh4.googleusercontent.com/-Yqhyxx5UtPA/VT7yACaEuXI/AAAAAAAASxY/EJr_rduYK1A/w1024-no/DSC04097.jpg" alt=""></p>
<h3 id="淺草寺">淺草寺</h3><p>離開上野，後我跟我同學就在分開走晚上的行程，他要去千鳥淵看夜櫻，我跟我妹則是往晴空塔 Skytree 的方向前進，基本上跟着 Google Map 一切就都沒問題了… 除了…搞錯月臺，我跟我妹以為月臺都互通的，所以看到車站就直接衝進去，結果竟然沒互通 XDD，所以只好去找站務員跟他說我走錯月臺了，講英文的可通，就領了一張如下的紙，到正確的月臺給另一個站務員就好了，他們一定很常遇到，哪有月臺不互通的啊 XDD</p>
<p><img src="https://lh4.googleusercontent.com/-qXOVt2BT6Sw/VSXZbUzHoGI/AAAAAAAASRM/bMc2GXQzAvo/w1024-no/P4025438.jpg" alt=""></p>
<p>總之還是順利的到達了淺草捷運站了</p>
<p><img src="https://lh6.googleusercontent.com/-VnonyfjATd8/VSXZbsI44BI/AAAAAAAASRM/8Lhxv7jBPig/w1024-no/P4025439.jpg" alt=""></p>
<p>雷門！<br><img src="https://lh4.googleusercontent.com/-RXjz1EYS4b8/VSXZc-pc4YI/AAAAAAAASRM/lcX8t5nMJOY/w1024-no/P4025443.jpg" alt="再度出賣我妹"></p>
<p>淺草寺也都是櫻花</p>
<p><img src="https://lh6.googleusercontent.com/-7pWi0lQK73c/VSXZfzG9EqI/AAAAAAAASRM/dYxM_DbnF3g/w1024-no/P4025453.jpg" alt=""></p>
<p>最後面的本堂(觀音堂)</p>
<p><img src="https://lh6.googleusercontent.com/-he0erriBsYU/VSXZlpA-X6I/AAAAAAAASRM/FyY0XGLaz3o/w1024-no/P4025479.jpg" alt="淺草寺本堂"></p>
<p>本堂旁邊有外國小女孩穿和服與大家拍照</p>
<p><img src="https://lh6.googleusercontent.com/-pdS_HpzeVYE/VSXZmg-ux3I/AAAAAAAASRM/3lBlsVhP1G0/h400-no/P4025482.jpg" alt=""></p>
<p>本堂旁邊的五重塔</p>
<p><img src="https://lh4.googleusercontent.com/-n-5wrTe8yDI/VSXZlAjwtrI/AAAAAAAASRM/wqmdr7duovg/h400-no/P4025472.jpg" alt="淺草寺五重塔"></p>
<h3 id="葵丸進">葵丸進</h3><p>逛完淺草寺跟附近的商家(附近有些藥妝店可逛)後大約就是晚餐時間了，想說吃完飯在去晴空塔，同學推薦這家<a href="http://www.aoi-marushin.co.jp/top.html" target="_blank" rel="external">葵丸進</a></p>
<p><img src="https://lh4.googleusercontent.com/-UyE8BmhVKE0/VSXZr4xy5nI/AAAAAAAASRM/IwZGxyIMfOo/w1024-no/P4025500.jpg" alt="葵丸進"></p>
<p>一樣有中文菜單 @@”</p>
<p><img src="https://lh4.googleusercontent.com/-w6Svzoulncc/VSXZo2zL0II/AAAAAAAASRM/pBM08Yi1B00/w1024-no/P4025492.jpg" alt=""></p>
<p>我妹點的蝦天丼，日幣1800</p>
<p><img src="https://lh6.googleusercontent.com/-EIQ0iZdsuuM/VSXZrU2ejzI/AAAAAAAASRM/GnOJLv4JEog/w1024-no/P4025497.jpg" alt="蝦天丼"></p>
<p>我點的特上丼，日幣2580</p>
<p><img src="https://lh4.googleusercontent.com/-rjpCsKagdTA/VSXZrO_peHI/AAAAAAAASRM/GZMGt8ldHiE/w1024-no/P4025496.jpg" alt="特上丼"></p>
<p>因為上來前就已經淋醬汁了，實在有點鹹，而且軟軟的，味道是很美味不錯，不過不是脆脆的就覺得怪怪的，可能臺灣的天婦羅比較不道地 XD，總之也是好吃的一餐！</p>
<h3 id="Skytree">Skytree</h3><p>吃完飯後坐地鐵就可以來到晴空塔啦，本來是我妹想要上去，不過…排隊買票的人超多的 = = 早知道就要先預約了 0rz… 所以其實最後也沒上去，要去看夜景的記得<a href="http://www.tokyo-skytree.jp/cn_t/reservation/" target="_blank" rel="external">先預約買票</a>，都在裡面逛街 XDD 不過裡面就很好逛了，日本百貨公司都九點就關了，我們也沒什麼時間逛</p>
<p><img src="https://lh6.googleusercontent.com/-xMJtk6EV6jk/VSXZtim3VgI/AAAAAAAASRM/79j38ySGYv4/h400-no/P4025507.jpg" alt=""></p>
<p>裡面有龍貓專賣店跟拉拉熊</p>
<p><img src="https://lh4.googleusercontent.com/-ZOJr70vhANg/VSXZwOSp5fI/AAAAAAAASRM/zXs2CmFSeUU/h400-no/P4025515.jpg" alt=""></p>
<p><img src="https://lh4.googleusercontent.com/-8nzubkuuFHI/VSXZxMNdzVI/AAAAAAAASRM/_He0PlzkQp4/h400-no/P4025520.jpg" alt=""></p>
<p>還有免不了的櫻花 XDD 櫻花季來日本不看到櫻花實在太難了</p>
<p><img src="https://lh4.googleusercontent.com/-gojw7x_ci2s/VSXZyXouZ6I/AAAAAAAASRM/hPsw_EJ8gyc/h400-no/P4025522.jpg" alt=""></p>
<p>逛完之後就繼續坐着地鐵回到新宿了，從東口走到格蘭貝爾會經過一個小神社 - 花園神社，裡面種着白櫻花，結束日本行第二天～</p>
<p><img src="https://lh4.googleusercontent.com/-5G_wY4IgV98/VSXZyiB504I/AAAAAAAASRM/hgb33IGTZEM/w1024-no/P4025524.jpg" alt=""></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>第一次到日本玩，因為是跟高中死黨和他女友一起去，他很熟日本，所以我們一行四人(加我妹)就選擇自助，這次旅行的地點主要在東京 &amp; 箱根，一共六天五夜，是大多數到日本玩的旅客都會走的路線。時間是 4/1 ~ 4/6，也就是端午節假期，請兩天玩六天。</p>
<p><img src="https://lh3.googleusercontent.com/hd3xY_bIZXWC4kSoZwEXqGhzmNG2AyPE6n1gtc-L_4nD=w828-h621-no" alt="新宿御苑櫻花美景"></p>]]>
    
    </summary>
    
      <category term="日本" scheme="http://blog.littlero.se/tags/%E6%97%A5%E6%9C%AC/"/>
    
      <category term="遊記" scheme="http://blog.littlero.se/categories/%E9%81%8A%E8%A8%98/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Walt Disney World Resort in Orlando, Florida]]></title>
    <link href="http://blog.littlero.se/post/Walt-Disney-World-Resort-in-Orlando-Florida/"/>
    <id>http://blog.littlero.se/post/Walt-Disney-World-Resort-in-Orlando-Florida/</id>
    <published>2015-03-14T13:02:38.000Z</published>
    <updated>2015-05-04T08:56:13.000Z</updated>
    <content type="html"><![CDATA[<p>續<a href="/post/USwest-canyon/">上篇</a>，延續美西行之後，大家各自散會後，我就一個人獨自踏上往東岸的旅程，因為我要參加的 <a href="http://susecon.com/" target="_blank" rel="external">SUSEcon 14</a> 是在奧蘭多舉辦。</p>
<h2 id="洛杉磯-奧蘭多">洛杉磯-奧蘭多</h2><p>因為是美國本土的飛機，所以在不是在洛杉磯機場的國際航廈，我是坐<a href="https://zt.delta.com/" target="_blank" rel="external">達美航空</a>，我覺得達美航空網站還不錯有繁體中文，而且他的 App 做得也很好，還有行李的運輸進度，達美在洛杉磯是第五航廈，所以跟同伴分開後我就從國際航廈走到第五航廈(中間跨了第四航廈，不過走路也不到十分鐘而已還蠻近的)，首先是要 check-in，結果走到第五航廈有點嚇到，因為沒有櫃檯是 check-in 的，只有量行李重量託運的櫃檯 = =”，繞了一下發現原來都是自助的(後來發現達美有開櫃檯 check-in，大概是中午休息時間?!)，不過這樣也好，自助就不會被問一堆英文了。</p>
<p><img src="https://lh5.googleusercontent.com/-HkzyWauFHds/VHk8i-AVlEI/AAAAAAAAOE8/RHSOuyf_sKk/w640-no/PB163199.jpg" alt="達美 kiosk"></p>
<a id="more"></a>
<p>他的自助機一樣也有中文界面可以選，所以都可以很安心的點，包含行李有幾件也都照機台上面的指示做即可。</p>
<p><img src="https://lh4.googleusercontent.com/-ky9jG43IrOo/VHk8inihuJI/AAAAAAAAOE0/Y9kMT7yBExc/w640-no/PB163198.jpg" alt="最後步驟印單子"></p>
<p>不過因為我的班機是晚上九點四十三的，但是同學回台灣的班機是下午兩點的，所以其實我們差不多中午十二點就回到洛杉磯了，中間還差了九小時，所以我在台灣的時候就先辦了<a href="http://www.prioritypass.com.tw" target="_blank" rel="external">新貴通的 Priority Pass</a>，準備進去第五、六航廈的貴賓室，這中間有考慮的點是洛杉磯第五航廈的貴賓室沒有淋浴間，只有國際航廈才有淋浴間(國際航廈的貴賓室是長榮的，Holy Eva Air!)，本來我是想說休息時就順便洗澡，不過想想還是算了，因為如果我進去國際航廈的貴賓室等於我要安檢兩次(進去國際航廈、出來、再進去第五航廈)，走來走去跟排安檢太浪費時間了，所以我最後還是放棄了，直接進去第五航廈好了。</p>
<p>結果在海關安全檢查時發生一件小插曲，就是我第一次過美國國內的安檢，不知道他們檢查的這麼嚴格，我只是把筆電跟平板還有手機擺在同一個托盤裡面，結果就被海關攔下來檢查筆電(似乎是做硝煙測試) = =，然後那個外國人海關還一直說奇怪的中文，聽不太懂，都想叫他直接說英文好了，不過檢查完沒事就跟他說 byebye 了。這裡過的就是新的 X-光機 會照出全身的那種 &gt; /// &lt;</p>
<p>進入免稅區之後其實國內線沒什麼可以逛的，就一些綜合商店賣水賣書之類的那種，我逛了一下就直接進去他們的貴賓室了，進去時出示機票跟 Priority Pass 的卡片，然後他會要你簽名，就可以進去了，這裡我怕打擾人所以沒拍照，不過基本上就是食物、飲料(除了酒)都免費的，進去之後也有沙發跟桌子可以用，還有墊腳的沙發，讚，座位也都有插座可以充電，我就很悠哉的一直吃吃喝喝，連晚餐都省了囧。</p>
<p>美國國內線似乎都是小飛機，飛到奧蘭多的是<a href="http://zh.wikipedia.org/wiki/%E6%B3%A2%E9%9F%B3737#737-900" target="_blank" rel="external">波音 737-900</a>，<a href="http://zh.wikipedia.org/wiki/%E7%BF%BC%E5%B0%96%E5%B0%8F%E7%BF%BC" target="_blank" rel="external">翼尖小翼</a>變成在夜晚看的到的最大特徵。</p>
<p><img src="https://lh6.googleusercontent.com/-UkSxs3HjT2E/VHk8isyLwII/AAAAAAAAOEw/KsFmnaIbjdw/w640-no/PB163201.jpg" alt="夜間的翼尖小翼"></p>
<p>因為這班是紅眼班機，洛杉磯是十點半離開，到奧蘭多要飛四小時，加上西岸飛東岸加時差三小時，到奧蘭多已經早上五點四十了，真的會累。不過一下機場看到奧蘭多機場也蠻大蠻漂亮的，而且終於抵達了瞬間覺得精神都來了，下飛機後要先坐捷運才會到機場本身領行李。</p>
<p><img src="https://lh6.googleusercontent.com/-wOjB3fM5r6g/VHk8pesQxuI/AAAAAAAAOFM/sVoH5rOxx3s/w640-no/PB163205.jpg" alt="奧蘭多機場捷運"></p>
<p><img src="https://lh3.googleusercontent.com/-Hfn3IdT5A7E/VHk8rEwqfeI/AAAAAAAAOFU/H4ytr9q29Pw/w640-no/PB163204.jpg" alt="奧蘭多機場"></p>
<p><img src="https://lh3.googleusercontent.com/-t_PDQmK-L1w/VHk8vvtopGI/AAAAAAAAOFs/AldOFIzEDpE/w640-no/PB163206.jpg" alt="奧蘭多機場"></p>
<h2 id="交通">交通</h2><p>這次在奧蘭多六天都要住在 <a href="http://grandcypress.hyatt.com/en/hotel/home.html" target="_blank" rel="external">HYATT REGENCY Grand Cypress</a> 裡面，因為 SUSEcon 跟他們有談優惠，每晚 149 美金(未稅)，以四星級跟迪士尼樂園隔壁的飯店來說這種價格真的是經濟實惠了，不過交通變成是最大的問題，因為如果是住迪士尼樂園的飯店在機場就會有接駁車，而且奧蘭多的大眾運輸其實不是很發達，所以從機場到這家飯店比較麻煩。有幾種選擇可以用，第一種是最簡單但是最貴的就是坐計程車，單程大概 45 美金，另外一種選擇是坐公車，不過這個要轉來轉去的拖著行李有點麻煩，或者選擇只有 Orlando 才有的 <a href="http://mearstransportation.com/" target="_blank" rel="external">Mears</a> ，點 <a href="https://secure.mearstransportation.com/Shuttles/Default.aspx" target="_blank" rel="external">Mears Shuttle</a> 就可以預約他們的 Shuttle Bus 了，這種 Bus 是類似共乘的機制，他會來回各大奧蘭多的飯店跟機場，所以剛好他有到我住的君悅飯店我就直接預約來回了，價格很便宜我記得來回才 34 美金，不過因為我是坐 RedEye flight 所以到奧蘭多當地是早上五點多(快累壞了 = =)，櫃檯都還沒開，又是一台 Kiosk，直接掃描網站預約並付款後單子上的條碼就可以了。</p>
<p><img src="https://lh5.googleusercontent.com/-Ngt_7cl49wc/VHk8vPlgsCI/AAAAAAAAOFo/j9gcYs6avSk/w640-no/PB163208.jpg" alt="Kiosk"></p>
<p>會印出 Receipt 跟 boarding pass，上車時把 boarding pass 給司機就好了。</p>
<p><img src="https://lh5.googleusercontent.com/-lnVXd3A522Q/VHk8yIzIuuI/AAAAAAAAOF0/00ZzYnp4cLs/w640-no/PB163209.jpg" alt="Mears Receipt"></p>
<p>走到指定的上車地點就可以看到司機大哥啦。</p>
<p><img src="https://lh6.googleusercontent.com/-Tu9K2hmP_mo/VHk83JKdeLI/AAAAAAAAOGM/HWk4eF6RPe4/w640-no/PB163210.jpg" alt="Mears Shuttle"></p>
<p>前面說是共乘，幸好是一大早，所以我這台車司機只有另外繞了一個方向去接另一組客人到迪士尼樂園未來世界(Epcot)，但是到飯店也一小時之後了。</p>
<p><img src="https://lh3.googleusercontent.com/-mH7989RIGPY/VHk82FAs4HI/AAAAAAAAOF8/X5DEounq5Iw/w600-no/PB163211.jpg" alt="GRAND CYPRESS 門口"></p>
<p>Chech-in 之後拿到的房卡，有 SUSEcon 特製的房卡，還蠻不錯的。</p>
<p><img src="https://lh6.googleusercontent.com/-ABCFSq3Wcsk/VHk83KYd1gI/AAAAAAAAOGI/QwQ197sON0w/w640-no/PB163212.jpg" alt="房卡"></p>
<p>我的房間在九樓 view 還不錯！</p>
<p><img src="https://lh4.googleusercontent.com/-pfWmX3dTO0w/VHk89YbqKpI/AAAAAAAAOGY/NZ74txh86fY/w640-no/PB163213.jpg" alt=""></p>
<p><img src="https://lh6.googleusercontent.com/-IceaguHynfc/VHk894oipGI/AAAAAAAAOGg/rQo5w8KqKtE/w640-no/PB163215.jpg" alt="飯店內部"></p>
<p>到達飯店 check in 後約莫八點了，因為沒有在機場洗澡，所以進房後就先梳洗一番，房間是雙人房的(所以 149 美金真的很便宜！)，超級大的。</p>
<p><img src="https://lh6.googleusercontent.com/-jS0STTXvufc/VQRUDkJEQuI/AAAAAAAAQ30/WcIBv9nnbBA/w640-no/IMG_3488.JPG" alt="房間 1"></p>
<p>浴室是乾濕分離的，廁所也是分開的，很不錯。</p>
<p><img src="https://lh3.googleusercontent.com/-PUfXNX4R98s/VQRUDmfR31I/AAAAAAAAQ38/XmIjRpIqbXs/w640-no/IMG_3489.JPG" alt="浴室 1"></p>
<p>梳洗完之後就直接在飯店內買了早餐吃。</p>
<p><img src="https://lh4.googleusercontent.com/-U-X2drTkVvE/VQRUDVVHJ1I/AAAAAAAAQ3w/8Xep18jh1SU/w1432-h1074-no/IMG_3490.JPG" alt="第一天早餐"></p>
<p>吃完之後就準備去迪士尼樂園啦，Hyatt 有提供<a href="http://grandcypress.hyatt.com/en/hotel/our-hotel/transportation.html" target="_blank" rel="external">免費的接送服務</a>，不過要先去跟他們大廳的門房預約，理論上應該都會有位置，因為我坐了兩天的接駁車車上人都不多，五六位而已。</p>
<h2 id="奧蘭多迪士尼樂園門票_&amp;_FastPass+">奧蘭多迪士尼樂園門票 &amp; FastPass+</h2><p>先來說說迪士尼樂園的門票問題，迪士尼樂園門票實在是不便宜，要便宜的進去迪士尼我查了 PTT 後有幾種做法，第一種是找認識的迪士尼員工帶你進去[免費]，好，我沒有認識的…，第二種是找住在奧蘭多的居民幫買票，因為當地有優惠，但是聽說現在抓的比較嚴格需要住奧蘭多的證明，所以結論就是乖乖買官方票好了，買官方票又有兩種選擇，一種是在<a href="https://disneyworld.disney.go.com/tickets/" target="_blank" rel="external">官方網站買</a>，另外一種是到現場買，我是比較推薦直接在網路買啦，一來是不用現場說英文(還是很怕交談的意思 XD)，另外一個理由是奧蘭多迪士尼是用 FastPass+，直接在網站或 App 就可以預約 FastPass+，跟傳統的 FastPass 需要衝去抽票不一樣，所以早點預約也比較好規劃怎麼跑點嘍~</p>
<p>迪士尼的票分單日、多日，然後可選的有 Base Ticket、Park Hopper(單日可跳園區玩)、Water Park Fun(可去水上樂園)、Park Hopper + Water  Park 四種，像我主要是玩 15 &amp; 16 兩天，然後每天都只玩一個園區不跳園，所以就是買兩日+Base Ticket，共 188 美金，然後我去的時候因為剛好接近聖誕節(明明就還有一個多月…)，迪士尼樂園晚上有個叫 <a href="https://disneyworld.disney.go.com/events-tours/magic-kingdom/mickeys-very-merry-christmas-party/" target="_blank" rel="external">Mickey’s Very Merry Christmas Party</a> 但是是另外售票的…，不過其實可以不買文章後面會說明，所以小弟也不爭氣的買了 Q_Q，票價 67 美金，最後結賬時含稅共 271.58 美金(奧蘭多稅 6.5% ，16.58元)，實在是有點可怕…，結賬後就會收到一封 Email 啦，附件有張 PDF 上面有條碼，印出來備用，到時候到櫃檯就拿著護照、刷的信用卡跟這張條碼去領票就好啦。買完票之後就可以到<a href="https://disneyworld.disney.go.com/fastpass-plus/" target="_blank" rel="external">這個網頁</a>先預約你在當日的 FastPass+ 啦~</p>
<h2 id="魔法王國">魔法王國</h2><p><img src="https://lh6.googleusercontent.com/-LzXU030bQy4/VHk9B84GdXI/AAAAAAAAOGs/bVx4Zht3jS8/w1430-h1072-no/PB163218.jpg" alt="迪士尼售票口"></p>
<p>換到的門票是米妮的！</p>
<p><img src="https://lh4.googleusercontent.com/-4qZTbKqrM8Q/VHk9DducMtI/AAAAAAAAOG4/VQNqaLehWsc/w804-h1072-no/PB173220.jpg" alt="迪士尼門票"></p>
<p>我的規劃是第一天去魔法王國(Magic Kingdom)，第二天去動物王國(Animal Kingdom)，奧蘭多迪士尼很有趣的地方是因為他那邊有四大王國：魔法、動物、Epcot(未來世界)、好萊塢跟兩大水上世界，是全世界最大的迪士尼，然後來往各園區的交通都在魔法王國入口處旁邊會看到接駁的公車，從售票處到魔法王國的交通非常有趣，可以選擇坐船或者坐捷運進入魔法王國！！可能是奧蘭多天生湖泊就很多的關係。如果是選擇坐捷運中間會經過他們的飯店，也有一些迪士尼裝潢可以看。</p>
<p>往魔法王國交通船入口</p>
<p><img src="https://lh5.googleusercontent.com/-HyKgf9DK-BE/VHk9Fxi5UlI/AAAAAAAAOHE/dFJ8USqS06U/w640-no/PB173222.jpg" alt="魔法王國交通船入口"></p>
<p>往魔法王國單軌電車入口</p>
<p><img src="https://lh5.googleusercontent.com/-IB7HVycjcDc/VHk9Dlg2DjI/AAAAAAAAOG8/oCXoopQiyc4/w640-no/PB173221.jpg" alt="魔法王國單軌電車入口"></p>
<p>既然有船坐，當然就是要坐船啦！！遠遠的就可以看到招牌城堡啦。</p>
<p><img src="https://lh4.googleusercontent.com/-TQ5woZsViTk/VHk9I7mMyII/AAAAAAAAOHQ/Jf0xfzvzuCA/w640-no/PB173225.jpg" alt="湖上"></p>
<p>當天天氣好得不得了…大家都短袖，我還穿厚外套出門欸(想說會待到晚上，而且是十一月半啊，奧蘭多緯度還是比台灣高很多啊，外國人超猛)，</p>
<p><img src="https://lh6.googleusercontent.com/-15WPf70c0vQ/VHk9P6o-zMI/AAAAAAAAOHk/iASDxQd8Gmw/w640-no/PB173230.jpg" alt=""></p>
<p>米老鼠與華特迪士尼先生</p>
<p><img src="https://lh5.googleusercontent.com/-L4fKDLpE9pY/VHk9hLYujSI/AAAAAAAAOIc/Q2fZhVlDgPA/w804-h1072-no/PB173247.jpg" alt="米老鼠與華特迪士尼先生"></p>
<h3 id="分區">分區</h3><p>奧蘭多迪士尼魔法王國一共有六個區塊，分別是美國大街 (Main Street, U.S.A.)、冒險世界(Adventureland)、拓荒(Frontierland)、自由廣場(Liberty Square)、夢幻世界(Fantasyland)、明日世界(Tomorrowland)。以圓的方式繞一圈排列，最中央就是城堡。</p>
<h3 id="城堡表演">城堡表演</h3><p>一進去時剛好看到城堡前的表演</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/MuTo82zfUvY" frameborder="0" allowfullscreen></iframe></div>
<h3 id="中午遊行_Move_It!_Shake_It!_Dance_&amp;_Play_It!_Street_Party">中午遊行 Move It! Shake It! Dance &amp; Play It! Street Party</h3><p>然後緊接著中午有 <a href="https://disneyworld.disney.go.com/entertainment/magic-kingdom/move-it-shake-it-dance-play-it/" target="_blank" rel="external">大遊行 Move It! Shake It! Dance &amp; Play It! Street Party</a> 啦。</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/pnqoEJFtWts" frameborder="0" allowfullscreen></iframe></div>
<div class="video-container"><iframe src="//www.youtube.com/embed/snTPS5BTnec" frameborder="0" allowfullscreen></iframe></div>
<p><img src="https://lh3.googleusercontent.com/-8-fImAZSHSw/VHk9k08vHDI/AAAAAAAAOIk/BGVy_GMkJXs/w640-no/PB173251.jpg" alt=""></p>
<p><img src="https://lh4.googleusercontent.com/-os4Q0tfmvlM/VHk9pFfnqLI/AAAAAAAAOIs/4RtsmTOgh0U/w640-no/PB173258.jpg" alt=""></p>
<p><img src="https://lh4.googleusercontent.com/-sAmRwp_8yeU/VHk-XbEK3GI/AAAAAAAAOLY/Hp_cCgy4l-s/w640-no/PB173300.jpg" alt=""></p>
<p><img src="https://lh6.googleusercontent.com/-b1AqmqslGvw/VHk-cRkE_HI/AAAAAAAAOL0/OcnoUDC51R4/w640-no/PB173307.jpg" alt=""></p>
<p>額，其實有人問我自己一個人玩迪士尼會不會無聊，其實我覺得是還好啦，一個人比較自由想排什麼 FastPass 就自己安排，而且國外小孩子都很 High (坐遊樂器時)，加上迪士尼如果你是自己一個他通常不會安排別人跟你一起坐同一排，所以其實還好。我倒是看了很多遊行，然後中間穿插遊樂設施。</p>
<h3 id="Space_Mountain、_Splash_Mountains、Big_Thunder_Mountain_Railroads">Space Mountain、 Splash Mountains、Big Thunder Mountain Railroads</h3><p>奧蘭多迪士尼有三大必坐的過山車遊戲，分別是 Space Mountain、 Splash Mountains、Big Thunder Mountain Railroads， Space Mountain 就是在烏漆麻黑的空間的雲霄飛車，速度感很快！大概是裡面最可怕的一個；然後 Splash Mountains 就是類似六福村的火山歷險，會有水濺起來，因為六福村有了這個我就沒坐了 :P；另一個就是 Big Thunder Mountain Railroads 這個是類似礦坑雲霄飛車也是很刺激！</p>
<p>其中 Splash Mountains、Big Thunder Mountain Railroads 都在 Frontierland，Space Mountain 在 Tomorrowland。</p>
<h3 id="Disney_Festival_of_Fantasy_Parade">Disney Festival of Fantasy Parade</h3><p>下午 Magic Kingdom 又有另一個<a href="https://disneyworld.disney.go.com/entertainment/magic-kingdom/festival-fantasy-parade/" target="_blank" rel="external">遊行 Disney Festival of Fantasy Parade</a>，一樣在美國大街找個位置吧~</p>
<p>遊行影片</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/-zTLBThvBLU" frameborder="0" allowfullscreen></iframe></div>
<p>貼心的迪士尼有身障優先，我在迪士尼樂園發現很多阿公阿婆都坐代步車玩，可見迪士尼對身障人士真的很友善。</p>
<p><img src="https://lh3.googleusercontent.com/-qjTWO0IY-UU/VHk-QD1m1HI/AAAAAAAAOK0/LJI6ubpTgd0/w640-no/PB173292.jpg" alt=""></p>
<p>迪士尼的建築物都很卡通味，不過我分不出來什麼建築是什麼卡通就是。</p>
<p><img src="https://lh4.googleusercontent.com/-8JWYP7k925c/VHk_Cx04XMI/AAAAAAAAOOM/sl7HYkMaAqk/w640-no/PB173336.jpg" alt=""></p>
<p><img src="https://lh5.googleusercontent.com/-adIIHC82c_g/VHk_GiJq1lI/AAAAAAAAOOU/I70q_hVeerw/w640-no/PB173338.jpg" alt=""></p>
<p>偶爾也有一些大街上的表演可以看。不過歌我完全不會歌詞。</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/v09jpdK9n3M" frameborder="0" allowfullscreen></iframe></div>
<h3 id="Mickey’s_Very_Merry_Christmas_Party">Mickey’s Very Merry Christmas Party</h3><p>時間也很快轉眼間就來到晚上了，前面說過迪士尼在接近聖誕節有特殊活動叫 Mickey’s Very Merry Christmas Party，因此到晚上時，有購票的民眾需要重新入場換憑證(手環一個)，不過我後來發現有購票的民眾只是位置比較好(在舞台正前方一大塊)而已 = =，沒購票的還是可以看到一樣的表演跟煙火之類的，只是位置很差在中間廣場的最外圍。這裡還發生一個小插曲是因為他在活動快開始都會廣播，不過聽不太懂，也沒什麼特別留心，結果原來他就是在廣播如果有買票的民眾請重新入園，我是等到有人在驗票才發現要重新入園，幸好還是來得及趕上活動前。</p>
<p><img src="https://lh4.googleusercontent.com/-pJglTN_NOKE/VHk_NxKS4OI/AAAAAAAAOO8/BzDswzRfVOw/w640-no/PB173361.jpg" alt=""></p>
<p>重新入園後會被服務生綁一個手環，這手環的材質類似塑膠的，活動前會有人檢查是否有這個環，沒有的就會被趕出去中間活動區域，結果活動後我要拆還真的不容易拆，連釦環都很緊。</p>
<p><img src="https://lh5.googleusercontent.com/-X3eCmNms9yo/VHk_Ser9D3I/AAAAAAAAOPU/QEJiH4-RVCY/w640-no/PB173362.jpg" alt=""></p>
<p>晚上活動有冰雪奇緣，所以城堡被裝飾的很像結冰的樣子！</p>
<p><img src="https://lh6.googleusercontent.com/-Xli8KROQCBE/VHk_LX58L6I/AAAAAAAAOO0/Nl4d3JuNvCE/w640-no/PB173351.jpg" alt=""></p>
<p>晚上的 Party</p>
<p><img src="https://lh3.googleusercontent.com/-kCqyla_eMYI/VHk_YFpyx2I/AAAAAAAAOPs/TFIIGBTxJ-M/w640-no/PB173376.jpg" alt="晚上的 Party"></p>
<p>基本上晚上我都是全程錄影，不多說直接看影片</p>
<h3 id="晚上活動">晚上活動</h3><h4 id="城堡秀_Frozen">城堡秀 Frozen</h4><div class="video-container"><iframe src="//www.youtube.com/embed/ljGK74bPS0s" frameborder="0" allowfullscreen></iframe></div>
<h4 id="Mickey’s_Very_Merry_Christmas_Party-1">Mickey’s Very Merry Christmas Party</h4><div class="video-container"><iframe src="//www.youtube.com/embed/y6c_l702_c0" frameborder="0" allowfullscreen></iframe></div>
<div class="video-container"><iframe src="//www.youtube.com/embed/lMnzgQt2kIA" frameborder="0" allowfullscreen></iframe></div>
<div class="video-container"><iframe src="//www.youtube.com/embed/8XgDW_8JKH0" frameborder="0" allowfullscreen></iframe></div>
<h4 id="晚上夜間遊行">晚上夜間遊行</h4><p>晚上還有一個夜間遊行</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/koIXeddx2K0" frameborder="0" allowfullscreen></iframe></div>
<h4 id="魔法王國城堡秀">魔法王國城堡秀</h4><div class="video-container"><iframe src="//www.youtube.com/embed/iIobxPHqyLw" frameborder="0" allowfullscreen></iframe></div>
<h4 id="魔法王國閉園煙火">魔法王國閉園煙火</h4><div class="video-container"><iframe src="//www.youtube.com/embed/x1HL9dpaKU8" frameborder="0" allowfullscreen></iframe></div>
<p>奧蘭多迪士尼有兩個園區是每天都一定有煙火的，就是魔法王國跟 Epcot。我住的飯店房間剛好面向這兩個園區，所以每天晚上都可以看到煙火！讚！</p>
<p>放完煙火後離園時美國大街開始下起了人造雪，還蠻漂亮的</p>
<p><img src="https://lh6.googleusercontent.com/-KxRHjUMH_Uw/VHk_e0H1pXI/AAAAAAAAOQM/mmLjgI0th1g/w750-h1000-no/PB173393.jpg" alt="美國大街人造雪"></p>
<h2 id="動物王國">動物王國</h2><p>第二天我規劃的是去動物王國，其實人家說四大樂園都很好玩，不過我對好萊塢比較不熟，然後 Epcot 好像遊樂器材比較多，但是小弟到奧蘭多第三天就開始會議了，真的只有兩天可以玩，所以最後考慮還是來走走看看風景、動物好了，於是跟第一天一樣，先做飯店接駁車到售票處，然後因為第一天坐船，所以今天我選擇做電車。</p>
<p><img src="https://lh5.googleusercontent.com/-cILjwQkpamg/VHk_kBBQ--I/AAAAAAAAOQk/q3x6LftZvWI/w640-no/PB173396.jpg" alt=""></p>
<p>一早人就很多啊…</p>
<p>坐到魔法王國入口處之後就會看到接駁處了，走過去轉公車(免費)，一下子就到了動物王國啦~動物王國是世界上迪士尼樂園最大的樂園。</p>
<p><img src="https://lh3.googleusercontent.com/-i6xj4Qx6q_Q/VHk_jQCFgvI/AAAAAAAAOQc/OPIqEpNBYT4/w640-no/PB173398.jpg" alt=""></p>
<p>入口處</p>
<p><img src="https://lh4.googleusercontent.com/-mWeE24orJEM/VHk_olJNClI/AAAAAAAAOQs/LKihm1L9DW8/w640-no/PB173399.jpg" alt=""></p>
<p>我覺得奧蘭多迪士尼真的很先進啊！在入口處刷了指紋就會亮綠燈表示 OK 就可以進入了，整個電子化的很徹底，不錯不錯。</p>
<p>跟角色唯一的合照 XD</p>
<p><img src="https://lh6.googleusercontent.com/-JWd8B1DBrmY/VHlIHKZMyJI/AAAAAAAAObI/B3m_SdKfH5w/w640-no/animal%2B2.png" alt=""></p>
<h3 id="分區-1">分區</h3><p>動物王國主要就五個區塊：Oasis、Discovery Island、Africa、Asia、DinoLand U.S.A.。Oasis 綠洲區主要就是入口處，後面接著 Discovery Island ；Discovery Island 這裡也是 Tree of Life 坐落點，整個園區的核心，旁邊其他區域都跟 Discovery Island 有橋相通，這裡比較有名的就是 It’s Tough to Be a Bug!，這裡也有園區最大的紀念品店跟兩間餐廳；Africa 這裡最有名的就是獅子王的音樂劇了；Asia 這區比較有名的就是 Maharajah Jungle Trek 有點類似在遺蹟中逛動物園的感覺還有 Flights of Wonder 鳥類表演跟遊樂設施 Expedition Everest；DinoLand U.S.A. 則是恐龍區，展示跟恐龍有關的東西，這裡有 Finding Nemo 音樂劇可以看，跟遊樂設施 DINOSAUR。</p>
<h3 id="The_Tree_of_Life">The Tree of Life</h3><p>一進入園區就可以看到動物王國的招牌 The Tree of Life 啦~ 高 44 公尺，寬 15m 的人造樹，真的很壯觀。</p>
<p><img src="https://lh3.googleusercontent.com/-ZCpKHXoa8-A/VHk_robUPBI/AAAAAAAAOQ0/qEKdnhkncoo/w640-no/PB173401.jpg" alt="生命之樹"></p>
<h3 id="Expedition_Everest">Expedition Everest</h3><p>一進去我就先去坐了 <a href="https://disneyworld.disney.go.com/attractions/animal-kingdom/expedition-everest/" target="_blank" rel="external">Expedition Everest-Legend of the Forbidden Mountain</a> (聖母峰歷險—禁山傳奇)，他是動物王國唯一一個過山車遊戲，所以就先來坐。</p>
<p><img src="https://lh5.googleusercontent.com/-ve0TDLyjcvo/VHk_1w_erDI/AAAAAAAAORU/sRfL3tWP1ik/w640-no/PB173409.jpg" alt=""></p>
<h3 id="Maharajah_Jungle_Trek">Maharajah Jungle Trek</h3><p>因為 Expedition Everest 在亞洲區內，所以坐完之後就先走了一下  Maharajah Jungle Trek </p>
<p><img src="https://lh6.googleusercontent.com/-u52ekwLJA4k/VHlAE-KqAnI/AAAAAAAAOSM/G-7gvi86by4/w640-no/PB173419.jpg" alt=""></p>
<p><img src="https://lh4.googleusercontent.com/-JONzHIGYBiI/VHlAL7GUzFI/AAAAAAAAOSY/iyEdZtzeYeA/w640-no/PB173427.jpg" alt=""></p>
<p>各種奇怪的建築物</p>
<p><img src="https://lh3.googleusercontent.com/-E2ojrxUbhcU/VHlAWcQ2jhI/AAAAAAAAOS4/fyV4GhCCjZg/w640-no/PB173434.jpg" alt=""></p>
<p>叢林裡面鳥就直接在你頭上，近距離接觸</p>
<p><img src="https://lh3.googleusercontent.com/-JtIs97wfp1I/VHlAi_vXZZI/AAAAAAAAOTY/coH6NloQUlQ/w640-no/PB173440.jpg" alt=""></p>
<p>很多種鳥類</p>
<p><img src="https://lh3.googleusercontent.com/-zN1T6xy49lI/VHlAwtNgq6I/AAAAAAAAOUM/CKF-jCALuI0/w640-no/PB173451.jpg" alt=""></p>
<h3 id="DinoLand_U-S-A-">DinoLand U.S.A.</h3><p>走著走著就來到恐龍區了</p>
<p><img src="https://lh3.googleusercontent.com/-vfw0Tpa4jzI/VHlAwK7K-MI/AAAAAAAAOUI/sLLUfuNoo_g/w640-no/PB183452.jpg" alt=""></p>
<p><img src="https://lh3.googleusercontent.com/-JOgKYU64PDE/VHlAwGPWeII/AAAAAAAAOUE/u04-ywjlFEM/w640-no/PB183453.jpg" alt=""></p>
<p>這裡一樣有個遊樂設施可以坐，時光機器，會一直旋轉，就很像把旋轉咖啡杯裝在雲霄飛車上 = =，不會到很暈不過也是一個小變態的遊戲就是。</p>
<p><img src="https://lh3.googleusercontent.com/-u7r-OwK3iDw/VHlA3kFci3I/AAAAAAAAOUc/kgD6zOfpV7U/w640-no/PB183456.jpg" alt=""></p>
<h3 id="DINOSAUR">DINOSAUR</h3><p><a href="https://disneyworld.disney.go.com/attractions/animal-kingdom/dinosaur/" target="_blank" rel="external">DINOSAUR</a> 是一個回到過去看恐龍結果卻失控的故事，反正就是坐車子看恐龍 XD</p>
<p><img src="https://lh5.googleusercontent.com/-bUnY4eMxD8I/VHlA_aAX-UI/AAAAAAAAOU0/1Gzj2okn5LQ/w640-no/PB183459.jpg" alt=""></p>
<p>因為也是重點遊樂項目，所以隊伍很長，展示廳裡面有一些化石，跟 <a href="http://zh.wikipedia.org/wiki/食肉牛龙属" target="_blank" rel="external">CARNOTAURUS 牛龍</a> 的電動化石。</p>
<p><img src="https://lh4.googleusercontent.com/-E4qVNKc14xI/VHlBKwMIYkI/AAAAAAAAOVc/ZOMYeE-tRjY/w640-no/PB183465.jpg" alt=""></p>
<p><img src="https://lh5.googleusercontent.com/-x7o4zasKRBw/VHlBRUSLa8I/AAAAAAAAOV0/_W-Rmi1mhHg/w200-no/PB183469.jpg" alt=""></p>
<p>啊，然後排隊中剛好照到正妹一枚</p>
<p><img src="https://lh3.googleusercontent.com/-qZsT7f9NwQE/VHlBTBzxwFI/AAAAAAAAOV8/negHLoA2O_c/w750-h1000-no/PB183470.jpg" alt="外國正妹一枚"></p>
<h3 id="Festival_of_the_Lion_King">Festival of the Lion King</h3><p>獅子王慶典在非洲區，也是必看的啦。</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/Mo_ZRcLqJu8" frameborder="0" allowfullscreen></iframe></div>
<h3 id="It’s_Tough_to_be_a_Bug">It’s Tough to be a Bug</h3><p><a href="https://disneyworld.disney.go.com/attractions/animal-kingdom/its-tough-to-be-a-bug/" target="_blank" rel="external">It’s Tough to be a Bug</a> 是 3D 的電影，片長不長，還蠻有趣的</p>
<p><img src="https://lh5.googleusercontent.com/-ZzXwRhvb7JY/VHlBgnIyueI/AAAAAAAAOWk/LwjswTKcjvs/w640-no/PB183480.jpg" alt=""></p>
<p>早上本來還出太陽的，結果下午竟然開始下起大雨…看來奧蘭多的氣候跟台灣也差不多啊…</p>
<p><img src="https://lh6.googleusercontent.com/-qMeWhOmOjzk/VHlBlXtQPiI/AAAAAAAAOW0/wOGiNNLapiE/w640-no/PB183486.jpg" alt=""></p>
<p>不過我完全沒料到會下雨，所以沒帶傘也沒帶雨衣 = =”，只能儘量找有遮的地方或者等雨小在快速移動到下一個地方。途中經過一隻烏龜，解說員說這隻活了一百多年了 =口=。</p>
<p><img src="https://lh5.googleusercontent.com/-Y4Rmu_zp_lQ/VHlBoTYfttI/AAAAAAAAOW8/a_2jRYrVO7k/w640-no/PB183487.jpg" alt=""></p>
<h3 id="Flights_of_Wonder">Flights of Wonder</h3><p>本來想說下雨去看表演好了，因為時間也差不多，所以就走回亞洲區看 Flights of Wonder</p>
<p>結果表演到一半就因為雨太大沒辦法表演了 T口T</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/gLv1O2mp_fM" frameborder="0" allowfullscreen></iframe></div>
<p>後來亂走又經過大猩猩區，發現大猩猩避雨的樣子跟人類好像，還蹲著一臉憂鬱的樣子，實在很有趣啊</p>
<p><img src="https://lh3.googleusercontent.com/-9yKXucmhUTc/VHlBtyEHFhI/AAAAAAAAOXM/acWZxmGDOCM/w640-no/PB183495.jpg" alt=""></p>
<p>走到大猩猩區最裡面會有玻璃隔著近距離觀看大猩猩，那裡也有解說員，走到這裡因為雨變大蠻多的，在這裡等了蠻久的 0rz…</p>
<p><img src="https://lh3.googleusercontent.com/-AmD8lj88RwM/VHlBwQyppYI/AAAAAAAAOXc/yYmjuWZ8vpI/w640-no/PB183498.jpg" alt=""></p>
<h3 id="Kilimanjaro_Safaris">Kilimanjaro Safaris</h3><p>最後我跑去看我以為下雨不會有的行程就是 <a href="https://disneyworld.disney.go.com/attractions/animal-kingdom/kilimanjaro-safaris/" target="_blank" rel="external">Kilimanjaro Safaris</a>，不過雖然說是 Safari 其實也沒有很可怕，就是他們開車然後載著你進去繞一圈看野生動物，大部份的動物都遠遠地，很安全。直接上圖，這裡我是轉接 75mm 那顆照，m43 的等效就是 150mm 所以動物都很大一隻 XD，其實有的距離沒有想像中遠…</p>
<p><img src="https://lh3.googleusercontent.com/-YEVkegVkiFU/VHlB2t9k7DI/AAAAAAAAOXk/42E60giPIBM/w640-no/PB183501.jpg" alt=""></p>
<p>有點兇的牛?</p>
<p><img src="https://lh4.googleusercontent.com/-slFgTUw31_0/VHlCEID32BI/AAAAAAAAOYM/iagq32sfYVI/w640-no/PB183512.jpg" alt=""></p>
<p>長頸鹿也是有的</p>
<p><img src="https://lh4.googleusercontent.com/-15bCf9nHWxA/VHlCGoWU1YI/AAAAAAAAOYU/wrHsSR3huuc/w750-h1000-no/PB183514.jpg" alt=""></p>
<p>大象區長著很妙的樹啊，解說員形容這個樹像是倒長的一樣樹枝還比較像根。</p>
<p><img src="https://lh4.googleusercontent.com/-43L_A6MC2DY/VHlCN0Z0dzI/AAAAAAAAOYc/UaO6nmGR9Pk/w640-no/PB183522.jpg" alt=""></p>
<p>犀牛</p>
<p><img src="https://lh4.googleusercontent.com/-wUmyNXmSbKY/VHlCYsMpGUI/AAAAAAAAOZA/O_QSYSwYtW0/w640-no/PB183530.jpg" alt=""></p>
<p>還有豹！奇怪這些動物都關在一起不會發生什麼事嗎 = = 我看起來沒有很明顯的區隔欸。</p>
<p><img src="https://lh5.googleusercontent.com/-61iTaCMttRs/VHlCgnwG2YI/AAAAAAAAOZY/d7CaM8cNuXg/w640-no/PB183535.jpg" alt=""></p>
<p>奇怪動物 2</p>
<p><img src="https://lh5.googleusercontent.com/-tCmHUfQylUU/VHlChIFAF8I/AAAAAAAAOZc/prvDLpC98uc/w640-no/PB183536.jpg" alt=""></p>
<p>長角羚羊? 解說員說的英文動物其實我根本不知道是什麼啊 T口T</p>
<p><img src="https://lh3.googleusercontent.com/-dmgG_LQLlno/VHlCqbchxmI/AAAAAAAAOZs/yNbu6qZSocE/w640-no/PB183539.jpg" alt=""></p>
<p>繞一圈其實也不長，還蠻有趣的。</p>
<h3 id="紀念品">紀念品</h3><p>兩座樂園可以買到的紀念品完全不一樣，動物王國就是迪士尼的動物類的像是松鼠兄弟之類的，這跟我想的有點不一樣 XD，因為第一天去魔法王國其實紀念品沒有買齊 0rz… 本來想說動物王國會不會有其他可以挑，結果比較有名的大概就是獅子王、松鼠兄弟之類的 = =” 要注意一下就是。</p>
<h2 id="奧蘭多回台灣">奧蘭多回台灣</h2><p>基本上從迪士尼回到飯店就是逆著走一趟流程就是了，坐車回魔法王國門口，再坐飯店接駁車回飯店，然後接著就是三天的議程，第四天下午就要回台灣啦~</p>
<p>我買的回程機票也是達美航空，從奧蘭多回到洛杉磯國際機場，然後行李可以直掛回台灣，也就是到洛杉磯之後完全不需要管行李，直接到國際廳報到就好了，回台的班機也是長榮的，結果我以為在那裡就可以說中文，可是似乎那天人很多，櫃檯服務人員是隔壁航空來支援的樣子 QQ，只好繼續說一下英文，她會問你是不是還有一件達美的行李… blahblah 之類的，原本出發前還在擔心回台的飛機，現在看起來都是多餘的，行李都是可以直掛的！從國內廳到國際廳也是走十幾分鐘就到了還算快。</p>
<p>進入海關檢查時可能是離開美國，檢查的超級隨便的啊 XD，筆電也放揹包就好，然後也沒有過 X 光機，只有過金屬探測器，美國人真是嘖嘖。過完海關就是趕緊衝免稅區買東西嘍~</p>
<p>回台灣可能因為逆風(地球自轉?)的關係所以比較久要十四小時，這中間也是供兩餐，回到台灣踏到地上還是覺得家鄉好 :P</p>
]]></content>
    <summary type="html">
    <![CDATA[2014-11-15 ~ 2014-11-16 美東迪士尼之旅]]>
    
    </summary>
    
      <category term="美國" scheme="http://blog.littlero.se/tags/%E7%BE%8E%E5%9C%8B/"/>
    
      <category term="迪士尼" scheme="http://blog.littlero.se/tags/%E8%BF%AA%E5%A3%AB%E5%B0%BC/"/>
    
      <category term="遊記" scheme="http://blog.littlero.se/categories/%E9%81%8A%E8%A8%98/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[K760 Linux fn/多媒體鍵切換]]></title>
    <link href="http://blog.littlero.se/post/K760-Linux-fn-%E5%A4%9A%E5%AA%92%E9%AB%94%E9%8D%B5%E5%88%87%E6%8F%9B/"/>
    <id>http://blog.littlero.se/post/K760-Linux-fn-多媒體鍵切換/</id>
    <published>2015-03-12T07:38:17.000Z</published>
    <updated>2015-03-14T05:44:37.000Z</updated>
    <content type="html"><![CDATA[<p>羅技 <a href="http://support.logitech.com/product/wireless-solar-keyboard-k760-for-mac" target="_blank" rel="external">K760</a> 鍵盤是一個一對三的藍芽鍵盤，而且是太陽能的，免換電池，使用上還蠻方便的，可是原生是適用 Mac / iOS 裝置，小弟公司電腦裝的是 Linux，其實拿來用也不錯，不過就是有個缺點就是羅技沒有針對 Linux 出鍵盤管理程式，所以沒辦法改掉多媒體鍵，在 Linux 很少用到多媒體鍵，反而是 function key 比較常用。</p>
<p>所以在網路先找到了 <a href="http://www.trial-n-error.de/posts/2012/12/31/logitech-k810-keyboard-configurator/" target="_blank" rel="external">K810 on Linux 的解法</a> ，這個人有 OpenSource 他的程式碼，並且搭配了 udev 的修改，這樣電腦藍芽連接到鍵盤就會自動設定了，但是 K760 的 KeyCode 跟 K810 不一樣，所以又找了一下發現 <a href="http://askubuntu.com/questions/326959/how-can-i-make-the-function-keys-the-default-on-a-logitech-k760-bluetooh-keyboar" target="_blank" rel="external">這篇</a> 有人抓出 KeyCode 了。</p>
<a id="more"></a>
<p>於是小弟就改了一下程式碼，然後放在 <a href="https://github.com/neoesque/k760-linux-fn-conf" target="_blank" rel="external">GitHub</a>，請直接 <code>git clone https://github.com/neoesque/k760-linux-fn-conf.git</code>，然後 <code>./build.sh</code> 生出來的執行檔就可以控制了。但是注意的是你的 Linux Kernel 要記得編譯進去 [Device Drivers]-[HID support]-[/dev/hidraw raw HID device support]，確定 /dev/hidraw* 有出現之後就可以打 <code>k760_conf -d /dev/hidraw0 -f off</code> 就可以把多媒體鍵變成 function key 了。</p>
<p>如果出現 <code>write: 0 were written instead of 7</code> 也沒關係，還是會設定進去才對。</p>
<hr>
<p>相關資料</p>
<ul>
<li><a href="http://www.trial-n-error.de/posts/2012/12/31/logitech-k810-keyboard-configurator/" target="_blank" rel="external">Logitech K810 Keyboard Configurator</a></li>
<li><a href="http://askubuntu.com/questions/326959/how-can-i-make-the-function-keys-the-default-on-a-logitech-k760-bluetooh-keyboar" target="_blank" rel="external">How can I make the function keys the default on a Logitech K760 Bluetooh keyboard?</a></li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<p>羅技 <a href="http://support.logitech.com/product/wireless-solar-keyboard-k760-for-mac">K760</a> 鍵盤是一個一對三的藍芽鍵盤，而且是太陽能的，免換電池，使用上還蠻方便的，可是原生是適用 Mac / iOS 裝置，小弟公司電腦裝的是 Linux，其實拿來用也不錯，不過就是有個缺點就是羅技沒有針對 Linux 出鍵盤管理程式，所以沒辦法改掉多媒體鍵，在 Linux 很少用到多媒體鍵，反而是 function key 比較常用。</p>
<p>所以在網路先找到了 <a href="http://www.trial-n-error.de/posts/2012/12/31/logitech-k810-keyboard-configurator/">K810 on Linux 的解法</a> ，這個人有 OpenSource 他的程式碼，並且搭配了 udev 的修改，這樣電腦藍芽連接到鍵盤就會自動設定了，但是 K760 的 KeyCode 跟 K810 不一樣，所以又找了一下發現 <a href="http://askubuntu.com/questions/326959/how-can-i-make-the-function-keys-the-default-on-a-logitech-k760-bluetooh-keyboar">這篇</a> 有人抓出 KeyCode 了。</p>]]>
    
    </summary>
    
      <category term="Linux" scheme="http://blog.littlero.se/tags/Linux/"/>
    
      <category term="3C" scheme="http://blog.littlero.se/categories/3C/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[用 Pushover 收 Ingress 成就點攻擊通知]]></title>
    <link href="http://blog.littlero.se/post/ingress-email-attack-notify-to-Pushover/"/>
    <id>http://blog.littlero.se/post/ingress-email-attack-notify-to-Pushover/</id>
    <published>2015-01-07T05:53:43.000Z</published>
    <updated>2015-03-14T05:40:16.000Z</updated>
    <content type="html"><![CDATA[<p><a href="https://www.ingress.com/" target="_blank" rel="external">Ingress</a> 是 Google 在 2012 推出的虛擬實境(Virtual Reality)的遊戲，基本上就是一個打打殺殺的遊戲，遊戲裡面分兩個陣營 Resistance (藍軍)跟 Enlightened (綠軍)，在台灣好死不死剛好跟兩大政治陣營顏色一樣，看起來全世界是藍大於綠，但是台灣台北剛好綠大於藍，不知道是不是大家選的顏色剛好也有政治傾向(笑)，不過遊戲歸遊戲，其實裡面的人倒是不大會聊政治，遊戲內有自己的通訊功能，但是很爛，所以大家還是會用第三方軟體溝通，通常大家都直接用 Hangout，不過也有少部份地區聽說是用 Line 之類的。</p>
<p>這遊戲有內建的被攻擊通知，可是他完全不能過濾你想收哪些通知，反正腳被攻擊或者 MOD 掉了就是直接無差別通知，不過有時候只想收特定 Portal 的攻擊通知，這時候該怎麼辦呢？原本我都用 IFTTT 這個 <a href="https://ifttt.com/recipes/203777-notify-when-guardian-portal-is-under-attack-ingress" target="_blank" rel="external">Notify when guardian portal is under attack #ingress
</a> 不過類似這種的有個缺點就是 IFTTT 是類似 polling 的，所以他是固定時間去問一次 Gmail，有時候我收到通知的時候都已經半個小時後，點都被打掉了 XD，搞屁，實在不夠及時，昨天在研究 Pushover 時突然發現他有 <a href="http://updates.pushover.net/post/24408806716/e-mail-to-pushover-gateway" target="_blank" rel="external">E-mail gateway</a>，配合 Gmail 建立 Filter 時就可以 Forward E-mail，根本就是及時的 Push。</p>
<p>實驗了一下發現效果不錯，至少比原本的 IFTTT 及時太多了，雖然還是有腳會被打掉之類的，不過如果對方真的要打其實也阻止不了，通常八炮連發根本擋不住，但是還是具有一些拖延對方效果就是了，而且也可以當成整理特殊點的攻擊 Log。</p>
<a id="more"></a>
<p>這類通知的程式還蠻多的，iOS 有 <a href="http://www.prowlapp.com/" target="_blank" rel="external">Prowl</a>， Android 有 <a href="http://www.notifymyandroid.com/" target="_blank" rel="external">Notify My Android</a>，不過上述兩個就是沒有一個是跨平台的，還有另一套新秀 <a href="https://www.pushbullet.com/" target="_blank" rel="external">PushBullet</a> 也不錯，不過他沒有 E-mail GW，所以這些都不符合我的需求，因為我裝置亂七八糟的，iOS (iPhone 5s)+ Android (平板 SH-06F)，所以最後決定還是用 Pushover 實作。</p>
<p><a href="https://pushover.net/" target="_blank" rel="external">Pushover</a> 的收費是只收 client 一次性費用，也就是 iOS、Android、電腦，各收 client 的錢，一個月有 7500 筆通知可用，超過可另外加購，基本上 7500則通知/月 非常夠了，一次性的終身費用各兩三美元(我是全買了大概也才 300 新台幣)非常划算，申請完賬號後回到<a href="https://pushover.net/" target="_blank" rel="external">首頁</a>應該會看到如下的 User key</p>
<img src="https://lh3.googleusercontent.com/YoX0bNlxU8WQ43p7BkpK8slGEbnDZjY6gOv1DDOfqdU=w800-no" title="User key Pushover User key">
<p>下面有顯示一個 E-mail，我們先記起來等等會用到。再來是要新增一個 Application，基本上不新增也可以，只是全部的通知會顯示為 Pushover E-mail Gateway，為了分類還是建議創一個 App，所以我們到 <a href="https://pushover.net/apps" target="_blank" rel="external">Pushover-Powered Applications &amp; Plugins
</a> 這頁，會看到如下的頁面</p>
<img src="https://lh3.googleusercontent.com/-gyit_8RTc-Y/VKzTw7ppWjI/AAAAAAAAPx0/4aQ6fWi5RCU/w800-no/Screenshot%2B2015-01-07%2B14.27.35.png" title="Pushover Apps Pushover Apps">
<p>因為我已經有三個 Apps 了，如果第一次進去應該會是空空的，我們先點 <strong>Create a New Application</strong> 會看到下面頁面</p>
<img src="https://lh4.googleusercontent.com/-j5wQYTyHDlg/VKzTw8EsBQI/AAAAAAAAPx4/fRRdK-yUTTQ/w1734-h916-no/Screenshot%2B2015-01-07%2B14.27.59.png" title="Pushover new app Pushover new app">
<p>填一填按下 <strong>Create Application</strong> 送出就好了！回到剛剛的<a href="https://pushover.net/apps" target="_blank" rel="external">列表頁</a>應該會看到剛剛創立的 App 名字，點進去會看到 App Key，如圖</p>
<img src="https://lh5.googleusercontent.com/-g8xknRBYYb4/VKzTymxGUgI/AAAAAAAAPyQ/X3F5WjNhIRU/w800-no/Screenshot%2B2015-01-07%2B14.28.19.png" title="Pushover App Key Pushover App Key">
<p>一樣把這把 Key 記起來，目前已經完成一半了！我們需要的就是 User Key + App Key，基本上寄信就是把你要的信 FW 到 user_key+a=app_key@api.pushover.net 就好了！</p>
<p>我們回到 <a href="https://mail.google.com/mail/u/0/#settings/fwdandpop" target="_blank" rel="external">Gmail 的 FW 設定頁</a>，點 <strong>Add a forwarding address</strong>，新增剛剛組出來的 E-mail，比方說可能會是 <em>abcdefghijklmnopqrstuvwxyz1234+a=567890abcdefghijklmnopqrstuvwx@api.pushover.net</em> 就填進去，按下 <strong>Next</strong></p>
<img src="https://lh3.googleusercontent.com/-SVbsTIHr3qw/VKzTy0zVfyI/AAAAAAAAPyM/VqTdJKj59UE/w800-no/Screenshot%2B2015-01-07%2B14.30.25.png">
<p>會提示說需要寄一封確認信，請到剛剛填的 E-mail 收信，這時候請轉移到隨便一個 Pushover 的 client，比方說我用 iOS 當例子：</p>
<img src="https://lh4.googleusercontent.com/-1h40jkgP6LM/VKzTz5z1B_I/AAAAAAAAPyc/EthH_OZtnAI/w319-no/IMG_3706.png">
<p>會看到裡面有個 <strong>confirm the request</strong>，直接點下去就好了，到這裡已經完成 80% 了，最後一步就是建立 filter &amp; FW</p>
<p>到 <a href="https://mail.google.com/mail/u/0/#settings/filters" target="_blank" rel="external">Gmail Settings - Filter</a> 點 <strong>create a new filter</strong>，在 Has the words 填入 <em>Ingress Damage Report (Portal_name_1 OR Portal_name_2 OR …)</em></p>
<img src="https://lh6.googleusercontent.com/-POsLw3z9-2A/VKza5C_kE7I/AAAAAAAAPzA/2c6RN9V7_-c/w800-no/Screenshot%2B2015-01-07%2B15.04.17.png"> 
<p>點 <strong>Continue</strong></p>
<img src="https://lh4.googleusercontent.com/-S0yo3hreTC4/VKza_i1ic7I/AAAAAAAAPzM/HBIDqrg9-L0/w800-no/Screenshot%2B2015-01-07%2B15.04.25.png">
<p>這裡可以順便分 label 不然就是直接勾 <strong>Forward it to</strong> 選你的 pushover mail 就大功告成了。</p>
<p>然後等你設定的 Portal 被人打就會收到如下的戰報了：</p>
<img src="https://lh3.googleusercontent.com/-jHoYlRw1Xjw/VKzobV-ZbeI/AAAAAAAAP0o/zJVFsLFgJoo/s800/Screenshot%25202015-01-07%252015.11.54.png">
<p>看吧！寫這篇部落格時，收了戰報還是來不及反應被夷平了 QQ</p>
]]></content>
    <summary type="html">
    <![CDATA[Ingress 及時的攻擊通知 over Pushover]]>
    
    </summary>
    
      <category term="ingress" scheme="http://blog.littlero.se/tags/ingress/"/>
    
      <category term="pushover" scheme="http://blog.littlero.se/tags/pushover/"/>
    
      <category term="遊戲" scheme="http://blog.littlero.se/categories/%E9%81%8A%E6%88%B2/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[美西峽谷行]]></title>
    <link href="http://blog.littlero.se/post/USwest-canyon/"/>
    <id>http://blog.littlero.se/post/USwest-canyon/</id>
    <published>2015-01-03T13:12:33.000Z</published>
    <updated>2015-06-09T01:37:45.000Z</updated>
    <content type="html"><![CDATA[<p>故事的開始是 2014 年 6 月時，跟大學同學約了 11 月要到美西玩，從台灣出發 6 人，美國當地還有唸書+工作的同學 3 人，一共九人，反正是跟著玩 XD 就直接答應了，當時六月直接上長榮的網站剛好有特惠機票可以買，桃園﹣洛杉磯不到三萬 (29xxx)就搞定了，旅遊時間是 11/7 (五) ~ 11/14 (五) 離開美西，11/7 禮拜五當天請了一個下午，回家整理一下，集合地點在松山機場外的客運站，我們坐客運到桃園機場。客運每 20 ~ 30 分鐘一班，還算蠻多班次的。</p>
<p>行前準備似乎差不多就網路整理的那樣，反正記住最重要的只有護照跟信用卡就可以出國了 XD，不過因為這次是峽谷行我多準備了一些藥品跟撒隆巴斯，常備藥的部份我是去<a href="https://www.google.com.tw/maps/place/%E6%9E%97%E9%9D%92%E7%A9%80%E5%AE%B6%E5%BA%AD%E9%86%AB%E5%AD%B8%E7%A7%91%E8%A8%BA%E6%89%80/@25.044966,121.545997,15z/data=!4m2!3m1!1s0x0:0xddd7e821aefd024e?sa=X&amp;ei=G9ezVKf8OaW_mwWKgIL4BQ&amp;ved=0CIkBEPwSMAo" target="_blank" rel="external">林青榖家醫診所</a>拿，一包 500 的樣子裡面有十種藥，也可以順便跟他拿調整時差的藥(估計是安眠藥之類的)，他會說一次吃半顆就好，應該還算蠻有效果的，至少我到美國的前兩天跟回來台灣後都有吃還算調整的不錯，而且同學打呼也都聽不到 XD</p>
<img src="https://lh4.googleusercontent.com/-LMo8qVzCJ2k/VHaMEH8elSI/AAAAAAAAM8E/32cIHHBmwjk/w640-no/PB071889.jpg" title="林青榖診所的常備藥 十種常備藥">
<a id="more"></a>
<h1 id="起飛">起飛</h1><p>我們搭的班機是 23:55 的飛機，原本同學說飛往美國因為會檢查的比較嚴格，所以最好是兩個小時前到機場，我們九點半到機場，進去後根本就沒多檢查什麼，跟原本的一模一樣，再加上自助通關(可以到桃園機場辦，我是先在台北辦好)，我們大概花了一小時就進入免稅區了。</p>
<img src="https://lh6.googleusercontent.com/-tZnwZXZbg_g/VHaMIeLzKRI/AAAAAAAAM9A/CcaH5bte1a8/w800-no/PB071899.jpg" title="候機室 候機室">
<p>本次搭的飛機是<a href="http://zh.wikipedia.org/wiki/%E6%B3%A2%E9%9F%B3777#777-300ER" target="_blank" rel="external">波音 777-300ER</a>，可惜沒搭到 Hello Kitty 的，那個引擎真的是巨大的有點誇張，飛行途中也很吵就是了 = = ，飛行大概一個半小時之後就會被叫起來吃第一餐飛機餐，左宗棠雞的樣子不過不知道為什麼是不辣的 XD，還有另外兩種選擇，忘了是牛肉跟什麼，長榮的飛機餐還不錯吃，吃完第一餐後就關燈休息，由於飛行時間約 12 小時，而且到達洛杉磯當地是晚上 7 點半，第二餐好像是隔了八九個小時之後了，這餐有粥，還有魚鬆可以配，超級感動好吃的 XD，不過我沒照相,看起來就是一般的粥，飛機上的飲料一般就是牛奶、啤酒、蘋果汁之類的，我喝過番茄汁，覺得還是不要點比較好 XD</p>
<img src="https://lh5.googleusercontent.com/-aJtz9V4C7Ug/VHaMF520m2I/AAAAAAAAM8U/kLqZz4xm0q0/w800-no/PB071895.jpg" title="長榮波音777-300ER 長榮波音777-300ER">
<img src="https://lh4.googleusercontent.com/-DylcPQwcCcI/VHlVU2EBomI/AAAAAAAAObs/_UtCXxAs7mo/w800-no/DSC00727.JPG" title="第一餐飛機餐 飛機餐">
<p>第一次坐這麼長途飛行的班機，同學耳提面命，一定要帶拖鞋去換啊！不然飛機上腳會水腫，我乖乖照做，隔壁的同學沒帶拖鞋換，飛機飛了一陣子之後還真的覺得腳變大了，靴子很卡，所以記得一定要帶拖鞋去換，我是拖了一咖登機箱，夾角拖放裡面，安全檢查完進去免稅區之後就可以先換起來。</p>
<h1 id="抵達洛杉磯">抵達洛杉磯</h1><p>第一次到<a href="http://zh.wikipedia.org/zh-tw/%E6%B4%9B%E6%9D%89%E7%A3%AF%E5%9C%8B%E9%9A%9B%E6%A9%9F%E5%A0%B4" target="_blank" rel="external">洛杉磯機場</a>，第一眼就是實在是很大啊，國際航廈也很新，因為是自助旅行，所以抵達後跟在美國工作的同學會合就先直奔租車的地方，本次旅行是跟 Hertz 租，出航廈後就會看到接駁車了。不過這次租車還蠻扯的，一開始是發現我們同學的名字沒在姓名牆(他會列出今天租車的顧客名字車位是幾號)，不知道是不是因為我們沒先付錢，所以我們只好去櫃檯問，結果到了櫃檯，那個先生竟然開始推銷我們其他車種，說我們如果九人的話租兩台轎車太小了，一開始推薦我們租金破千的，嚇死人﹣馬上拒絕，後來推薦我們 Jeep SUV，確認車種之後又推銷我們車險，這種東西好像加減保比較好，所以我們有保車險，後來發現幸好車子真的有換，不然我看要容下我們幾個的行李箱還真的有點困難，連 SUV 的後車廂都差不多塞而已。結果光是租車就搞了兩個小時，我們離開 Hertz 已經十一點多了 = =。</p>
<h1 id="巴斯托">巴斯托</h1><p>當天的行程預計是開到洛杉磯與拉斯維加斯的中點處﹣<a href="http://zh.wikipedia.org/zh-tw/%E5%B7%B4%E6%96%AF%E6%89%98_%28%E5%8A%A0%E5%88%A9%E7%A6%8F%E5%B0%BC%E4%BA%9E%E5%B7%9E%29" target="_blank" rel="external">巴斯托(Barstow)</a>過夜，車程大約兩個小時，所以我們抵達時已經一點多了，實在是有點累，不過也許是時差的關係，精神是還好，我們第一天住的飯店是 <a href="http://www.innbarstow.com/barstow-california-hotel/" target="_blank" rel="external">California INN</a>，由於已經半夜衣著也是台北的穿著對美國來說這樣穿實在是有夠冷，大家一到時就哎哎叫，趕緊躲進去建築裡面，基本上內裝還算乾淨，而且一到就馬上洗澡準備睡覺，沒拍內裝，不過還算是 OK 的小飯店。</p>
<img src="https://lh6.googleusercontent.com/-rvul61MfOLY/VHaMKL_8j1I/AAAAAAAAM9Y/L2VcaLZU5Rw/w800-no/PB091908.jpg" title="California INN California INN">
<p>外圍就是沙漠…</p>
<img src="https://lh4.googleusercontent.com/-JlOPJfx5RJ0/VHaMKLzK6YI/AAAAAAAAM9s/QeFwPgKcQmc/w800-no/PB091909.jpg">
<p>這家的早餐還提供蠻多種類的，自助烤麵包，也有蘋果，還不錯。</p>
<img src="https://lh4.googleusercontent.com/-_4xK5MVAFbc/VHlVfAjGV-I/AAAAAAAAOcU/7McIlyb80Bk/w800-no/DSC00748.JPG">
<p>隔天一早出發時因為隔壁就是加油站，所以決定先加滿油再出發，美國這裡都是自助的只是每家加油站的方法好像不太一樣，在美國的同學只熟悉一兩種，遇到不會的就要研究一番。</p>
<img src="https://lh3.googleusercontent.com/-JYuhAjXV450/VHaMMksTKSI/AAAAAAAAM-I/RvBu7eNa7mc/w800-no/PB091920.jpg">
<p>再來因為是長途旅行，所以需要載水上車隨時可以補給，所以我們就找了一家路過的超市，美國的超市跟台灣看起來差不多，不過就是食物區蠻可怕的，每種都堆得跟山一樣 XD，而且蔬菜都擺的很整齊，不像台灣菜會先分裝好。</p>
<img src="https://lh4.googleusercontent.com/-CS-JrWr3V44/VHaMS9UfGXI/AAAAAAAAM_g/vHOEj5WZlvA/w800-no/PB091971.jpg">
<img src="https://lh4.googleusercontent.com/-1c_hSp99dLs/VHaMOgQwNsI/AAAAAAAAM-k/Ej1Zsha91yo/w800-no/PB091959.jpg">
<p>肉類也是很壯觀</p>
<img src="https://lh3.googleusercontent.com/-bGakE-ByGXI/VHaMQDlxPmI/AAAAAAAAM-0/IaVGBu9hZ2M/w800-no/PB091962.jpg">
<img src="https://lh5.googleusercontent.com/-C0xrPuoq2UQ/VHaMPoDd07I/AAAAAAAAM-s/iQVSs2RkEyY/w800-no/PB091961.jpg">
<p>買完之後就繼續驅車往內陸開啦~沿路大部份都是沙漠，不過偶爾也是會有經過很大的湖，景色很漂亮。</p>
<img src="https://lh3.googleusercontent.com/-jSxnuC7WVOc/VHaMUm9rb_I/AAAAAAAAM_4/cVNwxi7n_sg/w800-no/PB091975.jpg">
<h1 id="胡佛水壩">胡佛水壩</h1><p>往內陸開的同時會經過 <a href="http://zh.wikipedia.org/wiki/%E8%83%A1%E4%BD%9B%E6%B0%B4%E5%A3%A9" target="_blank" rel="external">Hoover Dam 胡佛水壩</a>，所以我們也稍作停留。</p>
<img src="https://lh5.googleusercontent.com/-UJ5M8AWYQQo/VHaMYZeiOhI/AAAAAAAANAo/GYN9ZoShlro/w800-no/PB091993.jpg">
<p>胡佛水壩跨於科羅拉多河上，建於 1931 年只花了 5 年就完成了，是美國最大的水壩，名字得自當時的美國總統胡佛。且胡佛水壩剛好是州的邊界橫跨兩個時區，所以可以看到兩個大時鐘在不同的水塔上，表示跨時區了，過了這裡時間要撥快一小時。</p>
<img src="https://lh6.googleusercontent.com/-LT1ncP7WR9Y/VHaMeW6LQrI/AAAAAAAANCE/l_Sfis_cjRc/w800-no/PB092022.jpg">
<img src="https://lh4.googleusercontent.com/-vwGydMch3-U/VHaMb2-DiRI/AAAAAAAANBc/tTCzcKhekR4/w800-no/PB092013.jpg">
<img src="https://lh6.googleusercontent.com/-Frq4UsQbCcg/VHaMdbiHIEI/AAAAAAAANB0/LIng1Ohs_zs/w800-no/PB092020.jpg">
<h1 id="大峽谷">大峽谷</h1><p>接著就是 400 km 的長征了，要從胡佛水壩開到<a href="http://zh.wikipedia.org/wiki/%E5%A4%A7%E5%B3%BD%E8%B0%B7%E5%9C%8B%E5%AE%B6%E5%85%AC%E5%9C%92" target="_blank" rel="external">大峽谷</a>。我們抵達大峽谷時已經快八點了，還沒進峽谷之前就先在峽谷外的牛排館吃飯了，抵達牛排館時外面是 1 度…白天我們在胡佛水壩應該還有十幾二十度啊！！！ 大家一開車門第一件事就是哇哇叫 XDDD，美國的國家公園似乎都是白天收費，晚上進去就不用錢，我們當晚就住在大峽谷裡面的 <a href="http://www.grandcanyonlodges.com/lodging/maswik-lodge/" target="_blank" rel="external">Moswik Lodge</a>，我們這次是逛大峽谷的南緣(South Rim)。</p>
<img src="https://lh6.googleusercontent.com/-6s-p2sKtapQ/VHaM20sp-zI/AAAAAAAANHI/S2DhvY3GAko/w800-no/PB102193.jpg">
<p>房間也算很大，我們還加了一床，一房五個人住還 OK</p>
<img src="https://lh3.googleusercontent.com/-pbdwcQpUcRs/VHaMxdsILsI/AAAAAAAANGE/hbvha6HqiRY/w800-no/PB102183.jpg">
<p>浴室的水龍頭也在外面這樣可以加速盥洗</p>
<img src="https://lh6.googleusercontent.com/-aSVSKoyJ1Og/VHaMy6_xZrI/AAAAAAAANGg/PAorWscnGaQ/w800-no/PB102186.jpg">
<p>東西放好之後我們決定先去看星星，下圖是半夜長曝，因為月光實在太亮了，長曝後效果不錯，大峽谷一覽無遺，天空也有星星，EM5 的防手震在沒有腳架的情況下，4s~8s 還可以接受(咦 不小心工商廣告了)。拍的當下其實因為沒看過大峽谷，拍完一看就覺得實在是了不得的峽谷…</p>
<img src="https://lh3.googleusercontent.com/-Y6lAe1WuvdE/VHaMqZaMXfI/AAAAAAAANEo/IWO3iaMyxEs/w800-no/PB092107.jpg" title="長曝 長曝">
<p>其實也不是什麼天文專家，星星看起來都差不多 囧\ 大概跟台灣在完全無光害地區看到的是一樣吧。</p>
<img src="https://lh3.googleusercontent.com/-ArP2BNtkAtQ/VHaMqQdQj8I/AAAAAAAANEc/k5MhKVAhvAs/w800-no/PB092113.jpg">
<p>大峽谷第二天一早我們決定先去看日出然後早上走 Hermit Rest Route，大峽谷南緣有兩個 Route 可以走，分別是： Hermit Rest Route(Red)、Kaibab/Rim Route(Orange)，其實還有一個 Village Route(Blue) 不過這應該是來往各旅館的，不算 tour route，這裡有<a href="http://www.nps.gov/grca/planyourvisit/shuttle-buses.htm" target="_blank" rel="external">接送巴士</a>的資訊，照片因為去了太多點根本分不出來誰是誰了 = =，直接上圖</p>
<p>一早的大峽谷日出</p>
<img src="https://lh5.googleusercontent.com/-D8Bv9FWgkt8/VHaMsTpqAaI/AAAAAAAANFA/7SGHxBXsbFg/w800-no/PB092126.jpg" title="大峽谷日出 大峽谷日出">
<p>三種 Route 示意圖</p>
<img src="https://lh4.googleusercontent.com/-fNvArCy3jgY/VHaNitr8P7I/AAAAAAAANO8/886TutFdqB8/w800-no/PB102372.jpg">
<img src="https://lh4.googleusercontent.com/-ebVnAbrq6CQ/VHaM7-_veYI/AAAAAAAANH4/WUkTm1NF5KQ/w800-no/PB102213.jpg">
<p>所到之處都是大、很大、實在太大了，就是遼闊的很可怕，那個峽谷看過去都看不到終點。而且天氣真的很好，很舒服。</p>
<img src="https://lh5.googleusercontent.com/-JD03TclIoww/VHaM_PxPDbI/AAAAAAAANIk/yVpUrVIhwbY/w800-no/PB102237.jpg">
<p>在某些點可以看到切割大峽谷的科羅拉多河。</p>
<img src="https://lh3.googleusercontent.com/-jkpKydczx84/VHaNBpsba3I/AAAAAAAANJA/GaX0_ArAtQ8/w800-no/PB102242.jpg">
<div class="video-container"><iframe src="//www.youtube.com/embed/ne4j4CrhMyg" frameborder="0" allowfullscreen></iframe></div>
<p>這些 Route 基本上都是坐巴士，然後到定點就下去走走的，巴士停的地方都不會離景點太遠，上午都是走馬看花，不過下午橘線時我們就有下去走 Trail - <a href="http://en.wikipedia.org/wiki/South_Kaibab_Trail" target="_blank" rel="external">South Kaibab Trail</a>，這條路徑可以一直走一直走，走到科羅拉多河，不過那個當然就是要紮營花個兩三天之類的，我們沒有這麼瘋狂，我們只有走到 0.75 mile 的地方，叫 Ooh-ahh Point，雖然只有 0.75 mile 可是因為是山路，有些地方女同學哎哎叫的 XD，有的坡度還蠻抖的，不過其實大部份都還算好走啦，沒什麼危險性才對。</p>
<img src="https://lh4.googleusercontent.com/-pQ6c9A0V6mw/VHaNd4vdHjI/AAAAAAAANN8/QcfnmkW_YZ0/w500-no/PB102350.jpg">
<p>進入之前有告示牌，寫一些警告事項，大概就是日曬要隨時注意補水，小心落石。再來就是直接衝了！</p>
<p>一開始就是挑戰 XD</p>
<img src="https://lh4.googleusercontent.com/-5Qsjh1uqDy8/VHaNETDpeFI/AAAAAAAANJs/Co0I-P2RO2w/w800-no/PB102274.jpg" title="Kaibab Trail 入口 Kaibab Trail 入口">
<p>路其實真的還算寬啦,只是一邊是山壁，一邊是懸崖，還是挺可怕的</p>
<img src="https://lh5.googleusercontent.com/-jPJOR9bku7Q/VHaNKMwL2wI/AAAAAAAANKg/lI2ima8Kv30/w800-no/PB102301.jpg">
<p>沿路風景很漂亮</p>
<img src="https://lh6.googleusercontent.com/-ZEslDJBomSw/VHaNJqBKqoI/AAAAAAAANKU/kPi5ZBtuels/w800-no/PB102292.jpg">
<p>走啊走，花了一個多小時終於到了 Ooh-Aah Point！真的會讓人發出 (⊙o⊙)哦~( ⊙ o ⊙ )啊！的風景</p>
<img src="https://lh6.googleusercontent.com/-M6jonDQ1zMY/VHaNb2M9syI/AAAAAAAANNc/EOZyDi1liY0/w800-no/PB102342.jpg">
<img src="https://lh3.googleusercontent.com/-kCcSp5W57JA/VHaNaQ2IiTI/AAAAAAAANNI/pDL_eRyxxbA/w800-no/PB102339.jpg">
<p>阿斗啊真的都超猛的 = =，我自己看都很挫了 0rz…，他們直接坐在懸崖上</p>
<img src="https://lh3.googleusercontent.com/-sNQaTvs7uXo/VHaNc9x6VKI/AAAAAAAANNs/InGMdxkelDs/w800-no/PB102348.jpg">
<p>Kaibab Trail 走回程也是累了 XD，上來後直接搭接駁車到 Mather Point 看日落，這裡也是最推薦的日落點，美麗的紫橘色彩霞</p>
<img src="https://lh3.googleusercontent.com/-Ullge9Bm4oE/VHaNhj2_1zI/AAAAAAAANOs/P8qhzlXaE0A/w800-no/PB102368.jpg">
<h1 id="Page_City_-_佩吉市">Page City - 佩吉市</h1><p>看完日落後，我們就<a href="https://www.google.com.tw/maps/dir/Page,+AZ,+United+States/Mather+Point,+Rim+Trail,+Grand+Canyon+Village,+AZ,+United+States/@36.3834276,-111.9937597,9z/data=!3m1!4b1!4m13!4m12!1m5!1m1!1s0x8734135bfdcd758f:0x6e982f5153384e39!2m2!1d-111.4558333!2d36.9147222!1m5!1m1!1s0x87331092861740c1:0x543a485ed4aa62af!2m2!1d-112.107526!2d36.061722" target="_blank" rel="external">驅車</a> 前往 <a href="http://zh.wikipedia.org/wiki/%E4%BD%A9%E5%90%89%E5%B8%82" target="_blank" rel="external">Page City</a> 了，路程 210 km，這裡發生一件事情是友人的車帶頭，結果他們的導航是舊版的，不知道 89 號道路已經封閉(發生<a href="http://en.wikipedia.org/wiki/U.S._Route_89_in_Arizona#Related_route" target="_blank" rel="external">坍方</a>，我們的那台一直叫我們走 89T，我查 Google Map 也叫我走 89T ，不過當下並沒有多想也就順著 89A 繼續走，直到我們到 89A 與 89 的交界時發現 89 完全封閉，走不了 0rz… 只好在回頭，損失了約一個多小時吧，結果我們到 Page City 時又晚上十點多了 XD，每天都在累，我們在 Page City 住這家 <a href="http://www.lulussleepezzemotel.com/" target="_blank" rel="external">LuLu’s Sleep Ezze Motel</a>，房間算小而美，吹風機要去中間的辦公室拿</p>
<img src="https://lh4.googleusercontent.com/--8cUoUS01cQ/VHaNkaOF3rI/AAAAAAAANPQ/LsRwdgpw2eA/w800-no/PB102378.jpg">
<img src="https://lh6.googleusercontent.com/-GixrO8IpPO4/VHaNm3TdjUI/AAAAAAAANP0/Pswn4x4ba4A/w800-no/PB102382.jpg">
<img src="https://lh5.googleusercontent.com/-mjukJPHjfII/VHaNlQQu2uI/AAAAAAAANPg/bnaLQFpDLPc/w800-no/PB102380.jpg">
<p>Page City 感覺就是一個悠哉的城鎮啊…美國的郊區小鎮看起來也很有特色，跟台灣的郊郊區還是不一樣。</p>
<img src="https://lh3.googleusercontent.com/-slSQNDio4Bg/VHaNomFLGPI/AAAAAAAANQI/FM0yrTKhgVQ/w800-no/PB102386.jpg">
<p>隔天一早我們就出發前往 <a href="http://zh.wikipedia.org/wiki/%E8%B9%84%E9%93%81%E6%B9%BE" target="_blank" rel="external">馬蹄灣 Horseshoe Bend</a>，然後再去<a href="http://zh.wikipedia.org/wiki/%E7%BE%9A%E7%BE%8A%E5%B3%BD%E8%B0%B7" target="_blank" rel="external">羚羊峽谷</a>。</p>
<p>一樣先找吃的順便補給水。</p>
<img src="https://lh5.googleusercontent.com/-MltQNeJUqCg/VHaNoyukuSI/AAAAAAAANQY/J6UdchDF0sM/w800-no/PB102389.jpg">
<p>隨便買個什麼捲的來吃</p>
<img src="https://lh5.googleusercontent.com/-JzfG3_pAxtA/VHaNqp_pzeI/AAAAAAAANQg/4rSjDJZG-Ks/w800-no/PB102391.jpg">
<h1 id="馬蹄灣">馬蹄灣</h1><p>馬蹄灣的入口是一片沙漠，不過那裡有停車場，還算好認的入口</p>
<img src="https://lh6.googleusercontent.com/-7FOLT3v6htA/VHaNrKcsjyI/AAAAAAAANQ8/1MxOXoPj678/w800-no/PB102395.jpg">
<p>走路走約 15 ~ 20 分鐘後就會看到大大的馬蹄灣了，首先是同學示範馬蹄灣有多可怕，真的超級大的 = =，又大又可怕</p>
<img src="https://lh3.googleusercontent.com/-0nmc7gEV36w/VHaNr2raLFI/AAAAAAAANQw/Sup8kQxPDlM/w800-no/PB102408.jpg">
<p>不過因為我們是一早就去，所以太陽照在馬蹄灣剛好有陰影，相片照起來不美就是。走在馬蹄灣上感覺隨時風一吹就掉下去 = =</p>
<img src="https://lh3.googleusercontent.com/-ZtO5_iDrMQY/VHaNtsKr-YI/AAAAAAAANY0/xF4xKmhgrt4/w800-no/PB102436.jpg">
<div class="video-container"><iframe src="//www.youtube.com/embed/CY8O6mj2qu0" frameborder="0" allowfullscreen></iframe></div>
<h1 id="羚羊峽谷">羚羊峽谷</h1><p>逛完馬蹄灣就繼續開去羚羊峽谷了，我們這次玩的是<a href="http://zh.wikipedia.org/wiki/%E7%BE%9A%E7%BE%8A%E5%B3%BD%E8%B0%B7#.E4.B8.8B.E7.BE.9A.E7.BE.8A.E5.B3.BD.E8.B0.B7" target="_blank" rel="external">下羚羊峽谷 - Lower Antelope Canyon</a>，因為網路都寫說下羚羊人比較少，因為要爬金屬樓梯，上上下下難度較高也比較危險，過去沒有導遊時曾經因為上游暴洪結果峽谷內的旅客不知道而死過人，不過進去後發現人還是有點多就是，我們途中開錯開去上羚羊峽谷，那邊停車場確實人多很多，羚羊峽谷地點在有三根煙囪的工廠附近。</p>
<img src="https://lh5.googleusercontent.com/-xjOq5bAPR2U/VHlWf9QYN8I/AAAAAAAAOfE/SxwfYNr62KQ/w800-no/DSC01483.JPG">
<p>下羚羊峽谷有兩家 TOUR，我們參加的是 KEN’s Tours</p>
<img src="https://lh6.googleusercontent.com/-lPAic8hl38s/VHaNuS2HmHI/AAAAAAAANRY/jUe5nP1LSig/w800-no/PB112441.jpg">
<p>收費每人 US12 + US 8 permit = 20 元，全程大約一小時左右吧。</p>
<img src="https://lh5.googleusercontent.com/-EagxA6TBGcE/VHaNu8_gRoI/AAAAAAAANRc/OCQeWlOjdr4/w800-no/PB112442.jpg">
<p>入口就很陡</p>
<img src="https://lh6.googleusercontent.com/-cqNzLA1m830/VHaNy0hpVsI/AAAAAAAANSA/Ul9vXKS0fJM/w800-no/PB112452.jpg">
<p>羚羊峽谷是河水沖刷+風蝕而成，岩壁的曲線優美，在太陽光的反射下呈現橘黃色的線條</p>
<img src="https://lh4.googleusercontent.com/-nbE_QHapMa8/VHaN0uneniI/AAAAAAAANSg/AmX4jyU4Bm0/w500-no/PB112465.jpg">
<p>不過來這裡就是要玩一些白平衡，導遊通常會建議改成 Incandescent (白熾燈<br>)或 Fluorescent (螢光燈)。會呈現出藍紫色，有人喜歡橘色有人喜歡紫色，不過不管怎樣真的都很漂亮。</p>
<img src="https://lh4.googleusercontent.com/-LStRwHGUU90/VHaN1OIqq5I/AAAAAAAANSY/q3lUNwfrlVE/w500-no/PB112466.jpg">
<img src="https://lh3.googleusercontent.com/-uWdEjCEHWck/VHaOCN_hiDI/AAAAAAAANVE/J4WPURvAR7U/w800-no/PB112518.jpg">
<p>底下這張是導遊拿我的相機往上拍的，也可以說是只有當地人才知道的特殊攝影點吧，真的很美！不像地球啊</p>
<img src="https://lh6.googleusercontent.com/--OKbzMntQ2g/VHaOCjK6j5I/AAAAAAAANU8/Ov67fiTkIKg/w800-no/PB112519.jpg">
<p>還拍了另一種白平衡，各有味道</p>
<img src="https://lh4.googleusercontent.com/-4l8o6HOdxtI/VHaOEOZWiEI/AAAAAAAANVc/7piXw7HN40M/w800-no/PB112520.jpg">
<p>然後出口超小的真的只能讓一個人出來，偷拍同學出來</p>
<img src="https://lh5.googleusercontent.com/-cOmkbkPFNN0/VHaOKmO_pbI/AAAAAAAANWc/MgsEgfJX3WA/w500-no/PB112556.jpg">
<p>導遊還會說幾個中文，像是照相時說「一二三」或「白平衡」，他說是遊客教他的</p>
<img src="https://lh4.googleusercontent.com/-D7J7vH7ujEA/VHaN9KyEcKI/AAAAAAAANUA/w-cRa0g0sSQ/w500-no/PB112502.jpg">
<p>最後記得離開時要給導遊小費 :) 因為我們忘記給時同學說導遊拉下臉，然後韓國跟法國遊客都有給，我們事後才又跑去給 &gt; &lt;”</p>
<h1 id="布萊斯峽谷">布萊斯峽谷</h1><p>離開下羚羊峽谷，<a href="https://www.google.com.tw/maps/dir/%E7%BE%8E%E5%9C%8B%E7%8C%B6%E4%BB%96%E5%B8%83%E8%90%8A%E6%96%AF%E5%B3%BD%E8%B0%B7%E5%9F%8E%E5%B8%83%E8%90%8A%E6%96%AF%E5%B3%BD%E8%B0%B7%E5%9C%8B%E5%AE%B6%E5%85%AC%E5%9C%92/Navajo+Tribal+Park+Parking+lot,+LeChee,+AZ+86046%E7%BE%8E%E5%9C%8B/@37.3298014,-112.3852096,9z/data=!4m13!4m12!1m5!1m1!1s0x87356bc602c3eb2d:0x6be9d8fbbeac6d06!2m2!1d-112.18709!2d37.593038!1m5!1m1!1s0x87341396b76f100f:0x3a9c3703212c9e27!2m2!1d-111.407461!2d36.897057" target="_blank" rel="external">沿著 89 號道路開</a>，旅途的第三天下午目標是開到 <a href="http://zh.wikipedia.org/wiki/%E5%B8%83%E8%90%8A%E6%96%AF%E5%B3%BD%E8%B0%B7%E5%9C%8B%E5%AE%B6%E5%85%AC%E5%9C%92" target="_blank" rel="external">布萊斯國家公園</a>，途中我們就在 Google 推薦找了一個墨西哥料理 <a href="https://plus.google.com/105142487475227614532/about" target="_blank" rel="external">Escobar’s Mexican Restaurant
</a>，真的還不錯吃。可這份量實在太大了 = = 根本吃不完</p>
<img src="https://lh4.googleusercontent.com/-goVHkFTvzkA/VHaOOfWFV4I/AAAAAAAANXI/cvcfckVjojU/w800-no/PB112573.jpg">
<p>路上風景也很優美。</p>
<img src="https://lh6.googleusercontent.com/-CMrwup6QOhU/VHaONG9QqaI/AAAAAAAANW4/O-LdrzQZ1iw/w800-no/PB112570.jpg">
<p>繼續往裡面開，往布萊斯峽谷的公路上已經開始出現跟大峽谷不同的岩柱。藍天真的很美！</p>
<img src="https://lh4.googleusercontent.com/-bQBBiy114f4/VHaOQIS-ePI/AAAAAAAANXg/dckca5i0DCc/w800-no/PB112581.jpg">
<p>布萊斯峽谷是臨近的峽谷中(Grand Canyon 大峽谷國家公園、Zion 錫安國家公園)海拔最高的，約在 2400m ~ 2700m，抵達時約四五點已經感受到很冷了…</p>
<img src="https://lh5.googleusercontent.com/-tuO0maSDYNM/VHaOXjXl75I/AAAAAAAANYw/F2LgqT2bbGk/w800-no/PB112619.jpg">
<p>真的是各種奇怪</p>
<img src="https://lh4.googleusercontent.com/-wSfulBQbcIA/VHaOW6KLB-I/AAAAAAAANYk/LiIrqAJQ1Ro/w800-no/PB112620.jpg">
<p>白白的就是霜</p>
<img src="https://lh6.googleusercontent.com/-WmgC30gQ3eg/VHaOckz6rqI/AAAAAAAANZg/A6LZGil44js/w800-no/PB112647.jpg">
<div class="video-container"><iframe src="//www.youtube.com/embed/wXHlPlRirgk" frameborder="0" allowfullscreen></iframe></div>
<p>一樣在布萊斯峽谷看了夕陽，真的很美</p>
<img src="https://lh5.googleusercontent.com/-NwUOC0rRhGU/VHaOeADz6XI/AAAAAAAANZw/CkJERwK3iEE/w800-no/PB112654.jpg">
<p>看完夕陽我們就趕緊先衝去旅館，當晚我們住的是 <a href="http://book.bestwestern.com/bestwestern/US/UT/Bryce-Canyon-City-hotels/BEST-WESTERN-PLUS-Bryce-Canyon-Grand-Hotel/Hotel-Overview.do?propertyCode=45082" target="_blank" rel="external">BEST WESTERN PLUS Bryce Canyon Grand Hotel
</a>，飯店房間超大。東西放好後就出門，晚上一樣是要出去看星星。</p>
<img src="https://lh4.googleusercontent.com/-ovPS8EArVb8/VHaOhkRGVOI/AAAAAAAANao/sW3yJZHg2bA/w500-no/PB112661.jpg">
<p>同學冷到受不了，直接拿飯店的毛巾當圍巾，可見有多冷！</p>
<img src="https://lh5.googleusercontent.com/-ReT1p_3liA8/VHaOiDf37oI/AAAAAAAANa8/VlUAU_suVN8/w500-no/PB112662.jpg">
<p>不過附近的餐廳可能很少，只有一家 <a href="http://www.rubysinn.com/" target="_blank" rel="external">Ruby’s Inn</a> 有一家 Buffet，我們去的時候人已經暴多，於是就決定先去看星星，回來再看看有沒有的吃。</p>
<p>借同學拍的銀河，很美，可是真的他媽的超冷超冷超冷…到最後剩下我跟另一位有相機的在外面，其他人都受不了躲回車上了，我開了兩個暖暖包還是直發抖 = =…</p>
<img src="https://lh6.googleusercontent.com/-c6R1u6U7A_U/VHlWrFEo9rI/AAAAAAAAOfs/ld8T-viFCSY/w800-no/DSC01792.JPG">
<p>看完八點多回到 Ruby’s Inn 內的 Buffet 已經有位置我們就去吃了，在裡面又遇到一個會說一些中文的服務生帥哥，他說是他同學有些華人教他的，美國人真的很喜歡學簡單中文欸 XDDD</p>
<p>隔天起來發現車體結霜，我們的水都結冰了 XDDD，看預報當晚凌晨最低溫是負 6 度 0rz…</p>
<img src="https://lh6.googleusercontent.com/-Z0i2eB7eU9s/VHaOljz-AgI/AAAAAAAANbE/vax3fBwh7I8/w800-no/PB112678.jpg">
<p>早餐就吃飯店提供的，也是自助的，還蠻豐盛：麵包、牛奶、優格、水果、熱可可，喝到熱可可超感動的，很不錯吃。這天我們也是去走了一個布萊斯峽谷的 Trail - <a href="http://www.nps.gov/brca/planyourvisit/navajotrail.htm" target="_blank" rel="external">Navajo Loop</a>，全長 2.16 km，高度差 167 m，海拔約 2279m ~ 2438m。</p>
<img src="https://lh6.googleusercontent.com/-AlqUhbsA2ns/VHaOtlJmRNI/AAAAAAAANcg/v7Cv7eDDPF0/w500-no/PB122711.jpg">
<p>走在峽谷內真的覺得人超渺小</p>
<img src="https://lh4.googleusercontent.com/-x4XpEPIPaow/VHaO6eVDoxI/AAAAAAAANe4/XY8ftay0kjk/w500-no/PB122758.jpg">
<p>天氣好到走到最後覺得太熱了 = =</p>
<img src="https://lh5.googleusercontent.com/-6rPCdeyugqc/VHaO68FoazI/AAAAAAAANes/8Ykm8z1bUl0/w500-no/PB122761.jpg">
<p>景點：雷神索爾的錘子</p>
<img src="https://lh5.googleusercontent.com/-cKehOTUuglI/VHaO9SQKYDI/AAAAAAAANfA/jfKQfqb7xMU/w800-no/PB122770.jpg">
<p>Trail 不小心走太久我們竟然走完整條，本來是沒打算要走完的，看牌子寫剩沒幾 mile 拼了命也要完成，結果超遠的 = =，不過後半段還蠻精彩的確實是值得走的。</p>
<h1 id="錫安國家公園">錫安國家公園</h1><p>晃完布萊斯峽谷，繼續還是<a href="https://www.google.com.tw/maps/dir/Zion+National+Park,+Springdale,+UT,+USA/%E7%BE%8E%E5%9C%8B%E7%8C%B6%E4%BB%96%E5%B8%83%E8%90%8A%E6%96%AF%E5%B3%BD%E8%B0%B7%E5%9F%8E%E5%B8%83%E8%90%8A%E6%96%AF%E5%B3%BD%E8%B0%B7%E5%9C%8B%E5%AE%B6%E5%85%AC%E5%9C%92/@37.5059869,-112.8330603,10z/data=!4m13!4m12!1m5!1m1!1s0x80caead08844f8d9:0x7c2e3a15aa3656f5!2m2!1d-113.026298!2d37.298168!1m5!1m1!1s0x87356bc602c3eb2d:0x6be9d8fbbeac6d06!2m2!1d-112.18709!2d37.593038" target="_blank" rel="external">沿著 89 號</a>目標是到<a href="http://zh.wikipedia.org/wiki/%E9%8C%AB%E5%AE%89%E5%9C%8B%E5%AE%B6%E5%85%AC%E5%9C%92" target="_blank" rel="external">錫安國家公園</a>，不過錫安國家公園只是路過，我們當晚要衝去住拉斯維加斯，只是因為回程會路過，就繞進去看風景。開往錫安國家公園會經過一些 Trail，我們挑了一條 <a href="http://www.utah.com/hike/canyon-overlook-trail" target="_blank" rel="external">Canyon Overlook Trail</a> 走，算是簡單型路線，不過中間有段鏤空鐵橋，女同學會害怕就在那裡等我們。</p>
<img src="https://lh6.googleusercontent.com/-ZIi6097vpgc/VHaPBsumRNI/AAAAAAAANf4/wrCEywkc5h4/w800-no/PB122779.jpg">
<p>鐵橋</p>
<img src="https://lh5.googleusercontent.com/-N1FqHfLWLfk/VHaPAH53DsI/AAAAAAAANfo/PBBmgqMaVzY/w800-no/PB122782.jpg">
<p>到了終點就是…一個大峽谷 XD 遼闊到真的不知道怎麼形容，美國的峽谷都超大的啊</p>
<img src="https://lh5.googleusercontent.com/-AbVOvfj5dMA/VHaPCwIg0dI/AAAAAAAANgg/rGPBT0aEt5o/w800-no/PB122787.jpg">
<p>渺小的人類</p>
<img src="https://lh6.googleusercontent.com/-LFADe9ICtPo/VHlW-YAvY5I/AAAAAAAAOgM/deFjUEmwUpU/w800-no/DSC01931.JPG">
<p>走完 Trail 差不多一兩點又要找午餐了，於是我們就到錫安國家公園內的一家泰式料理 <a href="http://www.yelp.com/biz/thai-sapa-springdale" target="_blank" rel="external">Thai Sapa</a> ，還算好吃</p>
<img src="https://lh6.googleusercontent.com/-7Uw8NAC60zU/VHaPIROrq3I/AAAAAAAANg4/ZzPztGipLi4/w800-no/PB122814.jpg">
<p>吃飽後我們就沿著其附近的一條 <a href="http://www.tripadvisor.com/Attraction_Review-g143057-d146518-Reviews-Zion_Canyon_Scenic_Drive-Zion_National_Park_Utah.html" target="_blank" rel="external">Zion Canyon Scenic Drive</a> 開，沿途風景是我覺得這次峽谷行最美的。</p>
<img src="https://lh6.googleusercontent.com/-T21f4ZH9hfQ/VHaPKT_rMrI/AAAAAAAANhQ/_Vgpy7l7H-8/w500-no/PB122823.jpg">
<img src="https://lh6.googleusercontent.com/-KZIFe8wKVh8/VHaPLSA7XlI/AAAAAAAANhY/am1eApDJSJk/w800-no/PB122824.jpg">
<p>路上就有鹿!</p>
<img src="https://lh6.googleusercontent.com/-GgdmBxHv0Uk/VHaPPCTsDzI/AAAAAAAANiA/U97gAKcypL8/w800-no/PB122836.jpg">
<p>有山有水有小橋</p>
<img src="https://lh5.googleusercontent.com/-d7iTb4CkwTA/VHaPR0d0KdI/AAAAAAAANiU/OJ8hMetQXHQ/w800-no/PB122850.jpg">
<h1 id="拉斯維加斯">拉斯維加斯</h1><p>晃完之後差不多就要開往 Las Vegas 了，沿著 <a href="https://www.google.com.tw/maps/dir/Las+Vegas,+NV,+United+States/Zion+Canyon+Scenic+Drive,+Springdale,+UT,+United+States/@36.7062062,-115.2396613,8z/data=!3m1!4b1!4m11!4m10!1m5!1m1!1s0x80beb782a4f57dd1:0x3accd5e6d5b379a3!2m2!1d-115.1398296!2d36.1699412!1m3!2m2!1d-112.9624766!2d37.2542079" target="_blank" rel="external">15 號開</a> 路程 263 公里，當晚大約七點到我們要住的飯店 <a href="http://www.tripadvisor.com/Hotel_Review-g45963-d567617-Reviews-Marriott_s_Grand_Chateau-Las_Vegas_Nevada.html" target="_blank" rel="external">Marriott’s Grand Chateau
</a>，我們訂了一個公寓式的房間一共三房兩廳，還有廚房跟洗、乾衣機，房間很大，大概算是這次旅行訂最好的(也是第二貴的)。一樣放完行李後我們就出去晃大街了。拉斯維加斯真的好繁榮，整片都是大飯店。</p>
<img src="https://lh6.googleusercontent.com/-FYRwg6_sgNc/VHaPZkc64WI/AAAAAAAANjg/CcwcgJkEofI/w800-no/PB122871.jpg">
<p>路邊就有免費的 Show，我們在這裡看了水舞(位於 Bellagio 飯店)跟火山爆發(位於 Mirage 飯店)的 show</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/mX_7bw2uaqQ" frameborder="0" allowfullscreen></iframe></div>
<div class="video-container"><iframe src="//www.youtube.com/embed/UnkQ3WGP88g" frameborder="0" allowfullscreen></iframe></div>
<p>還路過了很奢華的威尼斯人</p>
<img src="https://lh6.googleusercontent.com/-E1D_9FxcXLc/VHaPeWU9j_I/AAAAAAAANko/DJtzFV3DHAc/w500-no/PB122895.jpg">
<p>這是室內欸！</p>
<img src="https://lh5.googleusercontent.com/-eK-tRe-gDrQ/VHaPeV76TrI/AAAAAAAANks/2v0joOm1VGw/w800-no/PB122900.jpg">
<p>有種無言的感覺就是，奢華的飯店</p>
<p>隔天白天在拉斯維加斯的行程就是逛街，我們去的是 <a href="http://www.premiumoutlets.com/outlets/outlet.asp?id=58" target="_blank" rel="external">North Premium Outlet</a>，可以先去他的官網加會員，去現場領 coupon，依照廠牌折扣不盡相同，像 Timberland 就是超過 100 美金打九折之類的，很划算，等於扣掉稅金。大家的戰利品。</p>
<img src="https://lh4.googleusercontent.com/-7EraGb6APkw/VHlXYr2sF4I/AAAAAAAAOhI/e-p4dD6jHXY/w800-no/DSC02059.JPG">
<p>隔天我們換一家飯店住，住的是 <a href="http://www.nynyhotelcasino.com/" target="_blank" rel="external">New York New York</a></p>
<img src="https://lh3.googleusercontent.com/-f-j0bptJIYc/VHaPirsLS9I/AAAAAAAANlY/8u0yIzcuh-o/w800-no/PB132912.jpg">
<p>飯店外有自由女神像跟雲霄飛車，飯店內都聽得到人在尖叫 XD</p>
<img src="https://lh5.googleusercontent.com/-6YhrQ86VrUQ/VHaPjR_8iGI/AAAAAAAANlo/EwzYz9Z_z0w/w500-no/PB132914.jpg">
<p>當晚的活動是看 KA show，下面是 KA show 場內，偷拍的，裡面不得拍照。我們看的 KA show 最後面是播動畫當下覺得莫名其妙，因為我問我妹他說他前年去都完全沒動畫，後來同學上網查發現原來是在 2013 年底發生意外死了一個表演者，所以最後面結尾才改動畫。不過整場 KA show 還是超精彩的！</p>
<img src="https://lh5.googleusercontent.com/-ioekXGwAHag/VHaPl_dQKcI/AAAAAAAANmI/Amf0a2yJu_U/w800-no/PB132920.jpg">
<h1 id="洛杉磯">洛杉磯</h1><p>隔天一早就是準備回出發地 ﹣ <a href="http://zh.wikipedia.org/zh-tw/%E6%B4%9B%E6%9D%89%E7%9F%B6" target="_blank" rel="external">洛杉磯</a>啦，<a href="https://www.google.com.tw/maps/dir/Los+Angeles,+CA,+United+States/New+York-New+York+Hotel+%26+Casino,+3790+South+Las+Vegas+Boulevard,+Las+Vegas,+NV+89109,+United+States/@35.0539738,-119.2066286,7z/data=!3m1!4b1!4m13!4m12!1m5!1m1!1s0x80c2c75ddc27da13:0xe22fdf6f254608f4!2m2!1d-118.2436849!2d34.0522342!1m5!1m1!1s0x80c8c5ccc25c8967:0xedac8aad053f7cee!2m2!1d-115.174556!2d36.102372" target="_blank" rel="external">沿著 15 號公路走</a> 共 430 公里又是長征，一早的早餐是麥當勞，不過這可是在美國第一次吃麥當勞，早餐有我最愛的比司吉！！</p>
<img src="https://lh5.googleusercontent.com/-K2EUzU4uXEQ/VHaPnbeq5GI/AAAAAAAANmg/-Vvt7XwC1Pg/w800-no/PB142928.jpg">
<p>比司吉實在太美味了</p>
<img src="https://lh4.googleusercontent.com/-pVNjaz5xsOU/VHaPn6szD3I/AAAAAAAANmo/BKdaoW8tVlA/w800-no/PB142929.jpg">
<p>不過當天回洛杉磯似乎天氣很差，空氣感覺不好，突然感覺到回到大城市了。</p>
<img src="https://lh4.googleusercontent.com/-A1imkQJ7Fc8/VHaPon7c5tI/AAAAAAAANms/DnJ7t-dY44Y/w800-no/PB142930.jpg">
<p>午餐就在中國城內叫<a href="http://www.chineseinla.com/restaurant/task_view/id_13159.html" target="_blank" rel="external">凱旋宮</a>的餐廳吃了</p>
<img src="https://lh5.googleusercontent.com/-Bzg2k1_H5ZI/VHaPpVvaQqI/AAAAAAAANm4/XIFl8qfANLY/w800-no/PB142932.jpg">
<p>發現貼在牆邊的海報，費玉清要在洛杉磯開演唱會</p>
<img src="https://lh4.googleusercontent.com/-q4JkAFS7Ql0/VHaPqucQOsI/AAAAAAAANnA/75rttiX6zz0/w800-no/PB142931.jpg">
<p>一群人點了一堆，感覺大家很久沒吃到中國食物的衝動 XDDD</p>
<img src="https://lh3.googleusercontent.com/-FWWLdrAkIjU/VHaPrmydOYI/AAAAAAAANnM/OYHvv5M_G84/w500-no/PB142935.jpg">
<img src="https://lh3.googleusercontent.com/-qNyT-LmWhHo/VHaPsHxBXDI/AAAAAAAANno/BpATUXn3yKQ/w800-no/PB142936.jpg">
<img src="https://lh3.googleusercontent.com/-viQ9wprgh00/VHaPsSgQWsI/AAAAAAAANnY/sEcW8uMSI90/w800-no/PB142937.jpg">
<p>每個都好吃啊</p>
<img src="https://lh3.googleusercontent.com/-OhzWJ60zW5o/VHaPvjxnc_I/AAAAAAAANn4/MetnrkGEbNo/w800-no/PB142941.jpg">
<p>美國的港式飲茶不用蒸籠的嗎?</p>
<img src="https://lh3.googleusercontent.com/-I39cc-jJcvE/VHaPv5gyh-I/AAAAAAAANoc/VlVlWNMWP4w/w800-no/PB142942.jpg">
<p>不過敗筆是我們點了炒飯跟炒麵…</p>
<img src="https://lh5.googleusercontent.com/-PizMB670PX8/VHaPxWaqUHI/AAAAAAAANoI/Dj-EGyF-syg/w800-no/PB142944.jpg">
<p>這炒麵跟炒飯有事嗎 XD 也太大碗了，失焦的炒飯</p>
<img src="https://lh3.googleusercontent.com/-JeDTNlF0-F0/VHaPyRnsJmI/AAAAAAAANoY/l3uj10ZD4PQ/w800-no/PB142945.jpg">
<p>這家餐廳隔壁開一家 Tea Station 是天仁茗茶的，本來想說可以買杯珍奶，結果看到價位似乎要 5.99 的樣子，就算了 = =</p>
<img src="https://lh3.googleusercontent.com/-H2-99sT3ZGA/VHaP2Roo9ZI/AAAAAAAANo4/xVgcAA2-mis/w800-no/PB142948.jpg">
<h1 id="蓋提美術館">蓋提美術館</h1><p>下午的行程是到 <a href="http://en.wikipedia.org/wiki/J._Paul_Getty_Museum" target="_blank" rel="external">Getty Museum 蓋提美術館</a></p>
<img src="https://lh6.googleusercontent.com/-bsexCUQD_Xg/VHlXnF_sf1I/AAAAAAAAOhw/hSLKow4eUSM/w800-no/DSC02111.JPG">
<p>蓋提美術館是私人美術館，免費參觀，停車場要錢就是，停車場在山下，要乘坐纜車上去美術館，整個美術館的設計也是非常優美。</p>
<img src="https://lh6.googleusercontent.com/-iKSVecaFQK4/VHaP3A2MQJI/AAAAAAAANpI/y0wJXAKxQCo/w800-no/PB142954.jpg">
<p>園區有一片仙人掌</p>
<img src="https://lh5.googleusercontent.com/-oYdxdT_2KgQ/VHaP4Ddnv0I/AAAAAAAANpY/BWWReKOEl98/w800-no/PB142958.jpg">
<img src="https://lh4.googleusercontent.com/-3_2c8394pfg/VHaP6pBqKQI/AAAAAAAANp4/eUkClP88_bQ/w800-no/PB142965.jpg">
<p>還有駐點的設計師</p>
<img src="https://lh5.googleusercontent.com/-AexrYBHht1g/VHaP8dBiXOI/AAAAAAAANqQ/QfawrTeWLuA/w800-no/PB142970.jpg">
<img src="https://lh3.googleusercontent.com/-yt38hJGs2EQ/VHaP9eeAgTI/AAAAAAAANqg/QQ4iY0yW-9I/w500-no/PB142972.jpg">
<p>草地可以給大家躺，我們是因為看到有麻麻帶著小孩在草地滾才發現的</p>
<img src="https://lh6.googleusercontent.com/-E1vgaebRpNQ/VHaQCVQ7AAI/AAAAAAAANrY/YwMYTqfEb4Q/w800-no/PB142985.jpg">
<h1 id="Urban_Light">Urban Light</h1><p>晚上我們就到洛杉磯美術館(LACMA)旁的 <a href="http://en.wikipedia.org/wiki/Urban_Light" target="_blank" rel="external">Urban light</a>，簡單來說就是一堆以前的路燈移植過來的啦 XDDD</p>
<img src="https://lh4.googleusercontent.com/-TaImlMEJNt0/VHaQGeT9UVI/AAAAAAAANsU/D7FDfiwLUt0/w800-no/PB142998.jpg">
<img src="https://lh4.googleusercontent.com/-o-4KjzWc8Mo/VHaQINEiJoI/AAAAAAAANso/52aedUKxX30/w500-no/PB143004.jpg">
<img src="https://lh6.googleusercontent.com/-7Hn3tc2qza8/VHaQIp50dMI/AAAAAAAANsw/dBqmv9h4PEg/w500-no/PB143007.jpg">
<img src="https://lh6.googleusercontent.com/-XmitY65ZWpU/VHaQKBKqfrI/AAAAAAAANtA/rg2hSE112b8/w500-no/PB143012.jpg">
<p>我覺得這裡用黑白拍還不錯，旁邊也有其他人在攝影，看起來是拍家庭紀念照</p>
<p>離開 Urban Light 我們晚餐吃 <a href="http://parksbbq.com/" target="_blank" rel="external">Park’s BBQ</a>，是一家韓式烤肉，有人會幫你料理肉，小費終於付的有感覺了 XD</p>
<img src="https://lh5.googleusercontent.com/-evBwmMEX3tY/VHaQMbPabpI/AAAAAAAANtg/yyqau6W2uL8/w800-no/PB143022.jpg">
<img src="https://lh4.googleusercontent.com/-UVEXccb1d5M/VHaQPLN6PUI/AAAAAAAANt4/Hc2TGXxRq00/w800-no/PB143026.jpg">
<img src="https://lh6.googleusercontent.com/-GIggXCdUvZ0/VHaQOQinjCI/AAAAAAAANuo/K0FNtA5LzsQ/w800-no/PB143025.jpg">
<img src="https://lh3.googleusercontent.com/-kRbIh0BcVRE/VHaQRRuEp6I/AAAAAAAANuQ/6EDHdGrnGp0/w800-no/PB143030.jpg">
<h1 id="Griffith_Observatory">Griffith Observatory</h1><p>吃完晚餐，我們來到洛杉磯外圍的 <a href="http://en.wikipedia.org/wiki/Griffith_Observatory" target="_blank" rel="external">Griffith 天文臺</a></p>
<img src="https://lh5.googleusercontent.com/-XFkOBm02q4I/VHaQTrgd6FI/AAAAAAAANuc/wkL5sufwxRs/w800-no/PB143035.jpg">
<p>這裡在一個山上，可以看洛杉磯市區夜景，白天可以看到 Hollywood sign</p>
<img src="https://lh6.googleusercontent.com/-TPnUhA8eL54/VHaQUvb-MsI/AAAAAAAANvg/J6GuVbgeAZ0/w800-no/PB143039.jpg">
<img src="https://lh3.googleusercontent.com/-Kk7-S6AajHg/VHaQUyxigVI/AAAAAAAANu0/-n7pU85K3S8/w500-no/PB143043.jpg">
<p>這裡大概就是參觀天文臺(免費的)跟看看夜景</p>
<p>當晚我們住 <a href="http://book.bestwestern.com/bestwestern/US/CA/Hollywood-hotels/BEST-WESTERN-PLUS-Hollywood-Hills-Hotel/Hotel-Overview.do?propertyCode=05204" target="_blank" rel="external">Best Western Plus Hollywood</a>，不過他的停車場入口超難找的，我們繞了三四圈才找到，結果隔天白天還是繞了兩次 = =，這裡也是我們住最貴又最小的旅館，只能說不愧是洛杉磯 QQ”</p>
<h1 id="華納兄弟">華納兄弟</h1><p>隔天我們到華納兄弟參訪，進去還要檢查揹包跟過金屬門，大概是檢查有沒有刀子之類的吧</p>
<img src="https://lh3.googleusercontent.com/-T1DrLITE5_0/VHaQWJ7V6iI/AAAAAAAANvE/17GAu_KB3dk/w800-no/PB153045.jpg">
<p>只要有交錢，人人都是 VIP</p>
<img src="https://lh5.googleusercontent.com/-3SoZYZmNML8/VHaQW-vQrlI/AAAAAAAANvY/M_TJiFLfcM4/w800-no/PB153047.jpg">
<p>票面會寫名字</p>
<img src="https://lh3.googleusercontent.com/-UGd46TOUTnk/VHaQX8VwXSI/AAAAAAAANvk/NNSiZzSNdZo/w500-no/PB153052.jpg">
<p>參訪就是坐著高爾夫球車逛各個製片廠，導遊人也很好會先問有沒有喜歡的電影之類的，然後就是帶我們一一介紹，不過全英文介紹有點吃力，尤其是對美劇沒有很了解的我 = =a</p>
<img src="https://lh5.googleusercontent.com/-duf5TonYFzs/VHaQaP6bylI/AAAAAAAANwA/GBAwvW8-DNs/w800-no/PB153057.jpg">
<img src="https://lh3.googleusercontent.com/-gOBNHCwZqME/VHaQbXcwcMI/AAAAAAAANwY/wLK0QezXFj8/w800-no/PB153060.jpg">
<p>後面那個長方形活動樹牆是用來遮住背景的</p>
<img src="https://lh4.googleusercontent.com/-XhOdKYR75Ak/VHaQc6bPViI/AAAAAAAANws/igINL0ULIGY/w800-no/PB153063.jpg">
<p>導遊說這塊草地是兩個禮拜前新鋪的，完全看不出來，不愧是拍電影，什麼都跟真的一樣，馬上就可以換新的佈置</p>
<img src="https://lh5.googleusercontent.com/-HTP5Mvp74ZI/VHaQejBx0vI/AAAAAAAANxA/NJLDJfFoyl0/w800-no/PB153065.jpg">
<p>裡面還有座博物館，一樓是蝙蝠俠的，二樓是哈利波特</p>
<img src="https://lh6.googleusercontent.com/-l9JMt7567Q8/VHaQiDk8SmI/AAAAAAAANxw/yRbWWJfABMM/w500-no/PB153072.jpg">
<p>有些是真實的戲服哦</p>
<img src="https://lh5.googleusercontent.com/-8aybi7En2ic/VHaQi-eGFWI/AAAAAAAANx4/HQTI9T15rUs/w500-no/PB153074.jpg">
<p>二樓是哈利波特區</p>
<img src="https://lh3.googleusercontent.com/-LDF40al-u8Y/VHaQq6JSeJI/AAAAAAAANzc/Szs9tQQYiOw/w500-no/PB153088.jpg">
<p>有個妙麗的蠟像，做得惟妙惟肖的</p>
<img src="https://lh5.googleusercontent.com/-8cWk8YfnTPA/VHaQpdd6l-I/AAAAAAAANzE/eQ9s0Zml7yE/w800-no/PB153087.jpg">
<p>看看這手的膚色</p>
<img src="https://lh5.googleusercontent.com/-L6k16wBheWw/VHaQqi7xJPI/AAAAAAAANzY/6CBeDUAfknM/w800-no/PB153091.jpg">
<p>催狂魔</p>
<img src="https://lh4.googleusercontent.com/-C8fYq3hVf4Q/VHaQrRsxtiI/AAAAAAAANzw/QJA4Z8AAcos/w500-no/PB153092.jpg" title="催狂魔  催狂魔">
<p>還有魔杖的手稿</p>
<img src="https://lh4.googleusercontent.com/-vnFvE3u5bP0/VHaQte09L6I/AAAAAAAAN0I/eeAcm7vOIOs/w800-no/PB153096.jpg">
<img src="https://lh5.googleusercontent.com/-gO1sbO8s34A/VHaQtji1zlI/AAAAAAAAN0M/8qpsXdgHmCs/w800-no/PB153097.jpg">
<p>我沒找到妙麗的，因為我忘記妙麗的英文名字是什麼 XD</p>
<p>戲服</p>
<img src="https://lh4.googleusercontent.com/-hGl89ZX6_yo/VHaQu1x7-ZI/AAAAAAAAN0g/zr024-Q-l0U/w500-no/PB153100.jpg">
<p>裡面也有兵工廠，製作木工或金屬</p>
<img src="https://lh4.googleusercontent.com/-mNOGAWJtXXY/VHaQxhsEa0I/AAAAAAAAN1I/qE78Xf7GwMs/w800-no/PB153107.jpg">
<p>裡面另一座博物館收藏了蝙蝠俠各種車子，是真的可以開的</p>
<img src="https://lh6.googleusercontent.com/-uM6ZySTFe4s/VHaQyH4Y9CI/AAAAAAAAN1Q/4izCiyitHPk/w500-no/PB153108.jpg">
<img src="https://lh3.googleusercontent.com/-5cE6WKI60wk/VHaQzcIongI/AAAAAAAAN1k/0gIXDutZ3Hs/w800-no/PB153111.jpg">
<img src="https://lh6.googleusercontent.com/-rYd6449j8Nk/VHaQ0CtI8dI/AAAAAAAAN1s/_sNgvyl5EWc/w800-no/PB153113.jpg">
<p>然後我們來到 Friends 的一部份佈景，是戲劇裡面的沙發跟吧台，導遊在這裡幫我們拍照</p>
<img src="https://lh4.googleusercontent.com/-gGyWzSaWkcw/VHaQ3ORiHQI/AAAAAAAAN2U/bFVdi68MOVE/w800-no/PB153118.jpg">
<img src="https://lh3.googleusercontent.com/-B9Q4jNRocYQ/VHaQ3e9IylI/AAAAAAAAN2c/HActVWz451E/w800-no/PB153120.jpg">
<p>最後逛了倉庫，裡面堆放各種拍攝的道具</p>
<img src="https://lh6.googleusercontent.com/-fva9XNhjM8I/VHaQ4dUrVpI/AAAAAAAAN2o/KeCVfTNM8_s/w800-no/PB153121.jpg">
<p>血跡塑膠片跟打人的假木頭</p>
<img src="https://lh6.googleusercontent.com/-aGYtwuuIi8o/VHaQ7Lfw2CI/AAAAAAAAN3M/8VxbMZCta_Q/w800-no/PB153123.jpg">
<p>亞果出任務的場景？ 完全想不起來了</p>
<img src="https://lh3.googleusercontent.com/-4WUQdmrj0_U/VHaQ5wmmZ_I/AAAAAAAAN24/vGJgllzfJmo/w800-no/PB153125.jpg">
<p>最後載我們回入口</p>
<img src="https://lh5.googleusercontent.com/-QRzOpd3W2xA/VHaQ7b66A8I/AAAAAAAAN3U/X-V2t71Hp6Y/w500-no/PB153127.jpg">
<p>然後我們到附近可以看到 Hollywood sign 的地方拍照片，以示到此一遊 XD</p>
<img src="https://lh6.googleusercontent.com/-GR8gjfSy1BQ/VHaQ7mUiSLI/AAAAAAAAN3Q/HvvtEyiEIos/w800-no/PB153129.jpg">
<p>午餐我們去吃龍蝦，不過我忘記是吃哪一家了 = =”</p>
<img src="https://lh4.googleusercontent.com/-CtnQJhvhuyg/VHaQ8QG1xXI/AAAAAAAAN3g/UkMuifCgHeg/w800-no/PB153134.jpg">
<p>我不想吃一堆蝦，所以點了牛排+蝦子，不喜歡美國人每次牛排五分都還是焦焦的 = =，不過這蝦子真的超鮮甜的，很嫩！</p>
<img src="https://lh6.googleusercontent.com/-JuT8bVc2jHU/VHaQ-VUbsII/AAAAAAAAN30/Yx2ZMDucMqw/w800-no/PB153136.jpg">
<img src="https://lh3.googleusercontent.com/-yyiuqG2CXkc/VHaQ87iO9OI/AAAAAAAAN3k/pzP_qnwVaCQ/w800-no/PB153137.jpg">
<h1 id="Santa_Monica">Santa Monica</h1><p>下午我們去 <a href="http://zh.wikipedia.org/wiki/%E5%9C%A3%E8%8E%AB%E5%B0%BC%E5%8D%A1" target="_blank" rel="external">Santa Monica</a> 逛逛，順便看海，終於看到 Apple Store，來朝聖一下，生意超級好的</p>
<img src="https://lh4.googleusercontent.com/-UAlDr7kAdGA/VHaQ91QD0xI/AAAAAAAAN3w/3tlY7OoZM4M/w800-no/PB153139.jpg">
<p>公園也還蠻有趣的</p>
<img src="https://lh5.googleusercontent.com/-rG5I2BcazjY/VHaQ_QDC2xI/AAAAAAAAN4I/Nr9jFoJZUmE/w800-no/PB153141.jpg">
<p>Santa Monica 的夕陽</p>
<img src="https://lh5.googleusercontent.com/-laz98w5q1Nw/VHaQ_j99I1I/AAAAAAAAN4A/H1k0-2knQQ4/w800-no/PB153143.jpg">
<p>超多海鷗</p>
<img src="https://lh5.googleusercontent.com/-I_2Sp1G6cDk/VHaRA_RcX8I/AAAAAAAAN4o/RGVNBjw0sKs/w800-no/PB153146.jpg">
<p>夕陽之2</p>
<img src="https://lh4.googleusercontent.com/-g5CGWJm9e04/VHaRDN02DEI/AAAAAAAAN5A/Vp2jEbXNsAw/w800-no/PB153154.jpg">
<p>沙灘旁有遊樂園</p>
<img src="https://lh6.googleusercontent.com/-AbB4XVgcq8U/VHaRDI180KI/AAAAAAAAN48/mv88aUKlBDA/w800-no/PB153156.jpg">
<p>遊樂園那邊整條街都有在賣紀念品的，也有街頭藝人</p>
<img src="https://lh5.googleusercontent.com/-l7mQ4AegTIs/VHaRE-yI9oI/AAAAAAAAN5c/eH0qHqTRuJM/w800-no/PB153162.jpg">
<p>個人覺得他們的市徽很有趣</p>
<img src="https://lh4.googleusercontent.com/-KxCqPuErlE0/VHaRGCMa1jI/AAAAAAAAN5s/3Y-VYiMlPzY/w800-no/PB153165.jpg">
<h1 id="好萊塢大道">好萊塢大道</h1><p>隔天也是在洛杉磯的最後一天，同學是下午的飛機回台，我則是搭晚上到奧蘭多的飛機，所以早上還是有時間晃，我們去了<a href="http://zh.wikipedia.org/zh-tw/%E5%A5%BD%E8%8E%B1%E5%9D%9E%E5%A4%A7%E9%81%93" target="_blank" rel="external">好萊塢大道</a></p>
<p>這裡的好萊塢大道只有星星，沒有香港的手印，我們一開始找很久 = =”</p>
<img src="https://lh3.googleusercontent.com/--gUR2B-QHKs/VHaRIAYV98I/AAAAAAAAN6Q/LvLW2hd5AEw/w800-no/PB163171.jpg">
<p>有手印的是在一家<a href="http://zh.wikipedia.org/zh-tw/%E4%B8%AD%E5%9C%8B%E6%88%B2%E9%99%A2" target="_blank" rel="external">中國戲院</a>前面，一點都不中國風 = =，很妖魔 XD 是要嚇誰</p>
<img src="https://lh4.googleusercontent.com/-4qVQ7_HZsqk/VHaRH7Q7AxI/AAAAAAAAN6I/BpP661-uulU/w500-no/PB163169.jpg">
<p>這裡可以看到哈利波特的手印</p>
<img src="https://lh6.googleusercontent.com/-mhwBxlefnx0/VHaRH_URM7I/AAAAAAAAN6E/vvkwqzVZ584/w800-no/PB163170.jpg">
<p>沿路走到末端，拜了拜 Google 大神，我們最後早餐在 <a href="http://www.tiagocoffee.com" target="_blank" rel="external">Tiago</a> 吃</p>
<img src="https://lh3.googleusercontent.com/-lFHtTj4NxC4/VHaRMiJr5fI/AAAAAAAAN7Y/IKsFbkpJme8/w800-no/PB163185.jpg">
<p>店內佈置</p>
<img src="https://lh3.googleusercontent.com/-M4N3Sg8koRM/VHaRJkTHFoI/AAAAAAAAN6o/KSZ2bAKWqhA/w800-no/PB163176.jpg">
<img src="https://lh3.googleusercontent.com/-u1qI5SPD49U/VHaRK6mCm0I/AAAAAAAAN64/H0fZ0a9884o/w800-no/PB163178.jpg">
<img src="https://lh4.googleusercontent.com/-ZTmiYIIZH5o/VHaRLNwul1I/AAAAAAAAN7A/5OT_0qwm_hc/w800-no/PB163180.jpg">
<img src="https://lh6.googleusercontent.com/-9joAnPGu4R8/VHaRLlAedPI/AAAAAAAAN7I/LWUUacDirv0/w800-no/PB163183.jpg">
<img src="https://lh4.googleusercontent.com/-pmJgrpbrKnY/VHaRMVg1jRI/AAAAAAAAN7Q/6Z7RYbOStr4/w800-no/PB163184.jpg">
<p>這是我點的藍莓鬆餅</p>
<img src="https://lh3.googleusercontent.com/-GNcme4OuV9w/VHaRNJYBQtI/AAAAAAAAN7g/vgaESR2Ri_k/w800-no/PB163186.jpg">
<p>很好吃，非常推薦！</p>
<p>吃完就沿著原路回去旅館 check out 然後開車回去還車了，抬起頭看到飛機一台一台的掠過上空，才突然有種旅程結束的感覺。</p>
<img src="https://lh6.googleusercontent.com/-LFfVYk9M5L0/VHaRO7hF69I/AAAAAAAAN8A/TTapkZk4Zi8/w800-no/PB163191.jpg">
<p>洛杉磯機場國際廳</p>
<img src="https://lh4.googleusercontent.com/-Z7wV9i7o8MQ/VHaRPecJHYI/AAAAAAAAN8E/Y-i7F--PUJc/w500-no/PB163196.jpg">
<p>美國真的很有趣很好玩，東西除了牛排每次都很焦不習慣之外其他都覺得也不錯吃(不過這是因為我們這次沒吃什麼華人食物就是，速食也吃不多)，有機會一定會再來玩第二次！</p>
]]></content>
    <summary type="html">
    <![CDATA[2014-11-07 ~ 2014-11-14 美西一週峽谷之旅]]>
    
    </summary>
    
      <category term="美國" scheme="http://blog.littlero.se/tags/%E7%BE%8E%E5%9C%8B/"/>
    
      <category term="遊記" scheme="http://blog.littlero.se/categories/%E9%81%8A%E8%A8%98/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[NCLP 11 考試]]></title>
    <link href="http://blog.littlero.se/post/NCLP-11-%E8%80%83%E8%A9%A6/"/>
    <id>http://blog.littlero.se/post/NCLP-11-考試/</id>
    <published>2014-12-05T03:05:40.000Z</published>
    <updated>2015-03-14T05:40:55.000Z</updated>
    <content type="html"><![CDATA[<p>今年十一月中因緣際會去奧蘭多參加了 <a href="http://susecon.com" target="_blank" rel="external">SUSEcon14</a>，會後有提供 NCLA、NCLP 11&amp;12 的認證。因為小弟已經有 NCLA (考過 LPIC-1 就會送了)，所以本次想說順便拿個 NCLP 的認證。</p>
<p>考試前就很不順，我考試的場次是 11:00 ~ 2:00，大約 10:40 就去報到，等啊等，等到 10:55 突然考試人員出來考場說，因為他們的資料中心發生網路問題，現在連不上考試系統，當下一囧，想說不知道要等多久…我的飛機不等人啊，幸好後來在 11:20 左右排除了。</p>
<a id="more"></a>
<p>考前 Novell 會寄一封信，裡面有 candidate ID (Novell 網站上的數字 ID) &amp; registration key，考官會開啟系統界面要你輸入，登入後就開始考試啦，考試界面有四五個標籤頁，最重要的只有考試內容那個而已，題目大約是四大題，每題約四五小題，各大題可說有關係也沒關係。</p>
<p>考試系統界面上還會有兩個按鈕可以按，分別是 Server 1 &amp; Server 2，按下去會跑出遠端的 X-window 畫面，基本上就可以開始作答了，對了順道一提，我以為考試時間會從我按下開始開始計算三小時，結果似乎是原本的考試時間算，所以我的考試時間一樣到下午兩點而已 = =</p>
<p>我的題目第一大題是 Account management，主要就是在兩台各創一些無密碼的帳號與有密碼的帳號跟群組，然後再無密碼帳號裡建立 ssh-key，利用 key 做 ssh 登入，這樣就完成了。</p>
<p>第二題其實我忘記了 XD，只記得要用 vim 改設定的樣子，不過考到第二題時，我的那台筆電鍵盤上下左右壞了，不受控制，按下就會送 enter，叫主考官來他說他也不知道為什麼，不過他說可以幫我重新開始，我說不過我等等有飛機時間不允許= =，我繼續考好了…，不過因為不習慣 vim 的 hjkl 移動游標，最後索性開 gedit 完成 XD</p>
<p>第三題是在第一台 Server 設定 Apache，這年代有點古老啊…我現在都玩 nginx 早就沒在用 Apache 都忘記的差不多了，題目是建立資料夾然後用 htpasswd 建立指定的帳號密碼在指定的檔案位置上，然後在 <code>/etc/apache2/default-server.conf</code> 設定剛剛的資料夾只有那些帳號密碼能登入看(AuthType basic)，最後是要讓第一題的兩台電腦都可以用特定 hostname 存取第一台 Server (設定 <code>/etc/hosts</code>)，不過因為小弟已經很久沒用 Apache 其實早就忘記怎麼設定 Auth，man 了半天也看不到結果，最後索性想說直接在 /etc/apache2/ 直接 grep 看有沒有類似的關鍵字 XD，運氣還真的很好，那台預裝有 nagios 是監控系統的套件，他的 admin 界面也是需要 htpasswd 的檔案來 auth ，所以小弟直接 copy 在改改就完成了 XDDD。</p>
<p>第四題是考 shell script 的撰寫，大意是利用 top 留 log 來記錄系統狀態，然後參數只有一個，是控制間隔時間，所以大概就是考考 <code>$#</code> 跟 <code>if</code> 的使用，top 稍微 man 一下就知道參數怎麼用，最後就是 <code>&gt;&gt;</code> 或 <code>&gt;</code> 導到指定位置(有時間當檔名所以 <code>date</code> 也要稍微知道怎麼用)，大致來說也不難。</p>
<p>最後其實寫不到兩個小時我就交了，還不到一點半，題目看起來都不難，而且因為是上機考其實可以一直 man，或者像我一樣亂 grep XD，最後按下送出，等個幾分鐘，他就會顯示你有沒有過了。當然最後是順利拿到 NCLP 11 ，本來他還有提供 NCLA &amp; NCLP 12 的考試，不過小弟時間不夠，加上我沒有 NCLA 12 先考 12 也是拿不到證書，索性作罷。</p>
<p>順道一提，我以為我拿到的是 NCLP (Novell Certified Linux Professional)，不過不知道是不是我參加的是 SUSE 辦的，最後我拿到的是 SCLP (SUSE Certified Linux Professional)，很妙…</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>今年十一月中因緣際會去奧蘭多參加了 <a href="http://susecon.com">SUSEcon14</a>，會後有提供 NCLA、NCLP 11&amp;12 的認證。因為小弟已經有 NCLA (考過 LPIC-1 就會送了)，所以本次想說順便拿個 NCLP 的認證。</p>
<p>考試前就很不順，我考試的場次是 11:00 ~ 2:00，大約 10:40 就去報到，等啊等，等到 10:55 突然考試人員出來考場說，因為他們的資料中心發生網路問題，現在連不上考試系統，當下一囧，想說不知道要等多久…我的飛機不等人啊，幸好後來在 11:20 左右排除了。</p>]]>
    
    </summary>
    
      <category term="Linux" scheme="http://blog.littlero.se/tags/Linux/"/>
    
      <category term="資訊" scheme="http://blog.littlero.se/categories/%E8%B3%87%E8%A8%8A/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[build static link nginx]]></title>
    <link href="http://blog.littlero.se/post/build-static-link-nginx/"/>
    <id>http://blog.littlero.se/post/build-static-link-nginx/</id>
    <published>2014-04-09T10:06:43.000Z</published>
    <updated>2015-03-14T05:38:01.000Z</updated>
    <content type="html"><![CDATA[<p>因為敝公司系統的環境有 OpenSUSE 跟 SUSE Linux Enterprise Sever SP2/SP3 混合，所以要更新 nginx 時往往要生出三個版本，實在有點搞人，不過其實也可以不要理會 libcrypt 版本不合的訊息啦，可是還是覺得編譯一個萬用的版本比較方便維護。</p>
<p>nginx 一共需要用到 libpthread, libcrypt, libpcre, libssl, libcrypto, libz, libdl，其中可以另外設定的有 OpenSSL, PCRE, Zlib 這三種，可以提供 libcrypt, libpcre, libssl, libcrypto, libz, libdl，然後 pthread 的就靠系統提供的 static 的 .a 了，所以要生出編譯的指令如下：</p>
<script src="//gist.github.com/27c86d8318500a239858.js"></script>
<p>備註：假設 我們自己 Download 的 openssl, pcre, zlib 的原始碼都放在 /usr/src 底下</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>因為敝公司系統的環境有 OpenSUSE 跟 SUSE Linux Enterprise Sever SP2/SP3 混合，所以要更新 nginx 時往往要生出三個版本，實在有點搞人，不過其實也可以不要理會 libcrypt 版本不合的訊息啦，可是還是覺得編譯一個萬用的版本]]>
    </summary>
    
      <category term="Linux" scheme="http://blog.littlero.se/tags/Linux/"/>
    
      <category term="nginx" scheme="http://blog.littlero.se/tags/nginx/"/>
    
      <category term="資訊" scheme="http://blog.littlero.se/categories/%E8%B3%87%E8%A8%8A/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Conky]]></title>
    <link href="http://blog.littlero.se/post/conky/"/>
    <id>http://blog.littlero.se/post/conky/</id>
    <published>2014-02-27T09:52:09.000Z</published>
    <updated>2015-03-14T05:39:08.000Z</updated>
    <content type="html"><![CDATA[<p><a href="http://conky.sourceforge.net/" target="_blank" rel="external">Conky</a> 是一款類似 Mac OS X <a href="http://projects.tynsoe.org/en/geektool/" target="_blank" rel="external">GeekTool</a> 的桌面小工具 (其實 Conky 比較早出生，不過我比較晚發現 XD)。</p>
<p>他們都可以透過一些內建的 Function 或者寫 shell script 來顯示電腦的狀態(或者想印在桌面的狀態)，例如我現在的桌面是這樣的</p>
<img src="https://lh5.googleusercontent.com/-xr-ly4Xre5s/Uw8NTDx7SNI/AAAAAAAAISA/UkVyIMyWF_E/w1516-h852-no/2014-02-27%2B18%3A01%3A13%2B%E7%9A%84%E8%9E%A2%E5%B9%95%E6%93%B7%E5%9C%96.png">
<p>大致上就是顯示天氣，網路速度、流量，CPU、記憶體、硬碟等使用率，然後還有 CPU 溫度跟風扇的資訊，最下面有 parse RSS (Gentoo Security) 的部分</p>
<p>參考網路設計師 <a href="http://satya164.deviantart.com/art/Conky-Google-Now-366545753" target="_blank" rel="external">Conky Google Now</a> 這個主題</p>
<p>小弟合併了官網其他人貢獻的設定，稍微修改了一下</p>
<a id="more"></a>
<p>從剛剛那個 Google Now 的 theme 下載 conky_google_now_by_satya164-d628cih.zip 解壓縮之後會有個 .conky-google-now 複製到家目錄 (也就是 ~/.conky-google-now) 底下即可</p>
<p>以下是我的設定 直接存檔成 ~/.conkyrc 然後用 <code>conkyrc -d</code> 啟動就可以看到程式了</p>
<script src="//gist.github.com/9247424.js?file=.conkyrc"></script>
<p>最後面的 RSS 是取自 <a href="http://conky.sourceforge.net/conky-rss.sh" target="_blank" rel="external">conky-rss.sh</a></p>
<p>另外天氣的部分如果要改地區，可以先到 <a href="http://weather.yahoo.com/" target="_blank" rel="external">Yahoo Weather</a> 查詢地區碼，我的設定裡面是用 9807 也就是溫哥華的代碼</p>
]]></content>
    <summary type="html">
    <![CDATA[<p><a href="http://conky.sourceforge.net/">Conky</a> 是一款類似 Mac OS X <a href="http://projects.tynsoe.org/en/geektool/">GeekTool</a> 的桌面小工具 (其實 Conky 比較早出生，不過我比較晚發現 XD)。</p>
<p>他們都可以透過一些內建的 Function 或者寫 shell script 來顯示電腦的狀態(或者想印在桌面的狀態)，例如我現在的桌面是這樣的</p>
<img src="https://lh5.googleusercontent.com/-xr-ly4Xre5s/Uw8NTDx7SNI/AAAAAAAAISA/UkVyIMyWF_E/w1516-h852-no/2014-02-27%2B18%3A01%3A13%2B%E7%9A%84%E8%9E%A2%E5%B9%95%E6%93%B7%E5%9C%96.png">
<p>大致上就是顯示天氣，網路速度、流量，CPU、記憶體、硬碟等使用率，然後還有 CPU 溫度跟風扇的資訊，最下面有 parse RSS (Gentoo Security) 的部分</p>
<p>參考網路設計師 <a href="http://satya164.deviantart.com/art/Conky-Google-Now-366545753">Conky Google Now</a> 這個主題</p>
<p>小弟合併了官網其他人貢獻的設定，稍微修改了一下</p>]]>
    
    </summary>
    
      <category term="Linux" scheme="http://blog.littlero.se/tags/Linux/"/>
    
      <category term="資訊" scheme="http://blog.littlero.se/categories/%E8%B3%87%E8%A8%8A/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[install graylog2]]></title>
    <link href="http://blog.littlero.se/post/install-graylog2/"/>
    <id>http://blog.littlero.se/post/install-graylog2/</id>
    <published>2014-01-24T13:55:56.000Z</published>
    <updated>2015-03-14T05:40:20.000Z</updated>
    <content type="html"><![CDATA[<img src="https://lh4.googleusercontent.com/-HxbTnQ713EE/UuKP3HTDr_I/AAAAAAAAH0Y/5PqTkSwGYOY/w758-h379-no/Screenshot+2014-01-25+00.04.08.png">
<p><a href="http://graylog2.org/" target="_blank" rel="external">Graylog2</a> 是一個開源的 log 收容器，主要有兩個部份集合而成 <code>server</code> 與 <code>web interface</code>，兩個都是由 Java 寫的，Server 的部份可以收容 syslog over TCP/UDP, 同時他也有自己的格式 GRLF (Graylog Extended Log Format)，背後的儲存是搭配 <a href="http://www.mongodb.org/" target="_blank" rel="external">mongodb</a>，而搜尋引擎則由 <a href="http://www.elasticsearch.org/" target="_blank" rel="external">elasticsearch</a> 提供。另外的 web interface 也是 Java 寫成的(早期好像是 Ruby on Rails)，主要的功能就是提供一個漂亮的搜尋與分析的界面。</p>
<p>所以要使用 Graylog2 需要安裝五個元件</p>
<table>
<thead>
<tr>
<th>軟體</th>
<th>版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>Java Runtime Environment</td>
<td>7u51</td>
</tr>
<tr>
<td>elasticsearch</td>
<td>0.90.10</td>
</tr>
<tr>
<td>mongodb</td>
<td>2.4.9</td>
</tr>
<tr>
<td>graylog2-server</td>
<td>0.20.1-1rc</td>
</tr>
<tr>
<td>graylog2-web-interface</td>
<td>0.20.1-1rc</td>
</tr>
</tbody>
</table>
<p>我們先從 elasticsearch 開始安裝起，以下都用目前最新的版本來示範，基本上不分什麼 Linux Distribution，我們單位都用 SUSE，不過 Gentoo 或 Ubuntu 也都適用就是</p>
<a id="more"></a>
<p>首先因為 elasticsearch 跟 graylog2 都需要 Java，所以我們的系統需要安裝 JRE 先，最低需求是 Java 7.0 的版本，所以我們先到 <a href="http://java.com/en/download/manual.jsp" target="_blank" rel="external">Java Download</a> 下載 JRE 7u51 下來，假設下載到 /tmp/jre-7u51-linux-x64.tar.gz 下面，先解壓縮到 /opt 底下 <code>tar zxvf /tmp/jre-7u51-linux-x64.tar.gz -C /opt</code> 會產生 /opt/jre1.7.0_51/ 然後我們為了好看做一下 link <code>ln -s /opt/jre1.7.0_51 /opt/java</code> 這樣 Java 就裝好了。</p>
<p>接下來來裝 elasticsearch，<code>curl https://download.elasticsearch.org/elasticsearch/elasticsearch/elasticsearch-0.90.10.tar.gz -o /tmp/elasticsearch.tgz &amp;&amp; tar zxvf /tmp/elasticsearch.tgz -C /opt &amp;&amp; ln -s /opt/elasticsearch-0.90.10 /opt/elasticsearch</code> 這樣基本上就裝好了，不過我們還需要建立一些資料夾讓 elasticsearch 可以運作起來。</p>
<figure class="highlight"><figcaption><span>build basic directory</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">install -o nobody -g nogroup -d /var/log/elasticsearch/&#10;install -o nobody -g nogroup -d /var/lib/elasticsearch/data&#10;install -o nobody -g nogroup -d /var/lib/elasticsearch/work&#10;install -o nobody -g nogroup -d /var/run/elasticsearch/</span><br></pre></td></tr></table></figure>
<p>之所以給 nobody:nogroup 是希望之後我們的 elasticsearch 就用 nobody 的身份執行，其實沒有強制，如果要建立 elasticsearch 的專用帳號也是可以的。</p>
<p>接著改個設定</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i -e &#39;s|# cluster.name: elasticsearch|cluster.name: graylog2|&#39; /opt/elasticsearch/config/elasticsearch.yml</span><br></pre></td></tr></table></figure>
<p>這個是把 elasticsearch 的名字設定成 graylog2，這樣之後 server 才吃得到。</p>
<p>然後我們來建立啟動 elasticsearch 的 script 吧，貼上下列的 code 到 /etc/init.d/elasticsearch 然後 <code>chmod +x /etc/init.d/elasticsearch</code>。</p>
<script src="//gist.github.com/a1d4fdbdca18d31cf437.js"></script>
<p>接著 <code>/etc/init.d/elasticsearch start</code> ，理論上應該 elasticsearch 就啟動了。可以用 <code>tail -f /var/log/elasticsearch/graylog2.log</code> 來看情況。</p>
<p>接下來是安裝 mongodb，<code>curl http://fastdl.mongodb.org/linux/mongodb-linux-x86_64-2.4.9.tgz -o /tmp/mongodb.tgz &amp;&amp; tar zxvf /tmp/mongodb.tgz -C /opt &amp;&amp; ln -s /opt/mongodb-linux-x86_64-2.4.9 /opt/mongodb</code> 這樣也裝好了，mongodb 基本上完全不需要設定(要設定帳密增加安全性也可以)。我們來增加啟動 mongob 的 script，新增下面的內容到 /etc/init.d/mongodb 然後 <code>chmod +x /etc/init.d/mongodb</code>。</p>
<script src="//gist.github.com/c931db641e7f4008e4e3.js"></script>
<p>一樣需要增加一些資料夾才能正常使用</p>
<figure class="highlight"><figcaption><span>build basic directory</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">install -o nobody -g nogroup -d /var/log/mongodb/&#10;install -o nobody -g nogroup -d /var/lib/mongodb/&#10;install -o nobody -g nogroup -d /var/run/mongodb/</span><br></pre></td></tr></table></figure>
<p>接著也啟動看看 <code>/etc/init.d/mongodb start</code>，我們透過 <code>tail -f /var/log/mongodb/mongodb.log</code> 可以知道啟動的狀態，如果都沒錯理論上可以繼續下一步了。</p>
<p>目前為止我們可以透過 <code>netstat -ntlp</code> 看 9300 (elasticsearch 的 port) 跟 27017 (mongodb 的 port) 有沒有在監聽著，就知道有沒有啟動成功了。</p>
<p>接下來就是要裝 graylog2 啦，首先是 server，<code>curl https://github.com/Graylog2/graylog2-server/releases/download/0.20.0-rc.1-1/graylog2-server-0.20.0-rc.1-1.tgz -o /tmp/graylog2-server.tgz &amp;&amp; tar zxvf /tmp/graylog2-server.tgz -C /opt &amp;&amp; ln -s /opt/graylog2-server-0.20.0-rc.1-1 /opt/graylog2-server</code> 然後我們需要設定一下</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /opt/graylog2-server/graylog2.conf.example /etc/graylog2.conf&#10;pass_secret=$(pwgen -s 96)&#10;sed -i -e &#39;s|password_secret =|password_secret = &#39;$pass_secret&#39;|&#39; /etc/graylog2.conf&#10;#&#23494;&#30908;&#33258;&#24049;&#35373;&#23450; web &#30331;&#20837;&#29992;&#30340; root_pass_sha2=$(echo -n password123 | shasum -a 256)&#10;sed -i -e &#34;s|root_password_sha2 =|root_password_sha2 = ef92b778bafe771e89245b89ecbc08a44a4e166c06659911881f383d4473e94f|&#34; /etc/graylog2.conf&#10;sed -i -e &#39;s|elasticsearch_shards = 4|elasticsearch_shards = 1|&#39; /etc/graylog2.conf&#10;sed -i -e &#39;s|mongodb_useauth = true|mongodb_useauth = false|&#39; /etc/graylog2.conf&#10;sed -i -e &#39;s|#elasticsearch_discovery_zen_ping_multicast_enabled = false|elasticsearch_discovery_zen_ping_multicast_enabled = false|&#39; /etc/graylog2.conf&#10;sed -i -e &#39;s|#elasticsearch_discovery_zen_ping_unicast_hosts = 192.168.1.203:9300|elasticsearch_discovery_zen_ping_unicast_hosts = 127.0.0.1:9300|&#39; /etc/graylog2.conf&#10;sed -i &#39;s|retention_strategy = delete|retention_strategy = close|&#39; /etc/graylog2.conf</span><br></pre></td></tr></table></figure>
<p>然後一樣來增加 init script 吧，在 /etc/init.d/graylog2-server 填入下列，並 <code>chmod +x /etc/init.d/graylog2-server</code></p>
<script src="//gist.github.com/62ad68382f8a33244a6e.js"></script>
<p>然後直接啟動了！ <code>/etc/init.d/graylog2-server start</code>，看看 <code>tail -f /var/log/graylog2-server.log</code> 是不是有出現錯誤訊息，沒有錯的話 <code>netstat -ntlp</code> 應該可以看到 port:12900 有被監聽了，這是 server 的 REST 傳輸 port。</p>
<p>最後我們就可以來裝 web interface 了，<code>curl hhttps://github.com/Graylog2/graylog2-web-interface/releases/download/0.20.0-rc.1-1/graylog2-web-interface-0.20.0-rc.1-1.tgz -o /tmp/graylog2-web-interface.tgz &amp;&amp; tar zxvf /tmp/graylog2-web-interface.tgz -C /opt &amp;&amp; ln -s /opt/graylog2-web-interface-0.20.0-rc.1-1 /opt/graylog2-web-interface</code><br>這裡我們只有兩個地方要設定</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i -e &#39;s|graylog2-server.uris=&#34;&#34;|graylog2-server.uris=&#34;http://127.0.0.1:12900/&#34;|&#39; /opt/graylog2-web-interface/conf/graylog2-web-interface.conf&#10;# &#36889;&#35041;&#22635;&#20837;&#21083;&#21083; server &#30340; app_secret&#10;sed -i -e &#39;s|application.secret=&#34;&#34;|application.secret=&#34;&#39;$app_secret&#39;&#34;|&#39; /opt/graylog2-web-interface/conf/graylog2-web-interface.conf</span><br></pre></td></tr></table></figure>
<p>然後我們也來寫一下 init script 吧，檔名存 /etc/init.d/graylog2-web-interface，記得一樣 <code>chmod +x /etc/init.d/graylog2-web-interface</code></p>
<script src="//gist.github.com/97ac6a26cf7d5f2da36f.js"></script>
<p>最後啟動 <code>/etc/init.d/graylog2-web-interface start</code>，因為我們沒有寫 log，直接用 <code>netstat -ntlp</code> 觀察看看 port:9000 有沒有被聽著，這是他的 web interface 預設的 http port。</p>
<p>如果 port:9000 有起來的話，請用你的瀏覽器打開 <a href="http://ip:9000" target="_blank" rel="external">http://ip:9000</a> 看，沒有意外的話應該會出現一個登入的畫面了，帳號一開始都是 admin，密碼則是剛剛自己設定在 /etc/graylog2.conf 的 root_pass_sha2=$(echo -n password123 | shasum -a 256)，如果剛剛是直接複製貼上然後按下 enter 的話，密碼就是 password123，如果沒有意外應該就可以進去啦！恭喜，現在可以開始使用 graylog2 了。</p>
<hr>
<p>參考資料</p>
<ul>
<li><a href="http://everythingshouldbevirtual.com/ubuntu-12-04-graylog2-installation" target="_blank" rel="external">Ubuntu 12.04 Graylog2 Installation</a></li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<img src="https://lh4.googleusercontent.com/-HxbTnQ713EE/UuKP3HTDr_I/AAAAAAAAH0Y/5PqTkSwGYOY/w758-h379-no/Screenshot+2014-01-25+00.04.08.png">
<p><a href="http://graylog2.org/">Graylog2</a> 是一個開源的 log 收容器，主要有兩個部份集合而成 <code>server</code> 與 <code>web interface</code>，兩個都是由 Java 寫的，Server 的部份可以收容 syslog over TCP/UDP, 同時他也有自己的格式 GRLF (Graylog Extended Log Format)，背後的儲存是搭配 <a href="http://www.mongodb.org/">mongodb</a>，而搜尋引擎則由 <a href="http://www.elasticsearch.org/">elasticsearch</a> 提供。另外的 web interface 也是 Java 寫成的(早期好像是 Ruby on Rails)，主要的功能就是提供一個漂亮的搜尋與分析的界面。</p>
<p>所以要使用 Graylog2 需要安裝五個元件</p>
<table>
<thead>
<tr>
<th>軟體</th>
<th>版本</th>
</tr>
</thead>
<tbody>
<tr>
<td>Java Runtime Environment</td>
<td>7u51</td>
</tr>
<tr>
<td>elasticsearch</td>
<td>0.90.10</td>
</tr>
<tr>
<td>mongodb</td>
<td>2.4.9</td>
</tr>
<tr>
<td>graylog2-server</td>
<td>0.20.1-1rc</td>
</tr>
<tr>
<td>graylog2-web-interface</td>
<td>0.20.1-1rc</td>
</tr>
</tbody>
</table>
<p>我們先從 elasticsearch 開始安裝起，以下都用目前最新的版本來示範，基本上不分什麼 Linux Distribution，我們單位都用 SUSE，不過 Gentoo 或 Ubuntu 也都適用就是</p>]]>
    
    </summary>
    
      <category term="Linux" scheme="http://blog.littlero.se/tags/Linux/"/>
    
      <category term="graylog2" scheme="http://blog.littlero.se/tags/graylog2/"/>
    
      <category term="資訊" scheme="http://blog.littlero.se/categories/%E8%B3%87%E8%A8%8A/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[saltstack 自定 grains]]></title>
    <link href="http://blog.littlero.se/post/saltstack-custom-grains/"/>
    <id>http://blog.littlero.se/post/saltstack-custom-grains/</id>
    <published>2013-07-10T13:00:29.000Z</published>
    <updated>2015-05-04T08:56:19.000Z</updated>
    <content type="html"><![CDATA[<p><a href="/post/nice-to-meet-saltstack/">上一集</a> 中，簡單的介紹了 Salt 的使用方法，這集要稍微深入的介紹 Salt 的其中一個部份 - <a href="http://docs.saltstack.com/topics/targeting/grains.html" target="_blank" rel="external">Grains</a>，Grains 基本上就是機器的資訊，通常指的是不會變動的部份，比方說 CPU 有幾顆、記憶體有多少、作業系統是用什麼的(CentOS, Ubuntu, SUSE…etc)、網卡資訊，至於會變動的資訊通常會用 Salt 的 <a href="http://docs.saltstack.com/topics/pillar/index.html" target="_blank" rel="external">Pilar</a> 功能，雖然 SaltStack 支援很多種 Linux Distribution，而且他的 API 也儘可能的豐富每一個 Distro，像是套件管理系統就有支援 CentOS 的 yum、 Ubuntu 的 APT、 SUSE 的 zypper，但是終究不是每一個系統的特色都能夠完整的支援(可能需要自己貢獻上去?)，像是 SUSE Linux Enterprise Server (簡稱 SLES) 除了大版本號，還有小版本的 Service Pack，撰文的今天剛好出了 SLES 11 SP3，但是 Salt 內建的 Grains 只有偵測到 OS 是 SLES 就沒了，有時候我會依照不同的 Service Pack 需要不一樣的設定(因為 SP2 的套件有時候會支援某些功能，但是 SP1 時候還沒有，像是 sudoer 的設定)，但是不能判斷版本怎麼辦? 沒關係 Salt 具有高度擴充性，我們可以自定想要的 Grains。</p>
<a id="more"></a>
<p>我們先介紹一下內建的 Grains 有什麼好了，我們先隨便挑一台機器，<code>salt &#39;www-01&#39; grains.items</code>，如果執行有成功應該會出現如下的資訊：</p>
<pre><code>www-<span class="number">01</span>:
<span class="label">  biosreleasedate:</span> <span class="number">06</span><span class="regexp">/22/</span><span class="number">2012</span>
<span class="label">  biosversion:</span> <span class="number">6.00</span>
<span class="label">  cpu_flags:</span> fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts mmx fxsr sse sse2 ss ht syscall nx lm constant_tsc arch_perfmon pebs bts nopl tsc_reliable nonstop_tsc aperfmperf pni ssse3 cx16 sse4_1 x2apic hypervisor lahf_lm dtherm
<span class="label">  cpu_model:</span> Intel(R) Xeon(R) CPU           L5420  @ <span class="number">2.50</span>GHz
<span class="label">  cpuarch:</span> x86_64
<span class="label">  defaultencoding:</span> UTF8
<span class="label">  defaultlanguage:</span> zh_TW
<span class="label">  domain:</span> 
<span class="label">  fqdn:</span> www-<span class="number">01</span>
<span class="label">  gpus:</span>
      {<span class="string">'model'</span>: <span class="string">'SVGA II Adapter'</span>, <span class="string">'vendor'</span>: <span class="string">'unknown'</span>}
<span class="label">  host:</span> www-<span class="number">01</span>
<span class="label">  id:</span> www-<span class="number">01</span>
<span class="label">  ip_interfaces:</span> {<span class="string">'sit0'</span>: [], <span class="string">'lo'</span>: [<span class="string">'127.0.0.1'</span>], <span class="string">'eth0'</span>: [<span class="string">'192.168.1.1'</span>]}
<span class="label">  ipv4:</span>
      <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>
      <span class="number">192.168</span><span class="number">.1</span><span class="number">.1</span>
<span class="label">  kernel:</span> Linux
<span class="label">  kernelrelease:</span> <span class="number">3.9</span><span class="number">.7</span>-neoesque
<span class="label">  localhost:</span> www-<span class="number">01</span>
<span class="label">  manufacturer:</span> VMware, Inc.
<span class="label">  master:</span> salt
<span class="label">  mem_total:</span> <span class="number">8016</span>
<span class="label">  nodename:</span> www-<span class="number">01</span>
<span class="label">  num_cpus:</span> <span class="number">4</span>
<span class="label">  num_gpus:</span> <span class="number">1</span>
<span class="label">  os:</span> SUSE  Enterprise Server
<span class="label">  os_family:</span> Suse
<span class="label">  oscodename:</span> x86_64
<span class="label">  osfullname:</span> SUSE Linux Enterprise Server
<span class="label">  osrelease:</span> <span class="number">11</span>
<span class="label">  path:</span> <span class="regexp">/sbin:/</span><span class="string">bin:</span><span class="regexp">/usr/</span><span class="string">sbin:</span><span class="regexp">/usr/</span>local<span class="regexp">/bin:/</span>usr<span class="regexp">/bin/</span>
<span class="label">  productname:</span> VMware Virtual Platform
<span class="label">  ps:</span> ps -efH
<span class="label">  pythonpath:</span>
      <span class="regexp">/usr/</span>local/bin
      <span class="regexp">/usr/</span>local<span class="regexp">/lib64/</span>python2<span class="number">.6</span><span class="regexp">/site-packages/</span>pip-<span class="number">1.3</span><span class="number">.1</span>-py2<span class="number">.6</span>.egg
      <span class="regexp">/usr/</span>lib/python26.zip
      <span class="regexp">/usr/</span>lib64/python2<span class="number">.6</span>
      <span class="regexp">/usr/</span>lib64<span class="regexp">/python2.6/</span>plat-linux2
      <span class="regexp">/usr/</span>lib64<span class="regexp">/python2.6/</span>lib-tk
      <span class="regexp">/usr/</span>lib64<span class="regexp">/python2.6/</span>lib-old
      <span class="regexp">/usr/</span>lib64<span class="regexp">/python2.6/</span>lib-dynload
      <span class="regexp">/usr/</span>lib64<span class="regexp">/python2.6/</span>site-packages
      <span class="regexp">/usr/</span>local<span class="regexp">/lib64/</span>python2<span class="number">.6</span>/site-packages
<span class="label">  pythonversion:</span> <span class="number">2.6</span><span class="number">.0</span>.<span class="keyword">final</span><span class="number">.0</span>
<span class="label">  saltpath:</span> <span class="regexp">/usr/</span>local<span class="regexp">/lib64/</span>python2<span class="number">.6</span><span class="regexp">/site-packages/</span>salt
<span class="label">  saltversion:</span> <span class="number">0.15</span><span class="number">.90</span>
<span class="label">  serialnumber:</span> VMware-<span class="number">42</span> <span class="number">30</span> <span class="number">04</span> <span class="number">4</span>b <span class="number">79</span> d2 c1 <span class="number">59</span>-<span class="number">92</span> <span class="number">2</span>b eb <span class="number">2</span>e <span class="number">71</span> d4 <span class="number">7</span>c <span class="number">63</span>
<span class="label">  server_id:</span> <span class="number">1323040866</span>
<span class="label">  shell:</span> <span class="regexp">/bin/</span>zsh
<span class="label">  virtual:</span> VMware
</code></pre><p>如果想要單獨知道某一個，可以這樣下 <code>salt &#39;www-01&#39; grains.item os</code>這樣就只會出現</p>
<pre><code><span class="attribute">www-01</span>:
  <span class="attribute">os</span>: SUSE  Enterprise Server
</code></pre><p>但是從上面的資訊我們可以發現 Salt 與預設只能抓到剛剛說的 os: SLES 跟 osrelease: 11，並沒有我們想要的 service pack 的版本號，所以我們需要自己新增。</p>
<p>首先在 Master 的電腦的 Base 底下新增一個叫做 <strong>_grains</strong>的資料夾，如果是預設值也就是 <strong>/srv/salt/_grains</strong>，指令如下 <code>install -d /srv/salt/_grains</code>，然後隨便產生一個副檔名是 <strong>.py</strong> 的檔案就好，比方說我產生一個 <strong>os.py</strong>，然後內容如下:</p>
<p><code>vi /srv/salt/_grains/os.py</code></p>
<pre><code><span class="function"><span class="keyword">def</span> <span class="title">patch</span><span class="params">()</span>:</span>
    <span class="string">''' 
        return Service Pack Version
    '''</span>
    grains = {}
    <span class="keyword">for</span> line <span class="keyword">in</span> open(<span class="string">"/etc/SuSE-release"</span>):
        <span class="keyword">if</span> <span class="string">"PATCHLEVEL"</span> <span class="keyword">in</span> line:
            patch = int(line.split(<span class="string">"="</span>)[-<span class="number">1</span>])
    grains[<span class="string">'ospatch'</span>] = patch
    <span class="keyword">return</span> grains
</code></pre><p>因為 SUSE 的 SP 版本號存在 <strong>/etc/SuSE-release</strong>，所以這裏只是一個小小的 python code 去把我們要的資訊取出來，注意到的幾個關鍵是</p>
<ul>
<li>開頭不用 #!/usr/bin/python ，因為這個檔案原本 salt 就會直接餵給 python 吃而已</li>
<li>grains 這個變數可以直接覆寫，因為最後是 merge 結果的，所以 grains[‘ospatch’] = patch 最後你的 <code>grains.items</code> 裡面就會多一個 ospatch 的變數</li>
</ul>
<p>存檔後就可以準備下指令啦！首先是請各個 minion 來領檔案回去，所以就是 <code>salt &#39;*&#39; state.highstate</code>，下完之後這時候直接打 <code>salt &#39;www-01&#39; grains.item ospatch</code>，應該會沒顯示東西，因為這時候我們還沒更新資料，前面說過 grains 是 static 的，所以要更新資料我們要下 <code>salt &#39;*&#39; sys.reload_modules</code> 這樣 minion 就會重新 scan modules 了，接著我們就可以下看看 <code>salt &#39;*&#39; grains.item ospatch</code> 如果沒錯誤應該可以看到如下的結果</p>
<pre><code><span class="attribute">www-stage</span>:
  <span class="attribute">ospatch</span>: <span class="number">1</span>
<span class="attribute">www-02</span>:
  <span class="attribute">ospatch</span>: <span class="number">2</span>
<span class="attribute">www-01</span>:
  <span class="attribute">ospatch</span>: <span class="number">2</span>
<span class="attribute">www-03</span>:
  <span class="attribute">ospatch</span>: <span class="number">2</span>
<span class="attribute">www-04</span>:
  <span class="attribute">ospatch</span>: <span class="number">2</span>
</code></pre><p>自定 Grains 大概就是這麼一回事嘍~</p>
]]></content>
    <summary type="html">
    <![CDATA[<p><a href="/post/nice-to-meet-saltstack/">上一集</a> 中，簡單的介紹了 Salt 的使用方法，這集要稍微深入的介紹 Salt 的其中一個部份 - <a href="http://docs.saltstack.com/topics/targeting/grains.html">Grains</a>，Grains 基本上就是機器的資訊，通常指的是不會變動的部份，比方說 CPU 有幾顆、記憶體有多少、作業系統是用什麼的(CentOS, Ubuntu, SUSE…etc)、網卡資訊，至於會變動的資訊通常會用 Salt 的 <a href="http://docs.saltstack.com/topics/pillar/index.html">Pilar</a> 功能，雖然 SaltStack 支援很多種 Linux Distribution，而且他的 API 也儘可能的豐富每一個 Distro，像是套件管理系統就有支援 CentOS 的 yum、 Ubuntu 的 APT、 SUSE 的 zypper，但是終究不是每一個系統的特色都能夠完整的支援(可能需要自己貢獻上去?)，像是 SUSE Linux Enterprise Server (簡稱 SLES) 除了大版本號，還有小版本的 Service Pack，撰文的今天剛好出了 SLES 11 SP3，但是 Salt 內建的 Grains 只有偵測到 OS 是 SLES 就沒了，有時候我會依照不同的 Service Pack 需要不一樣的設定(因為 SP2 的套件有時候會支援某些功能，但是 SP1 時候還沒有，像是 sudoer 的設定)，但是不能判斷版本怎麼辦? 沒關係 Salt 具有高度擴充性，我們可以自定想要的 Grains。</p>]]>
    
    </summary>
    
      <category term="Linux" scheme="http://blog.littlero.se/tags/Linux/"/>
    
      <category term="SaltStack" scheme="http://blog.littlero.se/tags/SaltStack/"/>
    
      <category term="資訊" scheme="http://blog.littlero.se/categories/%E8%B3%87%E8%A8%8A/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[自拍神器 Casio TR15 開箱]]></title>
    <link href="http://blog.littlero.se/post/casio-tr15/"/>
    <id>http://blog.littlero.se/post/casio-tr15/</id>
    <published>2013-07-02T13:47:42.000Z</published>
    <updated>2015-03-14T05:39:40.000Z</updated>
    <content type="html"><![CDATA[<img src="http://farm4.staticflickr.com/3802/9193251238_d0c9f9b0d7_c.jpg">
<p>注意這款號稱「自拍神器」系列的相機也已經大概半年多了吧，大概是半年前小弟的女友跟小弟提起的，不過可怕的神器連價格也很可怕，此款的前兩代 TR150 台灣官方售價是一萬一，但是因為出貨速度緩慢，市場缺貨缺得要死，市場上大陸的水貨竟然叫價到接近 3 萬，實在是不知道台灣卡西歐在做什麼，製造速度有這麼慢嗎？這種水貨商實在讓人覺得坑殺小朋友不眨眼，尤其是在 Facebook 卡西歐的官方粉絲頁更有一些電信商趾高氣昂，更氣的是還買了一台兩百多萬的賓士！讓我都想去開通訊行坑殺高中生&amp;俗稱的水水(管他是不是正妹，這台拍下去保證各個都是正咩) XD</p>
<p>其實我後來也就忘記這件事了，因為女友也叫我不要買，因為實在背離原價太多了，一直到六月中，再逛 Mobile01 時，突然看到消費相機版的卡西歐有人 po 了一篇文章說 TR200 的下一代 TR350 (大陸的稱呼) 已經在六月初上市了，然後台灣也會上國際版的，代號是 <a href="http://chiconydcd.tw/casio/products/preview/110.html" target="_blank" rel="external">TR15</a>，於是就上了 Facebook 的卡西歐粉絲頁看了一下，果然會上！！但是！他媽的卡西歐是搶劫嗎，TR15 的售價竟然是兩萬四，竟然比 TR150 貴了一倍多 = =，不過功能也多一些些就是了(他媽的再罵一次 Casio 以為你是萊卡嗎！)，電容式觸碰螢幕，螢幕解析度也提升到 92 萬畫素，然後有 Wifi ，在傳輸照片或者是自拍控制都相當方便，核心處理引擎也變成兩顆，不管是開機速度或者拍照處理速度都比之前的更快，但主要的規格都差不多還是維持 1/2.3 寸的 1210 萬畫素、光圈 2.8、超廣角的等效焦距 21mm。</p>
<a id="more"></a>
<p>後來從粉絲團有人推文得知原來台灣代理商-群光電子，早在六月中就有少量鋪貨到他們的經銷商那裡可以打電話問或者預約排隊，所以索性我就依照群光的官網一間一間打，第一間：賣完了哦，現在有預約的已經登記了一百多個了…（內心 OS： 干 那我登記個屁）。後來又打了問第二間到第四間都差不多的迴應，就說之前官方就有少量(1~2臺)進貨，但是都賣出去了，價格是 33k (厲害了吧，官方售價是 24k 然後代理商可以賣 33k 還被允許，你他媽的卡西歐跟群光都沒在管的)，說要預約的話前面也很多人在排隊，而且後面的公司貨也都依照這個價格賣… 0rz… (內心的 OS：奸商！你們這群奸商！ 不過其實水貨商才可怕，叫到 35k 了，到底是可以賺多大？）</p>
<p>後來又得知 PCHome 會有預售的活動，而且是依照 TR15 台灣官方的定價 24k 賣，所以後來無聊就想說每天早上十點都來搶看看，這次 TR15 一共有三個顏色， PCHome 預購每天每個顏色都放出 2 臺左右(干！我還是搞不懂台灣卡西歐在干嘛 = =)，小弟一開始第一天沒搶到，第二天還是沒有，後來從第一二天學到經驗，就是一定要先登入 PCHome 購物，然後要點 ATM 或 iBon 付費，因為這兩個都是先結帳才付款，如果選信用卡光是填卡號跟過個認證就輸了，接著是要把寄送的地址那一頁用 AutoFill 先設定好，這樣一點完 ATM 那頁進去後自動填完就可以直接送出，運氣好的話就買到了 :P，所以後來很幸運的在第三天搶到一台白色的，搶到當下超爽的 A_A，不過第四天運氣不好，進去之後點太慢沒搶到 &gt; &lt; 不然本來想說可以賣掉，補一下自己要留著這台的價錢(放心我本來只打算賣 28k XD 應該不算奸商吧)，不過沒差至少女友的禮物有著落了 XD，很快的 6/27 訂，今天 7/2 就收到了，以下是熱騰騰的開箱文。</p>
<p><a href="http://www.flickr.com/photos/neoesque/9190455023/" title="Flickr 上 neoesque 的 P7021251" target="_blank" rel="external"><img src="http://farm8.staticflickr.com/7443/9190455023_6ae691dd82_c.jpg" width="800" height="600" alt="P7021251"></a><br>熱騰騰的公司貨！群光直送！</p>
<p><a href="http://www.flickr.com/photos/neoesque/9190454321/" title="Flickr 上 neoesque 的 P7021254" target="_blank" rel="external"><img src="http://farm8.staticflickr.com/7454/9190454321_b36d5c0168_c.jpg" width="800" height="600" alt="P7021254"></a><br>預購內容物是相機+送的相機袋，不過老實說送的就是送的，這品質頗差 0rz…</p>
<p><a href="http://www.flickr.com/photos/neoesque/9190450169/" title="Flickr 上 neoesque 的 P7021257" target="_blank" rel="external"><img src="http://farm4.staticflickr.com/3693/9190450169_8476f5317d_c.jpg" width="800" height="600" alt="P7021257"></a><br>拿出來~</p>
<p>由於到處都有條碼，其實我分不出哪些是唯一的，所以通通馬賽克~</p>
<p><a href="http://www.flickr.com/photos/neoesque/9190451075/" title="Flickr 上 neoesque 的 P7021258" target="_blank" rel="external"><img src="http://farm8.staticflickr.com/7386/9190451075_542314e9cd_c.jpg" width="800" height="600" alt="P7021258"></a><br>很素的包裝，但是看起來乾淨清爽，我喜歡</p>
<p><a href="http://www.flickr.com/photos/neoesque/9190449741/" title="Flickr 上 neoesque 的 P7021260" target="_blank" rel="external"><img src="http://farm8.staticflickr.com/7305/9190449741_ecf2f6cb65_c.jpg" width="800" height="600" alt="P7021260"></a><br>換另一個角度看 ˙﹃˙</p>
<p><a href="http://www.flickr.com/photos/neoesque/9193245744/" title="Flickr 上 neoesque 的 P7021261" target="_blank" rel="external"><img src="http://farm8.staticflickr.com/7366/9193245744_2bdf67760e_c.jpg" width="800" height="600" alt="P7021261"></a><br>把內盒拉出來！</p>
<p><a href="http://www.flickr.com/photos/neoesque/9193251238/" title="Flickr 上 neoesque 的 P7021262" target="_blank" rel="external"><img src="http://farm4.staticflickr.com/3802/9193251238_d0c9f9b0d7_c.jpg" width="800" height="600" alt="P7021262"></a><br>僵~僵~ 白色的！這次的鋼琴烤漆真的很美，而且很幸運的小弟拿到的沒有刮痕(也可能是白的看不到 XD)，網路有人預購黑機(黑機只有第一天才有 &gt; &lt;)，有明顯的刮痕 0rz…</p>
<p><a href="http://www.flickr.com/photos/neoesque/9193250594/" title="Flickr 上 neoesque 的 P7021263" target="_blank" rel="external"><img src="http://farm4.staticflickr.com/3716/9193250594_b6d58a7acc_c.jpg" width="800" height="600" alt="P7021263"></a><br>馬上再反面檢查一下 (有灰塵就是了，拿球吹一下就好)，左下方是開機鍵(充電的話按一下會變成磁碟機模式，電腦會出現 microSD 卡)，中間那顆是快門鍵</p>
<p><a href="http://www.flickr.com/photos/neoesque/9193245054/" title="Flickr 上 neoesque 的 P7021264" target="_blank" rel="external"><img src="http://farm8.staticflickr.com/7324/9193245054_e2f65c32e4_c.jpg" width="800" height="600" alt="P7021264"></a><br>台灣保卡，因為是 PCHome 買的，所以購買證明要另外從 PCHome 的網頁印出來</p>
<p><a href="http://www.flickr.com/photos/neoesque/9238321875/" title="Flickr 上 neoesque 的 P7081364" target="_blank" rel="external"><img src="http://farm4.staticflickr.com/3684/9238321875_6ae2bd8d1c_c.jpg" width="800" height="600" alt="P7081364"></a><br>印出來的購買證明</p>
<p><a href="http://www.flickr.com/photos/neoesque/9190446987/" title="Flickr 上 neoesque 的 P7021265" target="_blank" rel="external"><img src="http://farm8.staticflickr.com/7292/9190446987_3884c504d5_c.jpg" width="800" height="600" alt="P7021265"></a><br>保卡下面盒子裝的內容物，一共有電池、台灣插頭、大陸插頭、USB 轉 microUSB 的線、插頭轉 USB 的轉接座、吊繩、說明書</p>
<p><a href="http://www.flickr.com/photos/neoesque/9190452999/" title="Flickr 上 neoesque 的 P7021267" target="_blank" rel="external"><img src="http://farm8.staticflickr.com/7338/9190452999_956dce8f8f_c.jpg" width="800" height="600" alt="P7021267"></a><br>立刻拆開電池跟背蓋準備充電了！ (電池蓋打開的方式是側邊有個按鈕按下去就可以把蓋子往外推了) BTW，這電池小的跟什麼一樣 = = 感覺就很不持久啊啊啊啊 0rz…</p>
<p><a href="http://www.flickr.com/photos/neoesque/9190451371/" title="Flickr 上 neoesque 的 P7021268" target="_blank" rel="external"><img src="http://farm3.staticflickr.com/2834/9190451371_15d4f13a03_c.jpg" width="800" height="600" alt="P7021268"></a><br>這次的 TR15 是吃 microSD，因為小弟手邊剛好有用不到的金士頓 microSD 8G，就直接裝上去啦！</p>
<p><a href="http://www.flickr.com/photos/neoesque/9190450791/" title="Flickr 上 neoesque 的 P7021269" target="_blank" rel="external"><img src="http://farm8.staticflickr.com/7356/9190450791_986797d5c9_c.jpg" width="800" height="600" alt="P7021269"></a><br>接電腦充電！</p>
<p><a href="http://www.flickr.com/photos/neoesque/9193243762/" title="Flickr 上 neoesque 的 P7021270" target="_blank" rel="external"><img src="http://farm8.staticflickr.com/7336/9193243762_67131b6f96_c.jpg" width="800" height="600" alt="P7021270"></a><br>Casio 不愧是日本商，小弟拿手邊的日本手機 <a href="http://www.eprice.com.tw/mobile/talk/103/4063961/1/rv/nec-docomo-n-02a-review/" target="_blank" rel="external">N-02A</a> 擺一起，根本就一模一樣的設計理念啊！日本的東西真的很容易一眼就看出來 = =</p>
<p>後來小弟充了快兩個小時才充完電，感覺還蠻久的，不知道是不是電池本來是沒電的，因為充電中沒辦法打開電源 0rz…，我一按電源鍵就變成隨身碟模式，有點懶得翻說明書不清楚是不是原本就這樣設計，來說一說把玩了一小時的使用感想好了，操作速度方面沒話說，電容式螢幕真的非常靈敏，然後整體的反應也相當流暢，選單用起來很直覺，該有的說明都有，一看就知道在幹嗎，不過選單實在做的很不吸引人，會讓人以為這是什麼古老的界面，但是操作沒有什麼障礙，跟 iPhone 的 App 搭配起來也很完美。</p>
<p><a href="http://www.flickr.com/photos/neoesque/9238328665/" title="Flickr 上 neoesque 的 P7081372" target="_blank" rel="external"><img src="http://farm6.staticflickr.com/5510/9238328665_edf8e30646_c.jpg" width="800" height="600" alt="P7081372"></a><br>操作界面，雖然每個項目都很大，但是解析度有點慘就是了 一 一”</p>
<p><a href="http://www.flickr.com/photos/neoesque/9238327405/" title="Flickr 上 neoesque 的 P7081373" target="_blank" rel="external"><img src="http://farm6.staticflickr.com/5453/9238327405_dae38b558c_c.jpg" width="800" height="600" alt="P7081373"></a><br>控制Menu，中文字體解析度還是很糟</p>
<p><a href="http://www.flickr.com/photos/neoesque/9238325997/" title="Flickr 上 neoesque 的 P7081374" target="_blank" rel="external"><img src="http://farm6.staticflickr.com/5549/9238325997_61c6a35657_c.jpg" width="800" height="600" alt="P7081374"></a></p>
<p><a href="http://www.flickr.com/photos/neoesque/9241103964/" title="Flickr 上 neoesque 的 P7081375" target="_blank" rel="external"><img src="http://farm6.staticflickr.com/5506/9241103964_6c292e2785_c.jpg" width="600" height="800" alt="P7081375"></a><br>美白 12 個 Level，預設在 6</p>
<p>接下來就是介紹一下這次的主打 Wifi 功能啦</p>
<p>照相時點一下上方手機的圖案就會出現下面這個畫面</p>
<p><a href="http://www.flickr.com/photos/neoesque/9241100984/" title="Flickr 上 neoesque 的 P7081376" target="_blank" rel="external"><img src="http://farm6.staticflickr.com/5445/9241100984_e38669d3ab_c.jpg" width="800" height="600" alt="P7081376"></a><br>裡面說明了 Wifi 放出來的名字跟密碼，其中密碼可以在選單自己設定，不然就是一組預設的數字</p>
<p><a href="http://www.flickr.com/photos/neoesque/9241100560/" title="Flickr 上 neoesque 的 P7081377" target="_blank" rel="external"><img src="http://farm4.staticflickr.com/3719/9241100560_8f677e8703_c.jpg" width="800" height="600" alt="P7081377"></a><br>馬上開手機連了，連上後 TR15 的畫面就會切換，提醒你開起 App，記得先下載如下的 Casio App</p>
<p><a href="http://www.flickr.com/photos/neoesque/9193803312/" title="Flickr 上 neoesque 的 IMG_1647" target="_blank" rel="external"><img src="http://farm6.staticflickr.com/5497/9193803312_ed9b24ff9b_c.jpg" width="533" height="800" alt="IMG_1647"></a><br>iPhone 的 App</p>
<p><a href="http://www.flickr.com/photos/neoesque/9241100510/" title="Flickr 上 neoesque 的 P7081378" target="_blank" rel="external"><img src="http://farm3.staticflickr.com/2863/9241100510_1fb4d863fe_c.jpg" width="800" height="600" alt="P7081378"></a><br>然後手機就會顯示 TR15 鏡頭的畫面了，可以看到可以拉遠拉近(數位變焦)，然後有快門按鍵，還有切換錄影或者照相</p>
<p>整體反應也是很快的，Wifi 的功能都沒什麼遲滯</p>
<p>再來是下載照片的部份，下載到手機的速度非常快，基本上已經超越我平常在用的 Toshiba FlashAir 了，這方面沒什麼大問題，真的很方便，而且放出 Wifi 速度也很快，我用過的 FlashAir 有時候都會找不到 Wifi 0rz…</p>
<p>最後說一下照出來的效果好了，簡單來說兩個字「模糊」，哇靠這台相機簡直就是像單眼的 ISO 開很高然後狂抹啊！我的皮膚都被磨亮了 XD 下面這張是 TR15 照的小弟自拍照(因為女友是不露臉的！)，首度亮相！表情很詭異，小弟是在是不怎麼上相 0rz…</p>
<p>小弟都只放 800 x 600 大小的，因為其實原圖就是抹得很多而已，應該也不會有人想看這台的原圖 XD</p>
<img src="http://farm8.staticflickr.com/7410/9191328839_3ccc327426_c.jpg">
<p>小弟的皮膚就像上了密粉一樣，而且小弟臉上的痣乍看都不見了啦，這個真的很扯耶 XD 加上小弟本來就蠻白的，現在還白到發亮！我都懷疑到底是他對焦沒對好還是真的抹很大…</p>
<p>下面在貼一張小弟的 E-M5 + 12mm (等效 24mm 所以比 TR15 的 21mm 稍微的沒有那麼廣角) 的自拍照當對照 &gt; //// &lt; 這張是用 Olympus 的人像模式下去拍的</p>
<img src="http://farm4.staticflickr.com/3787/9191325161_c8cd3a2b0e_c.jpg">
<p>12mm 這顆的顏色實在淡很多而且很冷色系，不過微單眼照起來還是跟消費性相機有很明顯的不一樣，這張比較明顯的反應了真實的顏色，而且也比較立體(可能是比較銳利加上光圈 2.0 散景比較模糊的關係)，TR15 抹到沒什麼立體感可言，我還只開 Level 6 耶(美白最高 12 階)</p>
<p>縱觀來說 TR15 主打的就是自拍，如果就自拍來說，它的確是會有女生都喜歡的那種能力 XD 只能說他的定位定的很巧妙，不過我倒是很好奇他的榮景能保持多久，因為照理說如果自拍神機真的賣的這麼好，理論上其他數位相機廠應該也會爭先恐後的跳進來才對，可是目前依然只有卡西歐在做，真的是滿匪夷所思的。</p>
]]></content>
    <summary type="html">
    <![CDATA[<img src="http://farm4.staticflickr.com/3802/9193251238_d0c9f9b0d7_c.jpg">
<p>注意這款號稱「自拍神器」系列的相機也已經大概半年多了吧，大概是半年前小弟的女友跟小弟提起的，不過可怕的神器連價格也很可怕，此款的前兩代 TR150 台灣官方售價是一萬一，但是因為出貨速度緩慢，市場缺貨缺得要死，市場上大陸的水貨竟然叫價到接近 3 萬，實在是不知道台灣卡西歐在做什麼，製造速度有這麼慢嗎？這種水貨商實在讓人覺得坑殺小朋友不眨眼，尤其是在 Facebook 卡西歐的官方粉絲頁更有一些電信商趾高氣昂，更氣的是還買了一台兩百多萬的賓士！讓我都想去開通訊行坑殺高中生&amp;俗稱的水水(管他是不是正妹，這台拍下去保證各個都是正咩) XD</p>
<p>其實我後來也就忘記這件事了，因為女友也叫我不要買，因為實在背離原價太多了，一直到六月中，再逛 Mobile01 時，突然看到消費相機版的卡西歐有人 po 了一篇文章說 TR200 的下一代 TR350 (大陸的稱呼) 已經在六月初上市了，然後台灣也會上國際版的，代號是 <a href="http://chiconydcd.tw/casio/products/preview/110.html">TR15</a>，於是就上了 Facebook 的卡西歐粉絲頁看了一下，果然會上！！但是！他媽的卡西歐是搶劫嗎，TR15 的售價竟然是兩萬四，竟然比 TR150 貴了一倍多 = =，不過功能也多一些些就是了(他媽的再罵一次 Casio 以為你是萊卡嗎！)，電容式觸碰螢幕，螢幕解析度也提升到 92 萬畫素，然後有 Wifi ，在傳輸照片或者是自拍控制都相當方便，核心處理引擎也變成兩顆，不管是開機速度或者拍照處理速度都比之前的更快，但主要的規格都差不多還是維持 1/2.3 寸的 1210 萬畫素、光圈 2.8、超廣角的等效焦距 21mm。</p>]]>
    
    </summary>
    
      <category term="Casio TR15" scheme="http://blog.littlero.se/tags/Casio-TR15/"/>
    
      <category term="3C" scheme="http://blog.littlero.se/categories/3C/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Saltstack 使用心得&簡介]]></title>
    <link href="http://blog.littlero.se/post/nice-to-meet-saltstack/"/>
    <id>http://blog.littlero.se/post/nice-to-meet-saltstack/</id>
    <published>2013-06-30T03:17:28.000Z</published>
    <updated>2015-03-14T05:41:33.000Z</updated>
    <content type="html"><![CDATA[<p>身為一個系統管理者，當你管理的機器數量只有十來台時，你可以很輕鬆的一台一台進去管理、設定機器，但是隨著服務開始搞大了，機器數量變成數十台時，也許會需要一些工具來輔助管理，之前我都是用 <a href="http://docs.fabfile.org/en/1.6/" target="_blank" rel="external">Fabric</a> 來幫忙管理，不過 Fabric 有個缺點是他只是一個下指令的管理工具，當然我之前都硬幹，用 <a href="http://docs.fabfile.org/en/1.6/api/core/operations.html?highlight=put#fabric.operations.put" target="_blank" rel="external">put</a> 硬把他當成管理 configuration 的工具，上傳完了再下一個 reload 的指令，當然這樣也不是不行，不過似乎真的是一個很土炮的方法，但是隨著機器的數量越來越大，已經到達幾百臺的時候，就算是用 Fabric + <a href="http://docs.fabfile.org/en/1.6/usage/env.html#env-parallel" target="_blank" rel="external">parallel</a> 其實還是覺得很怪，一來是雖然他已經平行處理了，但是他的 output 卻變成無序的，也就是當受管理的機器有 output 他就直接顯示在管理端上，有點惱人就是，另外一個是 Fabric 需要自己寫 Group 管理，要自己定義東西，而不能透過簡單的 query 來對想要的機器下指令就好，所以最近開始想要轉型使用 configuration management tool，常見的選擇是 <a href="https://puppetlabs.com/" target="_blank" rel="external">puppet</a>、<a href="http://www.opscode.com/chef/" target="_blank" rel="external">chef</a>、<a href="http://cfengine.com/" target="_blank" rel="external">CFEngine</a> 之類的，不過最近有個當紅的 OpenSource 軟體出現了，那就是 <a href="http://docs.saltstack.com/" target="_blank" rel="external">SaltStack</a>。</p>
<a id="more"></a>
<p>SaltStack 在網路的形容看起來是輕量的，而且設定極其簡單，加上是 Python 寫的，基於本人跟 Python 實在很有緣，我最愛的 <a href="http://www.gentoo.org/" target="_blank" rel="external">Gentoo Linux</a> 剛好他的套件管理系統 portage 就是 Python-based，然後 Fabric 也是 Python，於是就決定使用看看(這個理由是不是很薄弱 XD)</p>
<p>SaltStack 的架構分成 Server (叫 Master) 跟 Client (叫 Minion)，每台電腦都要安裝 salt 的程式，安裝的方法也很簡單，官網有提供一行安裝法 <code>wget -O - http://bootstrap.saltstack.org | sudo sh</code> 這樣就裝好 Salt Master 了，不過當然如果是比較大的 Distro 像是 Ubuntu、SuSE、Gentoo 還是建議用內建的套件管理程式安裝，不過如果套件管理程式還是沒有就只好搬出 Python 的 <code>easy_install salt</code> 或 <code>pip install salt</code> 這兩種方法也可以把 Master 跟 Minion 都裝到好。</p>
<p>Master 跟 Minion 裝好之後就可以開始測試啦，現在馬上啟動 Master，指令是 <code>salt-master -l debug</code> 這樣 console 會噴大量的 debug msg 而且會先在前景執行，至於 Minion 這端我們要先設定一下 <strong>/etc/hosts</strong> 加入 Master 的 ip 然後名字叫 salt，例如 <code>echo -n &#39;\n192.168.1.1 salt\n&#39; &gt;&gt; /etc/hosts</code> 因為 Minion 預設是去找 salt 這個 name 的 Server，設定好之後就可以啟動 Minion 了 <code>salt-minion -l debug</code>，由於 Salt 是採用類似 SSH 那樣的 key 交換機制，所以理論上兩邊有連上的話在 Master 那端的電腦打 <code>salt-key</code> 應該會出現 Minion 的 ID ( 也就是機器的 hostname)，如下:</p>
<pre><code>Accepted <span class="string">Keys:</span>
Unaccepted <span class="string">Keys:</span>
Minion-<span class="number">01</span>
Minion-<span class="number">02</span>
Rejected <span class="string">Keys:</span>
</code></pre><p>一開始加進來的 Minion 都會被擺在 Unaccepted 這裏，這時候要下 <code>salt-keys -a &#39;Minion-*&#39;</code> 就可以把 Minion- 開頭的機器變成 accepted 的了，設定成信賴後，我們就可以開始下一些簡單的 query 了，比方說在 Master 那端打 <code>salt &#39;Minion-*&#39; test.ping</code> 應該就會出現:</p>
<pre><code><span class="label">Minion-01:</span>
    <span class="literal">True</span>
<span class="label">Minion-02:</span>
    <span class="literal">True</span>
</code></pre><p>這樣就表示 Minion 有回應了，如果要對 Minion 下指令則是用 cmd.run，比方說 <code>salt &#39;Minion-*&#39; cmd.run date</code> 應該會得到這樣的回應</p>
<pre><code><span class="tag">Minion-01</span>:
    <span class="tag">Sun</span> <span class="tag">Jun</span> 30 18<span class="pseudo">:55</span><span class="pseudo">:30</span> <span class="tag">CST</span> 2013
<span class="tag">Minion-02</span>:
    <span class="tag">Sun</span> <span class="tag">Jun</span> 30 18<span class="pseudo">:55</span><span class="pseudo">:30</span> <span class="tag">CST</span> 2013
</code></pre><p>詳細可以下的指令 ( Salt 叫做 modules ) 請看<a href="http://docs.saltstack.com/ref/modules/all/index.html" target="_blank" rel="external">這裏</a> 本文不多做介紹。</p>
<p>直接進入正題，如何利用 Salt 來做 Configuration 的管理呢，首先剛剛再啟動 Server 跟 Client 時，連設定都沒設定，zero-configuration 就可以直接用了，但是要比較進階一點當然還是需要小小設定一下，首先 Master 的設定檔位置在 <strong>/etc/salt/master</strong>，先做如下設定</p>
<pre><code>file_roots:
    base:
        -<span class="ruby"> /srv/salt
</span>file_ignore_regex:
    -<span class="ruby"> <span class="string">'/\.svn($|/)'</span>
</span>    -<span class="ruby"> <span class="string">'/\.git($|/)'</span></span>
</code></pre><p>上面的設定是說我們的檔案 ( 也就是 salt 內建的 fileserver 要以哪裏為 Base ) 都放在 <strong>/srv/salt/</strong> 裡面，然後要同步檔案時，把 <code>/.svn/</code> 跟 <code>/.git/</code> 都忽略掉。<br>因此我們建立一下目錄跟建立相關檔案 <code>install -d /srv/salt/ &amp;&amp; touch /srv/salt/top.sls</code>，最主要的檔案就是這個 <code>top.sls</code>， SLS (可能是 SaLt State) 檔案就是描述所謂的 Configuration 要如何設定，在 Salt 一個 Configuration 就是一個 State，所有指定到的機器都會遵守這個狀態，這個 <code>top.sls</code> 大概會長下面這樣</p>
<pre><code><span class="keyword">base</span>:
  <span class="string">'*'</span>:
    - users
  <span class="string">'www-*'</span>:
    - nginx.www
</code></pre><p>首先第一行是 base 這是固定的，然後下面就是進行 ID 的配對，這裡可以看到我設定了兩組，一個是 ‘*’ 表示每一台受控管的機器都要遵守的設定，要參照 <code>users</code> 的 state ，而這個定義在哪裡呢，就是 <strong>/srv/salt/users.sls</strong>，基本上 Salt 的檔案組合就是依照 <code>file_roots</code> 所指定的位置開始找的，然後 <code>top.sls</code> 裡面參照的 state 則可以省略 <code>.sls</code> 這個檔名，接著是所有 <code>www-</code> 開頭的機器都還要額外看 <code>nginx.www</code> 這個狀態，在 <code>top.sls</code> 裡面出現的 <code>.</code> 表示真正的位置是一個資料夾，也就是這個 <code>nginx.www</code> 狀態檔實際是描述在 <strong>/srv/salt/nginx/www.sls</strong>，先來看 users.sls 怎麼定義的好了</p>
<pre><code>foo:
  user.present:
    -<span class="ruby"> <span class="symbol">fullname:</span> foo
</span>    -<span class="ruby"> <span class="symbol">shell:</span> /bin/bash
</span>    -<span class="ruby"> <span class="symbol">home:</span> /home/foo
</span>    -<span class="ruby"> <span class="symbol">uid:</span> <span class="number">1000</span>
</span>    -<span class="ruby"> <span class="symbol">gid:</span> <span class="number">100</span>
</span>    -<span class="ruby"> <span class="symbol">groups:</span>
</span>      -<span class="ruby"> www
</span>bar:
  user.present:
    -<span class="ruby"> <span class="symbol">fullname:</span> bar
</span>    -<span class="ruby"> <span class="symbol">shell:</span> /bin/bash
</span>    -<span class="ruby"> <span class="symbol">home:</span> /home/bar
</span>    -<span class="ruby"> <span class="symbol">uid:</span> <span class="number">1001</span>
</span>    -<span class="ruby"> <span class="symbol">gid:</span> <span class="number">100</span>
</span>    -<span class="ruby"> <span class="symbol">groups:</span>
</span>      -<span class="ruby"> wheel</span>
</code></pre><p>這裏表示每一台機器至少要有 foo &amp; bar 這兩個帳號，然後其他設定都要參照這個檔案的說明，應該不難懂我就不一一說明了，要看詳細的可以參考 <a href="http://docs.saltstack.com/ref/states/all/salt.states.user.html" target="_blank" rel="external">salt.states.user</a>，然後再來是 <strong>/srv/salt/nginx/www.sls</strong> 會長的如下設定</p>
<pre><code><span class="comment">/home/nginx/conf/:</span>
  file.recurse:
    -<span class="ruby"> <span class="symbol">source:</span> <span class="symbol">salt:</span>/<span class="regexp">/nginx/www</span><span class="regexp">/
</span></span>    -<span class="ruby"> <span class="symbol">user:</span> root
</span>    -<span class="ruby"> <span class="symbol">group:</span> root
</span>    -<span class="ruby"> <span class="symbol">dir_mode:</span> <span class="number">755</span>
</span>    -<span class="ruby"> <span class="symbol">file_mode:</span> <span class="number">644</span>
</span>    -<span class="ruby"> <span class="symbol">include_empty:</span> <span class="constant">True</span>
</span>
nginx:
  service.running:
    -<span class="ruby"> <span class="symbol">enable:</span> <span class="constant">True</span>
</span>    -<span class="ruby"> <span class="symbol">reload:</span> <span class="constant">True</span>
</span>    -<span class="ruby"> <span class="symbol">watch:</span>
</span>      -<span class="ruby"> <span class="symbol">file:</span> /home/nginx/conf/*</span>
</code></pre><p>這裏表示指定到的 minion 的 <strong>/home/nginx/conf/</strong>，要參考 Master 的 <code>salt://nginx/www/</code> 而這個的實際路徑是哪裏呢？依照之前說的一切都從 Base 開始，所以就是在 Master 的 <strong>/srv/salt/nginx/www/</strong>，也就是 Minion 的 <strong>/home/nginx/conf/</strong> 狀態改變的依據要跟隨 Master 的 <strong>/srv/salt/nginx/www/</strong> 資料夾，然後後面有個 <code>service.running</code> 那段則是表示當 <strong>/home/nginx/conf/*</strong> 有任何檔案被異動時(參照 <a href="http://docs.saltstack.com/ref/states/all/salt.states.service.html#module-salt.states.service" target="_blank" rel="external">salt.states.service</a>)， nginx 這個 Service 要被 reload (參照 <code>reload: True</code> 若無此設定則為 restart)，而 <code>enable: True</code> 則是表示開機要自動啟動，到目前為止就算是設定完 state 了，然後當然假設你的 nginx 設定檔都已經放在 <strong>/srv/salt/nginx/www/</strong> 裡面了，接下來要同步狀態要用的指令就是 <code>salt &#39;*&#39; state.highstate</code> 然後應該會出現下列的資訊</p>
<pre><code><span class="header">www-01:
----------</span>
<span class="code">    State: - file</span>
<span class="code">    Name:      /home/nginx/conf/</span>
<span class="code">    Function:  recurse</span>
<span class="code">        Result:    True</span>
<span class="code">        Comment:   The directory /home/nginx/conf/ is in the correct     state</span>
<span class="header">        Changes:   
----------</span>
<span class="code">    State: - service</span>
<span class="code">    Name:      nginx</span>
<span class="code">    Function:  running</span>
<span class="code">        Result:    True</span>
<span class="code">        Comment:   Service nginx is already enabled, and is in the     desired state</span>
<span class="header">        Changes:   
----------</span>
<span class="code">    State: - user</span>
<span class="code">    Name:      foo</span>
<span class="code">    Function:  present</span>
<span class="code">        Result:    True</span>
<span class="code">        Comment:   User foo is present and up to date</span>
<span class="header">        Changes:   
----------</span>
<span class="code">    State: - user</span>
<span class="code">    Name:      bar</span>
<span class="code">    Function:  present</span>
<span class="code">        Result:    True</span>
<span class="code">        Comment:   User bar is present and up to date</span>
<span class="code">        Changes:       </span>
</code></pre><p>如何，很簡單吧！因為我的狀態已經同步了，所以都沒有異動，如果有任何異動(包含新增、刪除使用者)，他都會一一列出來，更貼心的是檔案的異動甚至是列出 diff，真的是很仔細，目前為止大概就是如何利用 salt 來管理機器，用了這個之後真的就很簡單的就可以一次大量的管理一堆機器了，管理者可以花更多時間喝咖啡？</p>
<p>下一篇會介紹一下如何客製化 grains，也就是取得機器的資訊的部份。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>身為一個系統管理者，當你管理的機器數量只有十來台時，你可以很輕鬆的一台一台進去管理、設定機器，但是隨著服務開始搞大了，機器數量變成數十台時，也許會需要一些工具來輔助管理，之前我都是用 <a href="http://docs.fabfile.org/en/1.6/">Fabric</a> 來幫忙管理，不過 Fabric 有個缺點是他只是一個下指令的管理工具，當然我之前都硬幹，用 <a href="http://docs.fabfile.org/en/1.6/api/core/operations.html?highlight=put#fabric.operations.put">put</a> 硬把他當成管理 configuration 的工具，上傳完了再下一個 reload 的指令，當然這樣也不是不行，不過似乎真的是一個很土炮的方法，但是隨著機器的數量越來越大，已經到達幾百臺的時候，就算是用 Fabric + <a href="http://docs.fabfile.org/en/1.6/usage/env.html#env-parallel">parallel</a> 其實還是覺得很怪，一來是雖然他已經平行處理了，但是他的 output 卻變成無序的，也就是當受管理的機器有 output 他就直接顯示在管理端上，有點惱人就是，另外一個是 Fabric 需要自己寫 Group 管理，要自己定義東西，而不能透過簡單的 query 來對想要的機器下指令就好，所以最近開始想要轉型使用 configuration management tool，常見的選擇是 <a href="https://puppetlabs.com/">puppet</a>、<a href="http://www.opscode.com/chef/">chef</a>、<a href="http://cfengine.com/">CFEngine</a> 之類的，不過最近有個當紅的 OpenSource 軟體出現了，那就是 <a href="http://docs.saltstack.com/">SaltStack</a>。</p>]]>
    
    </summary>
    
      <category term="Linux" scheme="http://blog.littlero.se/tags/Linux/"/>
    
      <category term="SaltStack" scheme="http://blog.littlero.se/tags/SaltStack/"/>
    
      <category term="資訊" scheme="http://blog.littlero.se/categories/%E8%B3%87%E8%A8%8A/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[solve dmesg appeared nouveau No connectors reported connected with modes after upgrading kernel to 3.8 or later]]></title>
    <link href="http://blog.littlero.se/post/solve-dmesg-appeared-nouveau-no-connectors-reported-connected-with-modes-after-upgrading-kernel-to-3.8-or-3.9/"/>
    <id>http://blog.littlero.se/post/solve-dmesg-appeared-nouveau-no-connectors-reported-connected-with-modes-after-upgrading-kernel-to-3.8-or-3.9/</id>
    <published>2013-05-31T14:29:10.000Z</published>
    <updated>2015-03-14T05:42:09.000Z</updated>
    <content type="html"><![CDATA[<p>  My Linux box installed a nVidia GeForce GT210 (a.k.a. Chipset GT218) graphic card. Before kernel 3.7, I append <code>video=VGA-1:1440x900@60</code> to kernel parameters. Because I use a 2-meter-long VGA line to connect my computer and monitor, I have to enforce using VGA port as display output. And it works perfectly.</p>
<p>  The dmesg before kernel 3.7 says</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">Initialized</span> <span class="tag">drm</span> <span class="tag">1</span><span class="class">.1</span><span class="class">.0</span> <span class="tag">20060810</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Detected</span> <span class="tag">an</span> <span class="tag">NV50</span> <span class="tag">generation</span> <span class="tag">card</span> (<span class="number">0</span>x0a8280a2)</span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Checking</span> <span class="tag">PRAMIN</span> <span class="tag">for</span> <span class="tag">VBIOS</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: ... <span class="tag">appears</span> <span class="tag">to</span> <span class="tag">be</span> <span class="tag">valid</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Using</span> <span class="tag">VBIOS</span> <span class="tag">from</span> <span class="tag">PRAMIN</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">BIT</span> <span class="tag">BIOS</span> <span class="tag">found</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Bios</span> <span class="tag">version</span> <span class="tag">70</span><span class="class">.18</span><span class="class">.2c</span><span class="class">.00</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">TMDS</span> <span class="tag">table</span> <span class="tag">version</span> <span class="tag">2</span><span class="class">.0</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">MXM</span>: <span class="tag">no</span> <span class="tag">VBIOS</span> <span class="tag">data</span>, <span class="tag">nothing</span> <span class="tag">to</span> <span class="tag">do</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">DCB</span> <span class="tag">version</span> <span class="tag">4</span><span class="class">.0</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">DCB</span> <span class="tag">outp</span> <span class="tag">00</span>: <span class="tag">01000302</span> <span class="tag">00020030</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">DCB</span> <span class="tag">outp</span> <span class="tag">01</span>: <span class="tag">02000300</span> <span class="tag">00000000</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">DCB</span> <span class="tag">outp</span> <span class="tag">02</span>: <span class="tag">02011362</span> <span class="tag">0f220010</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">DCB</span> <span class="tag">outp</span> <span class="tag">03</span>: <span class="tag">01022310</span> <span class="tag">00020010</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">DCB</span> <span class="tag">conn</span> <span class="tag">00</span>: <span class="tag">00001030</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">DCB</span> <span class="tag">conn</span> <span class="tag">01</span>: <span class="tag">00202161</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">DCB</span> <span class="tag">conn</span> <span class="tag">02</span>: <span class="tag">00000200</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Parsing</span> <span class="tag">VBIOS</span> <span class="tag">init</span> <span class="tag">table</span> <span class="tag">0</span> <span class="tag">at</span> <span class="tag">offset</span> <span class="tag">0xD0B7</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">0xD40D</span>: <span class="tag">Condition</span> <span class="tag">still</span> <span class="tag">not</span> <span class="tag">met</span> <span class="tag">after</span> <span class="tag">20ms</span>, <span class="tag">skipping</span> <span class="tag">following</span> <span class="tag">opcodes</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">0xD411</span>: <span class="tag">Condition</span> <span class="tag">still</span> <span class="tag">not</span> <span class="tag">met</span> <span class="tag">after</span> <span class="tag">20ms</span>, <span class="tag">skipping</span> <span class="tag">following</span> <span class="tag">opcodes</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Parsing</span> <span class="tag">VBIOS</span> <span class="tag">init</span> <span class="tag">table</span> <span class="tag">1</span> <span class="tag">at</span> <span class="tag">offset</span> <span class="tag">0xD608</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Parsing</span> <span class="tag">VBIOS</span> <span class="tag">init</span> <span class="tag">table</span> <span class="tag">2</span> <span class="tag">at</span> <span class="tag">offset</span> <span class="tag">0xE0DA</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Parsing</span> <span class="tag">VBIOS</span> <span class="tag">init</span> <span class="tag">table</span> <span class="tag">3</span> <span class="tag">at</span> <span class="tag">offset</span> <span class="tag">0xE10F</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Parsing</span> <span class="tag">VBIOS</span> <span class="tag">init</span> <span class="tag">table</span> <span class="tag">4</span> <span class="tag">at</span> <span class="tag">offset</span> <span class="tag">0xE2C2</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Parsing</span> <span class="tag">VBIOS</span> <span class="tag">init</span> <span class="tag">table</span> <span class="tag">at</span> <span class="tag">offset</span> <span class="tag">0xE327</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">0xE327</span>: <span class="tag">Condition</span> <span class="tag">still</span> <span class="tag">not</span> <span class="tag">met</span> <span class="tag">after</span> <span class="tag">20ms</span>, <span class="tag">skipping</span> <span class="tag">following</span> <span class="tag">opcodes</span></span><br><span class="line"><span class="attr_selector">[TTM]</span> <span class="tag">Zone</span>  <span class="tag">kernel</span>: <span class="tag">Available</span> <span class="tag">graphics</span> <span class="tag">memory</span>: <span class="tag">3051544</span> <span class="tag">kiB</span></span><br><span class="line"><span class="attr_selector">[TTM]</span> <span class="tag">Zone</span>   <span class="tag">dma32</span>: <span class="tag">Available</span> <span class="tag">graphics</span> <span class="tag">memory</span>: <span class="tag">2097152</span> <span class="tag">kiB</span></span><br><span class="line"><span class="attr_selector">[TTM]</span> <span class="tag">Initializing</span> <span class="tag">pool</span> <span class="tag">allocator</span></span><br><span class="line"><span class="attr_selector">[TTM]</span> <span class="tag">Initializing</span> <span class="tag">DMA</span> <span class="tag">pool</span> <span class="tag">allocator</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Detected</span> <span class="tag">512MiB</span> <span class="tag">VRAM</span> (DDR2)</span><br><span class="line"><span class="tag">mtrr</span>: <span class="tag">type</span> <span class="tag">mismatch</span> <span class="tag">for</span> <span class="tag">e0000000</span>,<span class="tag">10000000</span> <span class="tag">old</span>: <span class="tag">write-back</span> <span class="tag">new</span>: <span class="tag">write-combining</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">512</span> <span class="tag">MiB</span> <span class="tag">GART</span> (aperture)</span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">Supports</span> <span class="tag">vblank</span> <span class="tag">timestamp</span> <span class="tag">caching</span> <span class="tag">Rev</span> <span class="tag">1</span> (<span class="number">10.10</span>.<span class="number">2010</span>).</span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">No</span> <span class="tag">driver</span> <span class="tag">support</span> <span class="tag">for</span> <span class="tag">vblank</span> <span class="tag">timestamp</span> <span class="tag">query</span>.</span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">3</span> <span class="tag">available</span> <span class="tag">performance</span> <span class="tag">level</span>(s)</span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">0</span>: <span class="tag">core</span> <span class="tag">135MHz</span> <span class="tag">shader</span> <span class="tag">270MHz</span> <span class="tag">memory</span> <span class="tag">135MHz</span> <span class="tag">voltage</span> <span class="tag">850mV</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">1</span>: <span class="tag">core</span> <span class="tag">405MHz</span> <span class="tag">shader</span> <span class="tag">810MHz</span> <span class="tag">memory</span> <span class="tag">405MHz</span> <span class="tag">voltage</span> <span class="tag">900mV</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">3</span>: <span class="tag">core</span> <span class="tag">589MHz</span> <span class="tag">shader</span> <span class="tag">1402MHz</span> <span class="tag">memory</span> <span class="tag">400MHz</span> <span class="tag">voltage</span> <span class="tag">1000mV</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">c</span>: <span class="tag">core</span> <span class="tag">405MHz</span> <span class="tag">shader</span> <span class="tag">810MHz</span> <span class="tag">memory</span> <span class="tag">405MHz</span> <span class="tag">voltage</span> <span class="tag">900mV</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">allocated</span> <span class="tag">1440x900</span> <span class="tag">fb</span>: <span class="tag">0x310000</span>, <span class="tag">bo</span> <span class="tag">ffff8801a78dc000</span></span><br><span class="line"><span class="tag">fbcon</span>: <span class="tag">nouveaufb</span> (fb0) <span class="tag">is</span> <span class="tag">primary</span> <span class="tag">device</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">no</span> <span class="tag">native</span> <span class="tag">mode</span>, <span class="tag">forcing</span> <span class="tag">panel</span> <span class="tag">scaling</span></span><br><span class="line"><span class="tag">Console</span>: <span class="tag">switching</span> <span class="tag">to</span> <span class="tag">colour</span> <span class="tag">frame</span> <span class="tag">buffer</span> <span class="tag">device</span> <span class="tag">180x56</span></span><br><span class="line"><span class="tag">fb0</span>: <span class="tag">nouveaufb</span> <span class="tag">frame</span> <span class="tag">buffer</span> <span class="tag">device</span></span><br></pre></td></tr></table></figure>
<p>  The kernel 3.7 or prior version was enforced using VGA as output successfully. And the resolution is right.</p>
<p>  But after upgrading to 3.8 or above, I found that the parameter <code>video=VGA-1:1440x900@60</code> causes a faulty screen after booting. I google it, and find some people bump into the same problem. <a href="https://bugzilla.redhat.com/show_bug.cgi?id=910945" target="_blank" rel="external">No signal to monitor after kernel modesetting fails</a> <a href="http://forums.fedoraforum.org/showthread.php?t=289189" target="_blank" rel="external">Problems with kernel-3.8 and kernel-3.9 modesetting</a></p>
<p>  The kernel 3.8 or above says</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">[drm] Initialized drm 1.1.0 20060810</span><br><span class="line">nouveau  [<span class="link_label">  DEVICE</span>][<span class="link_reference">0000:01:00.0</span>] BOOT0  : 0x0a8280a2</span><br><span class="line">nouveau  [<span class="link_label">  DEVICE</span>][<span class="link_reference">0000:01:00.0</span>] Chipset: GT218 (NVA8)</span><br><span class="line">nouveau  [<span class="link_label">  DEVICE</span>][<span class="link_reference">0000:01:00.0</span>] Family : NV50</span><br><span class="line">nouveau  [<span class="link_label">   VBIOS</span>][<span class="link_reference">0000:01:00.0</span>] checking PRAMIN for image...</span><br><span class="line">nouveau  [<span class="link_label">   VBIOS</span>][<span class="link_reference">0000:01:00.0</span>] ... appears to be valid</span><br><span class="line">nouveau  [<span class="link_label">   VBIOS</span>][<span class="link_reference">0000:01:00.0</span>] using image from PRAMIN</span><br><span class="line">nouveau  [<span class="link_label">   VBIOS</span>][<span class="link_reference">0000:01:00.0</span>] BIT signature found</span><br><span class="line">nouveau  [<span class="link_label">   VBIOS</span>][<span class="link_reference">0000:01:00.0</span>] version 70.18.2c.00.04</span><br><span class="line">nouveau  [<span class="link_label">     PFB</span>][<span class="link_reference">0000:01:00.0</span>] RAM type: DDR2</span><br><span class="line">nouveau  [<span class="link_label">     PFB</span>][<span class="link_reference">0000:01:00.0</span>] RAM size: 512 MiB</span><br><span class="line">nouveau  [<span class="link_label">     PFB</span>][<span class="link_reference">0000:01:00.0</span>]    ZCOMP: 960 tags</span><br><span class="line">nouveau  [<span class="link_label">  PTHERM</span>][<span class="link_reference">0000:01:00.0</span>] FAN control: none / external</span><br><span class="line">nouveau  [<span class="link_label">  PTHERM</span>][<span class="link_reference">0000:01:00.0</span>] fan management: disabled</span><br><span class="line">nouveau  [<span class="link_label">  PTHERM</span>][<span class="link_reference">0000:01:00.0</span>] internal sensor: yes</span><br><span class="line">[TTM] Zone  kernel: Available graphics memory: 3050978 kiB</span><br><span class="line">[TTM] Zone   dma32: Available graphics memory: 2097152 kiB</span><br><span class="line">[TTM] Initializing pool allocator</span><br><span class="line">[TTM] Initializing DMA pool allocator</span><br><span class="line">mtrr: type mismatch for e0000000,10000000 old: write-back new: write-combining</span><br><span class="line">nouveau  [     DRM] VRAM: 512 MiB</span><br><span class="line">nouveau  [     DRM] GART: 512 MiB</span><br><span class="line">nouveau  [     DRM] TMDS table version 2.0</span><br><span class="line">nouveau  [     DRM] DCB version 4.0</span><br><span class="line">nouveau  [     DRM] DCB outp 00: 01000302 00020030</span><br><span class="line">nouveau  [     DRM] DCB outp 01: 02000300 00000000</span><br><span class="line">nouveau  [     DRM] DCB outp 02: 02011362 0f220010</span><br><span class="line">nouveau  [     DRM] DCB outp 03: 01022310 00020010</span><br><span class="line">nouveau  [     DRM] DCB conn 00: 00001030</span><br><span class="line">nouveau  [     DRM] DCB conn 01: 00202161</span><br><span class="line">nouveau  [     DRM] DCB conn 02: 00000200</span><br><span class="line">[drm] Supports vblank timestamp caching Rev 1 (10.10.2010).</span><br><span class="line">[drm] No driver support for vblank timestamp query.</span><br><span class="line">nouveau  [     DRM] 3 available performance level(s)</span><br><span class="line">nouveau  [     DRM] 0: core 135MHz shader 270MHz memory 135MHz voltage 850mV</span><br><span class="line">nouveau  [     DRM] 1: core 405MHz shader 810MHz memory 405MHz voltage 900mV</span><br><span class="line">nouveau  [     DRM] 3: core 589MHz shader 1402MHz memory 400MHz voltage 1000mV</span><br><span class="line">nouveau  [     DRM] c: core 405MHz shader 810MHz memory 405MHz voltage 900mV</span><br><span class="line">nouveau  [     DRM] MM: using COPY for buffer copies</span><br><span class="line">nouveau 0000:01:00.0: No connectors reported connected with modes</span><br><span class="line">[drm] Cannot find any crtc or sizes - going 1024x768</span><br><span class="line">nouveau  [     DRM] allocated 1024x768 fb: 0x70000, bo ffff8801a7c37c00</span><br><span class="line">fbcon: nouveaufb (fb0) is primary device</span><br></pre></td></tr></table></figure>
<p>  The kernel 3.8 says it cannot find a connector?</p>
<p>  I read the documents of KMS, and then I solved the problem.</p>
<a id="more"></a>
<p>  The document <a href="http://nouveau.freedesktop.org/wiki/KernelModeSetting/" target="_blank" rel="external">Kernel Mode-setting</a> says if you want to enforce some output, you should append “e” after the parameter. So that’s how I solved my problem. The parameter is just modified to <code>video=VGA-1:1440x900@60e</code>, and that’s all. Test your new kernel now! :)</p>
<p>  That’s what my kernel (3.9.3) says now</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">[drm] Initialized drm 1.1.0 20060810</span><br><span class="line">nouveau  [<span class="link_label">  DEVICE</span>][<span class="link_reference">0000:01:00.0</span>] BOOT0  : 0x0a8280a2</span><br><span class="line">nouveau  [<span class="link_label">  DEVICE</span>][<span class="link_reference">0000:01:00.0</span>] Chipset: GT218 (NVA8)</span><br><span class="line">nouveau  [<span class="link_label">  DEVICE</span>][<span class="link_reference">0000:01:00.0</span>] Family : NV50</span><br><span class="line">nouveau  [<span class="link_label">   VBIOS</span>][<span class="link_reference">0000:01:00.0</span>] checking PRAMIN for image...</span><br><span class="line">nouveau  [<span class="link_label">   VBIOS</span>][<span class="link_reference">0000:01:00.0</span>] ... appears to be valid</span><br><span class="line">nouveau  [<span class="link_label">   VBIOS</span>][<span class="link_reference">0000:01:00.0</span>] using image from PRAMIN</span><br><span class="line">nouveau  [<span class="link_label">   VBIOS</span>][<span class="link_reference">0000:01:00.0</span>] BIT signature found</span><br><span class="line">nouveau  [<span class="link_label">   VBIOS</span>][<span class="link_reference">0000:01:00.0</span>] version 70.18.2c.00.04</span><br><span class="line">nouveau  [<span class="link_label">     PFB</span>][<span class="link_reference">0000:01:00.0</span>] RAM type: DDR2</span><br><span class="line">nouveau  [<span class="link_label">     PFB</span>][<span class="link_reference">0000:01:00.0</span>] RAM size: 512 MiB</span><br><span class="line">nouveau  [<span class="link_label">     PFB</span>][<span class="link_reference">0000:01:00.0</span>]    ZCOMP: 960 tags</span><br><span class="line">nouveau  [<span class="link_label">  PTHERM</span>][<span class="link_reference">0000:01:00.0</span>] FAN control: none / external</span><br><span class="line">nouveau  [<span class="link_label">  PTHERM</span>][<span class="link_reference">0000:01:00.0</span>] fan management: disabled</span><br><span class="line">nouveau  [<span class="link_label">  PTHERM</span>][<span class="link_reference">0000:01:00.0</span>] internal sensor: yes</span><br><span class="line">nouveau  [<span class="link_label">  PTHERM</span>][<span class="link_reference">0000:01:00.0</span>] programmed thresholds [ 90(3), 95(3), 105(5), 135(5) </span><br><span class="line">[TTM] Zone  kernel: Available graphics memory: 3051030 kiB</span><br><span class="line">[TTM] Zone   dma32: Available graphics memory: 2097152 kiB</span><br><span class="line">[TTM] Initializing pool allocator</span><br><span class="line">[TTM] Initializing DMA pool allocator</span><br><span class="line">mtrr: type mismatch for e0000000,10000000 old: write-back new: write-combining</span><br><span class="line">nouveau  [     DRM] VRAM: 512 MiB</span><br><span class="line">nouveau  [     DRM] GART: 512 MiB</span><br><span class="line">nouveau  [     DRM] TMDS table version 2.0</span><br><span class="line">nouveau  [     DRM] DCB version 4.0</span><br><span class="line">nouveau  [     DRM] DCB outp 00: 01000302 00020030</span><br><span class="line">nouveau  [     DRM] DCB outp 01: 02000300 00000000</span><br><span class="line">nouveau  [     DRM] DCB outp 02: 02011362 0f220010</span><br><span class="line">nouveau  [     DRM] DCB outp 03: 01022310 00020010</span><br><span class="line">nouveau  [     DRM] DCB conn 00: 00001030</span><br><span class="line">nouveau  [     DRM] DCB conn 01: 00202161</span><br><span class="line">nouveau  [     DRM] DCB conn 02: 00000200</span><br><span class="line">[drm] Supports vblank timestamp caching Rev 1 (10.10.2010).</span><br><span class="line">[drm] No driver support for vblank timestamp query.</span><br><span class="line">nouveau  [     DRM] 3 available performance level(s)</span><br><span class="line">nouveau  [     DRM] 0: core 135MHz shader 270MHz memory 135MHz voltage 850mV</span><br><span class="line">nouveau  [     DRM] 1: core 405MHz shader 810MHz memory 405MHz voltage 900mV</span><br><span class="line">nouveau  [     DRM] 3: core 589MHz shader 1402MHz memory 400MHz voltage 1000mV</span><br><span class="line">nouveau  [     DRM] c: core 405MHz shader 810MHz memory 405MHz voltage 900mV</span><br><span class="line">nouveau  [     DRM] MM: using COPY for buffer copies</span><br><span class="line">[drm] forcing VGA-1 connector ON</span><br><span class="line">nouveau  [     DRM] allocated 1440x900 fb: 0x70000, bo ffff8801a83f8000</span><br><span class="line">fbcon: nouveaufb (fb0) is primary device</span><br></pre></td></tr></table></figure>
<p>  As you can see the line shows “[drm] forcing VGA-1 connector ON”.</p>
<p>  I think the problem maybe cause by the parameter check is more strict now.</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>  My Linux box installed a nVidia GeForce GT210 (a.k.a. Chipset GT218) graphic card. Before kernel 3.7, I append <code>video=VGA-1:1440x900@60</code> to kernel parameters. Because I use a 2-meter-long VGA line to connect my computer and monitor, I have to enforce using VGA port as display output. And it works perfectly.</p>
<p>  The dmesg before kernel 3.7 says</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">Initialized</span> <span class="tag">drm</span> <span class="tag">1</span><span class="class">.1</span><span class="class">.0</span> <span class="tag">20060810</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Detected</span> <span class="tag">an</span> <span class="tag">NV50</span> <span class="tag">generation</span> <span class="tag">card</span> (<span class="number">0</span>x0a8280a2)</span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Checking</span> <span class="tag">PRAMIN</span> <span class="tag">for</span> <span class="tag">VBIOS</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: ... <span class="tag">appears</span> <span class="tag">to</span> <span class="tag">be</span> <span class="tag">valid</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Using</span> <span class="tag">VBIOS</span> <span class="tag">from</span> <span class="tag">PRAMIN</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">BIT</span> <span class="tag">BIOS</span> <span class="tag">found</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Bios</span> <span class="tag">version</span> <span class="tag">70</span><span class="class">.18</span><span class="class">.2c</span><span class="class">.00</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">TMDS</span> <span class="tag">table</span> <span class="tag">version</span> <span class="tag">2</span><span class="class">.0</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">MXM</span>: <span class="tag">no</span> <span class="tag">VBIOS</span> <span class="tag">data</span>, <span class="tag">nothing</span> <span class="tag">to</span> <span class="tag">do</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">DCB</span> <span class="tag">version</span> <span class="tag">4</span><span class="class">.0</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">DCB</span> <span class="tag">outp</span> <span class="tag">00</span>: <span class="tag">01000302</span> <span class="tag">00020030</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">DCB</span> <span class="tag">outp</span> <span class="tag">01</span>: <span class="tag">02000300</span> <span class="tag">00000000</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">DCB</span> <span class="tag">outp</span> <span class="tag">02</span>: <span class="tag">02011362</span> <span class="tag">0f220010</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">DCB</span> <span class="tag">outp</span> <span class="tag">03</span>: <span class="tag">01022310</span> <span class="tag">00020010</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">DCB</span> <span class="tag">conn</span> <span class="tag">00</span>: <span class="tag">00001030</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">DCB</span> <span class="tag">conn</span> <span class="tag">01</span>: <span class="tag">00202161</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">DCB</span> <span class="tag">conn</span> <span class="tag">02</span>: <span class="tag">00000200</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Parsing</span> <span class="tag">VBIOS</span> <span class="tag">init</span> <span class="tag">table</span> <span class="tag">0</span> <span class="tag">at</span> <span class="tag">offset</span> <span class="tag">0xD0B7</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">0xD40D</span>: <span class="tag">Condition</span> <span class="tag">still</span> <span class="tag">not</span> <span class="tag">met</span> <span class="tag">after</span> <span class="tag">20ms</span>, <span class="tag">skipping</span> <span class="tag">following</span> <span class="tag">opcodes</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">0xD411</span>: <span class="tag">Condition</span> <span class="tag">still</span> <span class="tag">not</span> <span class="tag">met</span> <span class="tag">after</span> <span class="tag">20ms</span>, <span class="tag">skipping</span> <span class="tag">following</span> <span class="tag">opcodes</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Parsing</span> <span class="tag">VBIOS</span> <span class="tag">init</span> <span class="tag">table</span> <span class="tag">1</span> <span class="tag">at</span> <span class="tag">offset</span> <span class="tag">0xD608</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Parsing</span> <span class="tag">VBIOS</span> <span class="tag">init</span> <span class="tag">table</span> <span class="tag">2</span> <span class="tag">at</span> <span class="tag">offset</span> <span class="tag">0xE0DA</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Parsing</span> <span class="tag">VBIOS</span> <span class="tag">init</span> <span class="tag">table</span> <span class="tag">3</span> <span class="tag">at</span> <span class="tag">offset</span> <span class="tag">0xE10F</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Parsing</span> <span class="tag">VBIOS</span> <span class="tag">init</span> <span class="tag">table</span> <span class="tag">4</span> <span class="tag">at</span> <span class="tag">offset</span> <span class="tag">0xE2C2</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Parsing</span> <span class="tag">VBIOS</span> <span class="tag">init</span> <span class="tag">table</span> <span class="tag">at</span> <span class="tag">offset</span> <span class="tag">0xE327</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">0xE327</span>: <span class="tag">Condition</span> <span class="tag">still</span> <span class="tag">not</span> <span class="tag">met</span> <span class="tag">after</span> <span class="tag">20ms</span>, <span class="tag">skipping</span> <span class="tag">following</span> <span class="tag">opcodes</span></span><br><span class="line"><span class="attr_selector">[TTM]</span> <span class="tag">Zone</span>  <span class="tag">kernel</span>: <span class="tag">Available</span> <span class="tag">graphics</span> <span class="tag">memory</span>: <span class="tag">3051544</span> <span class="tag">kiB</span></span><br><span class="line"><span class="attr_selector">[TTM]</span> <span class="tag">Zone</span>   <span class="tag">dma32</span>: <span class="tag">Available</span> <span class="tag">graphics</span> <span class="tag">memory</span>: <span class="tag">2097152</span> <span class="tag">kiB</span></span><br><span class="line"><span class="attr_selector">[TTM]</span> <span class="tag">Initializing</span> <span class="tag">pool</span> <span class="tag">allocator</span></span><br><span class="line"><span class="attr_selector">[TTM]</span> <span class="tag">Initializing</span> <span class="tag">DMA</span> <span class="tag">pool</span> <span class="tag">allocator</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">Detected</span> <span class="tag">512MiB</span> <span class="tag">VRAM</span> (DDR2)</span><br><span class="line"><span class="tag">mtrr</span>: <span class="tag">type</span> <span class="tag">mismatch</span> <span class="tag">for</span> <span class="tag">e0000000</span>,<span class="tag">10000000</span> <span class="tag">old</span>: <span class="tag">write-back</span> <span class="tag">new</span>: <span class="tag">write-combining</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">512</span> <span class="tag">MiB</span> <span class="tag">GART</span> (aperture)</span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">Supports</span> <span class="tag">vblank</span> <span class="tag">timestamp</span> <span class="tag">caching</span> <span class="tag">Rev</span> <span class="tag">1</span> (<span class="number">10.10</span>.<span class="number">2010</span>).</span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">No</span> <span class="tag">driver</span> <span class="tag">support</span> <span class="tag">for</span> <span class="tag">vblank</span> <span class="tag">timestamp</span> <span class="tag">query</span>.</span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">3</span> <span class="tag">available</span> <span class="tag">performance</span> <span class="tag">level</span>(s)</span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">0</span>: <span class="tag">core</span> <span class="tag">135MHz</span> <span class="tag">shader</span> <span class="tag">270MHz</span> <span class="tag">memory</span> <span class="tag">135MHz</span> <span class="tag">voltage</span> <span class="tag">850mV</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">1</span>: <span class="tag">core</span> <span class="tag">405MHz</span> <span class="tag">shader</span> <span class="tag">810MHz</span> <span class="tag">memory</span> <span class="tag">405MHz</span> <span class="tag">voltage</span> <span class="tag">900mV</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">3</span>: <span class="tag">core</span> <span class="tag">589MHz</span> <span class="tag">shader</span> <span class="tag">1402MHz</span> <span class="tag">memory</span> <span class="tag">400MHz</span> <span class="tag">voltage</span> <span class="tag">1000mV</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">c</span>: <span class="tag">core</span> <span class="tag">405MHz</span> <span class="tag">shader</span> <span class="tag">810MHz</span> <span class="tag">memory</span> <span class="tag">405MHz</span> <span class="tag">voltage</span> <span class="tag">900mV</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">allocated</span> <span class="tag">1440x900</span> <span class="tag">fb</span>: <span class="tag">0x310000</span>, <span class="tag">bo</span> <span class="tag">ffff8801a78dc000</span></span><br><span class="line"><span class="tag">fbcon</span>: <span class="tag">nouveaufb</span> (fb0) <span class="tag">is</span> <span class="tag">primary</span> <span class="tag">device</span></span><br><span class="line"><span class="attr_selector">[drm]</span> <span class="tag">nouveau</span> <span class="tag">0000</span><span class="pseudo">:01</span><span class="pseudo">:00</span><span class="class">.0</span>: <span class="tag">no</span> <span class="tag">native</span> <span class="tag">mode</span>, <span class="tag">forcing</span> <span class="tag">panel</span> <span class="tag">scaling</span></span><br><span class="line"><span class="tag">Console</span>: <span class="tag">switching</span> <span class="tag">to</span> <span class="tag">colour</span> <span class="tag">frame</span> <span class="tag">buffer</span> <span class="tag">device</span> <span class="tag">180x56</span></span><br><span class="line"><span class="tag">fb0</span>: <span class="tag">nouveaufb</span> <span class="tag">frame</span> <span class="tag">buffer</span> <span class="tag">device</span></span><br></pre></td></tr></table></figure>
<p>  The kernel 3.7 or prior version was enforced using VGA as output successfully. And the resolution is right.</p>
<p>  But after upgrading to 3.8 or above, I found that the parameter <code>video=VGA-1:1440x900@60</code> causes a faulty screen after booting. I google it, and find some people bump into the same problem. <a href="https://bugzilla.redhat.com/show_bug.cgi?id=910945">No signal to monitor after kernel modesetting fails</a> <a href="http://forums.fedoraforum.org/showthread.php?t=289189">Problems with kernel-3.8 and kernel-3.9 modesetting</a></p>
<p>  The kernel 3.8 or above says</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">[drm] Initialized drm 1.1.0 20060810</span><br><span class="line">nouveau  [<span class="link_label">  DEVICE</span>][<span class="link_reference">0000:01:00.0</span>] BOOT0  : 0x0a8280a2</span><br><span class="line">nouveau  [<span class="link_label">  DEVICE</span>][<span class="link_reference">0000:01:00.0</span>] Chipset: GT218 (NVA8)</span><br><span class="line">nouveau  [<span class="link_label">  DEVICE</span>][<span class="link_reference">0000:01:00.0</span>] Family : NV50</span><br><span class="line">nouveau  [<span class="link_label">   VBIOS</span>][<span class="link_reference">0000:01:00.0</span>] checking PRAMIN for image...</span><br><span class="line">nouveau  [<span class="link_label">   VBIOS</span>][<span class="link_reference">0000:01:00.0</span>] ... appears to be valid</span><br><span class="line">nouveau  [<span class="link_label">   VBIOS</span>][<span class="link_reference">0000:01:00.0</span>] using image from PRAMIN</span><br><span class="line">nouveau  [<span class="link_label">   VBIOS</span>][<span class="link_reference">0000:01:00.0</span>] BIT signature found</span><br><span class="line">nouveau  [<span class="link_label">   VBIOS</span>][<span class="link_reference">0000:01:00.0</span>] version 70.18.2c.00.04</span><br><span class="line">nouveau  [<span class="link_label">     PFB</span>][<span class="link_reference">0000:01:00.0</span>] RAM type: DDR2</span><br><span class="line">nouveau  [<span class="link_label">     PFB</span>][<span class="link_reference">0000:01:00.0</span>] RAM size: 512 MiB</span><br><span class="line">nouveau  [<span class="link_label">     PFB</span>][<span class="link_reference">0000:01:00.0</span>]    ZCOMP: 960 tags</span><br><span class="line">nouveau  [<span class="link_label">  PTHERM</span>][<span class="link_reference">0000:01:00.0</span>] FAN control: none / external</span><br><span class="line">nouveau  [<span class="link_label">  PTHERM</span>][<span class="link_reference">0000:01:00.0</span>] fan management: disabled</span><br><span class="line">nouveau  [<span class="link_label">  PTHERM</span>][<span class="link_reference">0000:01:00.0</span>] internal sensor: yes</span><br><span class="line">[TTM] Zone  kernel: Available graphics memory: 3050978 kiB</span><br><span class="line">[TTM] Zone   dma32: Available graphics memory: 2097152 kiB</span><br><span class="line">[TTM] Initializing pool allocator</span><br><span class="line">[TTM] Initializing DMA pool allocator</span><br><span class="line">mtrr: type mismatch for e0000000,10000000 old: write-back new: write-combining</span><br><span class="line">nouveau  [     DRM] VRAM: 512 MiB</span><br><span class="line">nouveau  [     DRM] GART: 512 MiB</span><br><span class="line">nouveau  [     DRM] TMDS table version 2.0</span><br><span class="line">nouveau  [     DRM] DCB version 4.0</span><br><span class="line">nouveau  [     DRM] DCB outp 00: 01000302 00020030</span><br><span class="line">nouveau  [     DRM] DCB outp 01: 02000300 00000000</span><br><span class="line">nouveau  [     DRM] DCB outp 02: 02011362 0f220010</span><br><span class="line">nouveau  [     DRM] DCB outp 03: 01022310 00020010</span><br><span class="line">nouveau  [     DRM] DCB conn 00: 00001030</span><br><span class="line">nouveau  [     DRM] DCB conn 01: 00202161</span><br><span class="line">nouveau  [     DRM] DCB conn 02: 00000200</span><br><span class="line">[drm] Supports vblank timestamp caching Rev 1 (10.10.2010).</span><br><span class="line">[drm] No driver support for vblank timestamp query.</span><br><span class="line">nouveau  [     DRM] 3 available performance level(s)</span><br><span class="line">nouveau  [     DRM] 0: core 135MHz shader 270MHz memory 135MHz voltage 850mV</span><br><span class="line">nouveau  [     DRM] 1: core 405MHz shader 810MHz memory 405MHz voltage 900mV</span><br><span class="line">nouveau  [     DRM] 3: core 589MHz shader 1402MHz memory 400MHz voltage 1000mV</span><br><span class="line">nouveau  [     DRM] c: core 405MHz shader 810MHz memory 405MHz voltage 900mV</span><br><span class="line">nouveau  [     DRM] MM: using COPY for buffer copies</span><br><span class="line">nouveau 0000:01:00.0: No connectors reported connected with modes</span><br><span class="line">[drm] Cannot find any crtc or sizes - going 1024x768</span><br><span class="line">nouveau  [     DRM] allocated 1024x768 fb: 0x70000, bo ffff8801a7c37c00</span><br><span class="line">fbcon: nouveaufb (fb0) is primary device</span><br></pre></td></tr></table></figure>
<p>  The kernel 3.8 says it cannot find a connector?</p>
<p>  I read the documents of KMS, and then I solved the problem.</p>]]>
    
    </summary>
    
      <category term="Linux" scheme="http://blog.littlero.se/tags/Linux/"/>
    
      <category term="資訊" scheme="http://blog.littlero.se/categories/%E8%B3%87%E8%A8%8A/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[E-M5 木質手把]]></title>
    <link href="http://blog.littlero.se/post/e-m5-wooden-grip/"/>
    <id>http://blog.littlero.se/post/e-m5-wooden-grip/</id>
    <published>2013-05-16T12:15:54.000Z</published>
    <updated>2015-03-14T05:39:53.000Z</updated>
    <content type="html"><![CDATA[<img src="https://farm8.staticflickr.com/7294/8740341439_0a08f31ecd_b.jpg">
<p>再次從 <a href="https://www.facebook.com/hoson.design" target="_blank" rel="external">HOSON</a> 團隊拿到了一個測試手把。</p>
<p>不同的是這次手柄是木質的 ！</p>
<p>E-M5 的主人們不用再羡慕只有 E-P5 有限量版的木質手柄了 :P</p>
<img src="https://farm8.staticflickr.com/7290/8740342185_0b1787e605_b.jpg">
<p>借用一下 E-P5 木質手柄的圖</p>
<img src="http://i1266.photobucket.com/albums/jj524/picrumors/e-p5_premium_silver_zpse32957a1.jpg">
<p>因為選用的木頭不同所以顏色是不一樣的，E-P5 是加拿大楓木，而版友所選的是質地經過測試很堅固的柚木。</p>
<p>設計團隊測試了柚木跟槐木，發現槐木還是軟了一點，他們更看過紫檀木，不過後來因為成本過高就作罷了。</p>
<p>註: 柚木在 <a href="https://zh.wikipedia.org/zh-tw/%E6%9F%9A%E6%9C%A8" target="_blank" rel="external">wiki</a> 裡面記載 「機械性質極強、乾燥性良好，收縮率小、木質強韌、耐久性高、對菌類及蟲害抵抗力強 … 木理通直、質地堅硬、細緻，材面含油脂之觸感，乾燥性良好，耐久性高，為所有木材中膨脹收縮最少者一，尺寸安定性佳。材面木紋美觀優雅、且加工容易、為世界上高級木材之一。」</p>
<a id="more"></a>
<p>而且柚木手把本身就散發著十分清香的木頭味 這應該是 E-P5 的手把不會有的。</p>
<img src="https://farm8.staticflickr.com/7292/8740393047_33b380ce63_b.jpg">
<p>在大小(形狀)上跟原本的金屬手把一模一樣。</p>
<img src="https://farm8.staticflickr.com/7290/8741510458_5fc62cc0b0_b.jpg">
<p>內層更是用鐳射刻上了品牌跟 MADE IN TAIWAN 讚 ~(≧▽≦)/~</p>
<img src="https://farm8.staticflickr.com/7288/8741511008_754e4a7738_b.jpg">
<p>但同時也有個壞消息就是了，因為這是用鐳射刻的，原本團隊設想的是透過鐳射刻字讓木頭內部的紋路暴露出來增加特色，不過他們試了幾次發現好像跟原本想的不一樣  0rz…</p>
<p>加上鐳射一塊木頭成本要增加 200 元，所以設計團隊說有可能正式的不會鐳射刻字。</p>
<img src="https://farm8.staticflickr.com/7291/8740392465_7e5f901ef7_b.jpg">
<p>因為木頭材質的關係，原本設計團隊最擔心下面螺絲的部份後來也都很巧妙的解決了：</p>
<p>答案就是… 電腦的銅柱 XD</p>
<p>可以發現這個銅柱邊緣是多角狀的，剛好可以順利的嵌入木頭，完全咬住木頭，而且柚木強度也足以支撐這個銅柱的邊邊，絲毫沒有裂掉的痕跡。</p>
<img src="https://farm8.staticflickr.com/7287/8741511608_ed9685769a_b.jpg">
<p>不過目前有個問題是這個銅柱比原本金屬底座接合處留的洞(鎖螺絲的地方)還要小一點(設計團隊說寬度約小了 1mm 左右)，目前他們已經在大陸找到廠商有在做這個寬度的橡皮圈，還在訂購中，所以理想上最後的成品會無縫的接合原本的底座。</p>
<p>但是現在的試驗品都還沒有橡皮圈，所以我只好先自行解決了… 左想右想…結果只好拿了牙線(正是你想的剔牙的牙線 - -;)，綁個幾圈增加寬度 XD 不過總算是解決了銅柱寬度不足的問題。</p>
<p>最後附上兩張換上底座的圖</p>
<img src="https://farm8.staticflickr.com/7286/8741511882_49af785a7d_b.jpg">
<p>下面這張好像被我的 12mm 廣角拉斜了 = =” 實際上是非常方正的</p>
<img src="https://farm8.staticflickr.com/7288/8741512208_2030fd0ac1_b.jpg">
<p>這個手把的表面塗有日本的漆(應該是日本的 XD 我忘了)，設計團隊說最後會推出三種顏色 ，不過我忘記問是哪三種了 ，喜歡的版友可以期待最後推出的色系，不過目前看來木頭原色大好！</p>
<p>另外除了顏色的差異，木頭本身的紋路也是重點，設計團隊說他們針對木頭的紋路有分幾個等級，不過我不知道會不會反應在售價就是了，喜歡的板友應該是可以挑自己喜歡的紋路，創造個人化。</p>
<p>重量上也減少了約 20g ，原本的手把約 6x g 現在只來到了 4x g，更沒有負擔的增加握持感。</p>
<p>至於手把拿起來其實就跟金屬的一模一樣 (因為形狀都一模一樣啊 XD)，不同的地方在於沒有冰冰涼涼了  所以就不附上手把實握圖啦~</p>
<img src="https://farm8.staticflickr.com/7286/8741459502_c1d4de476d_b.jpg">
<p>這木頭手柄馬上變成我的最愛，原本的金屬手柄就被我收起來了 XD</p>
]]></content>
    <summary type="html">
    <![CDATA[<img src="https://farm8.staticflickr.com/7294/8740341439_0a08f31ecd_b.jpg">
<p>再次從 <a href="https://www.facebook.com/hoson.design">HOSON</a> 團隊拿到了一個測試手把。</p>
<p>不同的是這次手柄是木質的 ！</p>
<p>E-M5 的主人們不用再羡慕只有 E-P5 有限量版的木質手柄了 :P</p>
<img src="https://farm8.staticflickr.com/7290/8740342185_0b1787e605_b.jpg">
<p>借用一下 E-P5 木質手柄的圖</p>
<img src="http://i1266.photobucket.com/albums/jj524/picrumors/e-p5_premium_silver_zpse32957a1.jpg">
<p>因為選用的木頭不同所以顏色是不一樣的，E-P5 是加拿大楓木，而版友所選的是質地經過測試很堅固的柚木。</p>
<p>設計團隊測試了柚木跟槐木，發現槐木還是軟了一點，他們更看過紫檀木，不過後來因為成本過高就作罷了。</p>
<p>註: 柚木在 <a href="https://zh.wikipedia.org/zh-tw/%E6%9F%9A%E6%9C%A8">wiki</a> 裡面記載 「機械性質極強、乾燥性良好，收縮率小、木質強韌、耐久性高、對菌類及蟲害抵抗力強 … 木理通直、質地堅硬、細緻，材面含油脂之觸感，乾燥性良好，耐久性高，為所有木材中膨脹收縮最少者一，尺寸安定性佳。材面木紋美觀優雅、且加工容易、為世界上高級木材之一。」</p>]]>
    
    </summary>
    
      <category term="E-M5" scheme="http://blog.littlero.se/tags/E-M5/"/>
    
      <category term="3C" scheme="http://blog.littlero.se/categories/3C/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Safari 無法建立 nginx ssl_ciphers 使用 RC4 的連線]]></title>
    <link href="http://blog.littlero.se/post/nginx-ssl-cipher-rc4-safari/"/>
    <id>http://blog.littlero.se/post/nginx-ssl-cipher-rc4-safari/</id>
    <published>2013-04-27T05:52:58.000Z</published>
    <updated>2015-03-14T05:41:29.000Z</updated>
    <content type="html"><![CDATA[<p>前幾天幫部門把原本提供 HTTPS 的 squid 換成 nginx，結果馬上被反應 Mac 上面的 Agent 不能連線但是又不知道為什麼，因為其他的瀏覽器 Chrome Firefox 不管作業系統 Windows Linux Mac 上的都可以連真的很弔詭，麻煩同事用跟 Agent 一樣的 Framework 重寫一個簡單的版本也不行，測了很久也找不太到癥結點，後來靈機一動，何不試看看 Safari … 結果果然不出所料… <code>Unable to establish a secure connection</code> XDDD 搞什麼連 Safari 也連不了，這樣子要 Debug 我就可以自己來了，不然要一直麻煩同事跟我對測不好意思，一開始先用 <code>tcpdump</code> 發現 Server 送 Certificate 給 Client 之後 Client 就自己斷掉 connection ?! WTF 這太沒有頭緒了吧，後來上網搜尋 <code>ssl connection fail safari</code>，結果一路看看看就看到了這個 <a href="https://bugs.launchpad.net/ubuntu/+source/openssl/+bug/965371" target="_blank" rel="external">HTTPS requests fail on sites which immediately close the connection if TLS 1.1 negotiation is attempted, on Ubuntu 12.04</a>，起因是 OpenSSL 1.0.1 的一個 Bug，版上建議降成 OpenSSL 1.0.0 就可以了，因為我要啟用 nginx 的 spdy 所以一定要用 OpenSSL 1.0.1 才可以，不過秉持實驗的精神只好先解除這個功能，於是我就編譯了 nginx with openssl 1.0.0k，然後結果…靠背還是一樣 Safri 不能連其他都可以！不信邪改用 0.9.8y，結果在一模一樣的設定下這個 Safari 就可以連了 = = (這哪招)，總之越來越神秘，只好先回到 nginx with openssl 1.0.1e，(就是死命要 spdy 就對了 XD)，後來在沒什麼想法的情況下只好打開 nginx 的 debug mode <code>error_log xxxxx debug;</code>，瞧瞧裡面有什麼。</p>
<p>結果就看到</p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="constant">SSL</span> <span class="id">handshake</span> <span class="id">handler</span>: <span class="number">0</span></span><br><span class="line">[<span class="id">debug</span>] <span class="number">7585#0</span>: *<span class="number">1</span> <span class="constant">SSL_</span><span class="id">do_handshake</span>: <span class="number">0</span></span><br><span class="line">[<span class="id">debug</span>] <span class="number">7585#0</span>: *<span class="number">1</span> <span class="constant">SSL_</span><span class="id">get_error</span>: <span class="number">5</span></span><br><span class="line">[<span class="id">info</span>] <span class="number">7585#0</span>: *<span class="number">1</span> <span class="id">peer</span> <span class="id">closed</span> <span class="id">connection</span> <span class="id">in</span> <span class="constant">SSL</span> <span class="id">handshake</span> <span class="id">while</span> <span class="constant">SSL</span> <span class="id">handshaking</span>, <span class="id">client</span>: x.x.x.x, <span class="id">server</span>: <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">443</span>                                  </span><br><span class="line">[<span class="id">debug</span>] <span class="number">7585#0</span>: *<span class="number">1</span> <span class="id">close</span> <span class="id">http</span> <span class="id">connection</span>: <span class="number">14</span></span><br><span class="line">[<span class="id">debug</span>] <span class="number">7585#0</span>: *<span class="number">1</span> <span class="constant">SSL_</span><span class="id">shutdown</span>: <span class="number">1</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>啊靠，搞屁 Safari 直接斷掉 connection，這哪招，於是再用 Chrome 連看看</p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="constant">SSL</span> <span class="id">handshake</span> <span class="id">handler</span>: <span class="number">0</span></span><br><span class="line">[<span class="id">debug</span>] <span class="number">8398#0</span>: *<span class="number">1</span> <span class="id">ssl</span> <span class="id">new</span> <span class="id">session</span>: <span class="number">67979935</span>:<span class="number">32</span>:<span class="number">139</span></span><br><span class="line">[<span class="id">debug</span>] <span class="number">8398#0</span>: *<span class="number">1</span> <span class="constant">SSL_</span><span class="id">do_handshake</span>: <span class="number">1</span></span><br><span class="line">[<span class="id">debug</span>] <span class="number">8398#0</span>: *<span class="number">1</span> <span class="constant">SSL</span>: <span class="constant">TLS</span><span class="id">v1</span>.<span class="number">1</span>, <span class="id">cipher</span>: <span class="string">"ECDHE-RSA-RC4-SHA SSLv3 Kx=ECDH Au=RSA Enc=RC4(128) Mac=SHA1"</span></span><br><span class="line">[<span class="id">debug</span>] <span class="number">8398#0</span>: *<span class="number">1</span> <span class="id">reusable</span> <span class="id">connection</span>: <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>Bingo，看到一個關鍵的地方，在 SSL handshake 中，client 發一個簡單的 Hello 給 Sever 後，Server 也會回一個 Hello 給 Client，其中這兩個 Hello 會把自己支援的 SSL版本、加密法包在裡面給對方知道，於是這就回到 nginx 的 ssl 設定了，在 nginx 的 doc <a href="http://nginx.org/en/docs/http/configuring_https_servers.html" target="_blank" rel="external">Configuring HTTPS servers</a> 中，提到了因為要防禦 <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-3389" target="_blank" rel="external">CVE-2011-3389 BEAST Attack</a>，建議把 SSL 設置如下</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">ssl_protocols</span>       SSLv3 TLSv1 TLSv1.<span class="number">1</span> TLSv1.<span class="number">2</span>;</span><br><span class="line"><span class="title">ssl_ciphers</span> RC4:HIGH:!aNULL:!MD5;</span><br><span class="line"><span class="title">ssl_prefer_server_ciphers</span> <span class="built_in">on</span>;</span><br></pre></td></tr></table></figure>
<p>這個表示優先使用 RC4 的加密，然後是高安全(超過 128bit)的加密法，不接受 MD5 digest 的方式，所以我們可以看到 Chrome 是採用了 <code>ECDHE-RSA-RC4-SHA</code> (Firefox 也是)，但是 Safari 就這樣直接斷掉 connection… 我真是搞不懂你啊！這時候只好參考一些網路網站(就是拜一拜 Google 大神了)，就看到有個網站可以列出你的瀏覽器支援的 SSL cipher 在此 <a href="https://cc.dcsec.uni-hannover.de" target="_blank" rel="external">SSL Cipher Suite Details of Your Browser</a> 用 Safari 開了一下，如下</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">Cipher Suites Supported by Your Browser (ordered by preference):</span><br><span class="line"></span><br><span class="line">SpecCipher Suite NameKey SizeDescription</span><br><span class="line">(<span class="number">00</span>,ff)EMPTY-RENEGOTIATION-INFO-SCSV0 BitUsed <span class="keyword">for</span> secure renegotation.</span><br><span class="line">(c0,<span class="number">0</span>a)ECDHE-ECDSA-AES256-SHA256 BitKey <span class="string">exchange:</span> ECDH, <span class="string">encryption:</span> AES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(c0,<span class="number">09</span>)ECDHE-ECDSA-AES128-SHA128 BitKey <span class="string">exchange:</span> ECDH, <span class="string">encryption:</span> AES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(c0,<span class="number">07</span>)ECDHE-ECDSA-RC4128-SHA128 BitKey <span class="string">exchange:</span> ECDH, <span class="string">encryption:</span> RC4, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(c0,<span class="number">08</span>)ECDHE-ECDSA-<span class="number">3</span>DES-EDE-SHA168 BitKey <span class="string">exchange:</span> ECDH, <span class="string">encryption:</span> <span class="number">3</span>DES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(c0,<span class="number">14</span>)ECDHE-RSA-AES256-SHA256 BitKey <span class="string">exchange:</span> ECDH, <span class="string">encryption:</span> AES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(c0,<span class="number">13</span>)ECDHE-RSA-AES128-SHA128 BitKey <span class="string">exchange:</span> ECDH, <span class="string">encryption:</span> AES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(c0,<span class="number">11</span>)ECDHE-RSA-RC4128-SHA128 BitKey <span class="string">exchange:</span> ECDH, <span class="string">encryption:</span> RC4, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(c0,<span class="number">12</span>)ECDHE-RSA-<span class="number">3</span>DES-EDE-SHA168 BitKey <span class="string">exchange:</span> ECDH, <span class="string">encryption:</span> <span class="number">3</span>DES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(c0,<span class="number">04</span>)ECDH-ECDSA-AES128-SHA128 BitKey <span class="string">exchange:</span> ECDH, <span class="string">encryption:</span> AES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(c0,<span class="number">05</span>)ECDH-ECDSA-AES256-SHA256 BitKey <span class="string">exchange:</span> ECDH, <span class="string">encryption:</span> AES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(c0,<span class="number">02</span>)ECDH-ECDSA-RC4128-SHA128 BitKey <span class="string">exchange:</span> ECDH, <span class="string">encryption:</span> RC4, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(c0,<span class="number">03</span>)ECDH-ECDSA-<span class="number">3</span>DES-EDE-SHA168 BitKey <span class="string">exchange:</span> ECDH, <span class="string">encryption:</span> <span class="number">3</span>DES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(c0,<span class="number">0</span>e)ECDH-RSA-AES128-SHA128 BitKey <span class="string">exchange:</span> ECDH, <span class="string">encryption:</span> AES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(c0,<span class="number">0</span>f)ECDH-RSA-AES256-SHA256 BitKey <span class="string">exchange:</span> ECDH, <span class="string">encryption:</span> AES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(c0,<span class="number">0</span>c)ECDH-RSA-RC4128-SHA128 BitKey <span class="string">exchange:</span> ECDH, <span class="string">encryption:</span> RC4, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(c0,<span class="number">0</span>d)ECDH-RSA-<span class="number">3</span>DES-EDE-SHA168 BitKey <span class="string">exchange:</span> ECDH, <span class="string">encryption:</span> <span class="number">3</span>DES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(<span class="number">00</span>,<span class="number">2</span>f)RSA-AES128-SHA128 BitKey <span class="string">exchange:</span> RSA, <span class="string">encryption:</span> AES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(<span class="number">00</span>,<span class="number">05</span>)RSA-RC4128-SHA128 BitKey <span class="string">exchange:</span> RSA, <span class="string">encryption:</span> RC4, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(<span class="number">00</span>,<span class="number">04</span>)RSA-RC4128-MD5128 BitKey <span class="string">exchange:</span> RSA, <span class="string">encryption:</span> RC4, <span class="string">MAC:</span> MD5.</span><br><span class="line">(<span class="number">00</span>,<span class="number">35</span>)RSA-AES256-SHA256 BitKey <span class="string">exchange:</span> RSA, <span class="string">encryption:</span> AES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(<span class="number">00</span>,<span class="number">0</span>a)RSA-<span class="number">3</span>DES-EDE-SHA56 BitKey <span class="string">exchange:</span> RSA, <span class="string">encryption:</span> <span class="number">3</span>DES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(<span class="number">00</span>,<span class="number">33</span>)DHE-RSA-AES128-SHA128 BitKey <span class="string">exchange:</span> DH, <span class="string">encryption:</span> AES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(<span class="number">00</span>,<span class="number">39</span>)DHE-RSA-AES256-SHA256 BitKey <span class="string">exchange:</span> DH, <span class="string">encryption:</span> AES, <span class="string">MAC:</span> SHA1.</span><br><span class="line">(<span class="number">00</span>,<span class="number">16</span>)DHE-RSA-<span class="number">3</span>DES-EDE-SHA168 BitKey <span class="string">exchange:</span> DH, <span class="string">encryption:</span> <span class="number">3</span>DES, <span class="string">MAC:</span> SHA1.</span><br><span class="line"></span><br><span class="line">Further <span class="string">information:</span></span><br><span class="line"></span><br><span class="line">User-<span class="string">Agent:</span>Mozilla<span class="regexp">/5.0 (Macintosh; Intel Mac OS X 10_8_3) AppleWebKit/</span><span class="number">536.29</span><span class="number">.13</span> (KHTML, like Gecko) Version<span class="regexp">/6.0.4 Safari/</span><span class="number">536.29</span><span class="number">.13</span></span><br><span class="line">Preferred SSL/TLS <span class="string">version:</span> TLSv1</span><br><span class="line">SNI <span class="string">information:</span> cc.dcsec.uni-hannover.de</span><br><span class="line">SSL stack current <span class="string">time:</span> Sat, <span class="number">27</span> Apr <span class="number">2013</span> <span class="number">08</span>:<span class="number">20</span>:<span class="number">54</span></span><br><span class="line"></span><br><span class="line">This connection uses TLSv1 with AES128-SHA and a <span class="number">128</span> Bit key <span class="keyword">for</span> encryption.</span><br></pre></td></tr></table></figure>
<p>干，Safari 有支援 RC4 卻不給我使用，跑去用什麼 AES128-SHA 0rz…，所以我就想說奇怪為什麼有支援但是 nginx 單純設定 RC4 卻會失敗，於是在好奇之下就改成設定了</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssl_ciphers RC4-<span class="string">SHA:</span><span class="string">HIGH:</span>!<span class="string">aNULL:</span>!MD5;</span><br></pre></td></tr></table></figure>
<p>結果… Safari 就好了… Fxck 真的很想罵髒話，nginx 送 RC4 給 curl、Chrome、Firefox 都看的懂，你 Safari 就看不懂直接中斷連線是怎樣 = =</p>
<p>Okay~ anyway，後來在網路也查不到什麼相關文章，不過我在網路上找到 BEAST Attack 的<a href="https://docs.google.com/viewer?url=http%3A%2F%2Fwww.phonefactor.com%2Fresources%2FCipherSuiteMitigationForBeast.pdf" target="_blank" rel="external">白皮書</a> 裡面推薦把 Web Server Cipher 設定成 <code>!aNULL:!eNULL:!EXPORT:!DSS:!DE
S:!SSLv2:RC4-SHA:RC4-MD5:ALL</code>，經過測試這樣的順序 Safari 也可以正確的判讀 (因為 RC4-SHA:RC4-MD5 都明確說明了啊！)，不過基於 MD5 的 digest 似乎有 collision 的機率現在好像都不推薦使用，所以原本有個 <code>!MD5</code>，於是最後我在我們 Server 上就改成了</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssl_ciphers !<span class="string">aNULL:</span>!<span class="string">eNULL:</span>!<span class="string">EXPORT:</span>!<span class="string">DSS:</span>!<span class="string">DES:</span>!<span class="string">MD5:</span>RC4-<span class="string">SHA:</span>ALL;</span><br></pre></td></tr></table></figure>
<p>也就是不要 NULL， EXPORT 家族的，也不要 DSS、DES 的加密法，不要 MD5 的 digest，優先使用 RC4-SHA 跟剩下的其他加密/訊息驗證法，因為 RC4 跟 3DES 幾乎所有的 OS 都有支援，但是 3DES 效能是在太低會把 Server 拖一些下來，所以建議儘量使用 RC4 優先，這個網頁有速度的比較 <a href="http://zombe.es/post/4078724716/openssl-cipher-selection" target="_blank" rel="external">OpenSSL: Cipher Selection</a> 可以看到 RC4 是快很多的，但是在有支援 AESNI 指令集的 CPU 上用 AES 速度更快 (可用 <code>grep aes /proc/cpuinfo</code> 檢查)，所以目前使用 RC4 是安全又快速的。最後如果要檢查 HTTPS 到底是不是安全，可以使用 <a href="https://www.ssllabs.com/ssltest/" target="_blank" rel="external">SSL Server Test</a> 來檢查。</p>
<p>如果對 BEAST 攻擊有興趣可以看這篇 <a href="http://securitystreetknowledge.com/?p=882" target="_blank" rel="external">SSL Beast – SSL Assessments and How to Fix</a></p>
<p>後來在測試 Mac 的 Agent 也可以連了，看起來是底層的 Framework 可能有問題。</p>
<h4 id="後記">後記</h4><p>關於 SSL 其實有很多傳說 XDD，我還有看到人家說 OpenSSL 1.0.0 產生的憑證不能用在 Apache 上，跟我們的問題有點類似，因為我們自己內部網站用的 SSL 加一模一樣的 nginx 設定 (也就是只開 <code>RC4</code>) Safari 是完全沒問題的，這次出事的是我們對外服務的網站，但是因為憑證當初不是我申請的，所以問題已經無從追了，網路沒什麼反應也許 nginx 官網推薦的設定是真的 OK 的只是我們剛好踩到這個雷 %&gt;_&lt;%</p>
<p>另外也許文章一開始提到的，nginx 改用 OpenSSL 0.9.8y 可以是因為 Safari fallback 回去 SSLv3 的連線，所以就沒有使用奇奇怪怪的加密法，不然預設 Safari 也會優先使用 TLSv1。然後一用 TLSv1 配上我們的憑證也許 Safari 就傻了之類的 XD</p>
<h4 id="後記_x2">後記 x2</h4><p>目前 SSL/TSL key 都是直接交換的方式也就是同一把 key 用久久，去年爆出 NSA 其實有在偷偷側錄 SSL/TSL 的流量，所以有個名詞突然紅了起來，就是 <code>Perfect Forward Secrecy</code>  (PFS)，他是建立在 D-H 上，也就是動態產生一組 session key 交換，這樣可以確保全部訊息沒有辦法被用同一把 key 給解開。因此參考 <a href="https://community.qualys.com/blogs/securitylabs/2013/08/05/configuring-apache-nginx-and-openssl-for-forward-secrecy" target="_blank" rel="external">Configuring Apache, Nginx, and OpenSSL for Forward Secrecy</a> 這裡，建議把設定改成下列：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">ssl_protocols</span> TLSv1 TLSv1.<span class="number">1</span> TLSv1.<span class="number">2</span>;</span><br><span class="line"><span class="title">ssl_prefer_server_ciphers</span> <span class="built_in">on</span>;</span><br><span class="line"><span class="title">ssl_ciphers</span> <span class="string">"EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH EDH+aRSA RC4-SHA !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS"</span>;</span><br></pre></td></tr></table></figure>
<p>我把原文章的 RC4 改成 RC4-SHA，經過測試後，Safari 也可用！</p>
<p>不過需要注意的是因為要打開橢圓曲線加密所以搭配 nginx 的 OpenSSL 最低需求要 1.0.1c 以上。</p>
<hr>
<p>參考資料</p>
<ul>
<li><a href="http://vincent.bernat.im/en/blog/2011-ssl-perfect-forward-secrecy.html" target="_blank" rel="external">SSL/TLS &amp; Perfect Forward Secrecy</a></li>
<li><a href="https://techzone.ergon.ch/ciphersuite" target="_blank" rel="external">SSL Ciphersuite Configuration for External HTTPS Connections</a></li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<p>前幾天幫部門把原本提供 HTTPS 的 squid 換成 nginx，結果馬上被反應 Mac 上面的 Agent 不能連線但是又不知道為什麼，因為其他的瀏覽器 Chrome Firefox 不管作業系統 Windows Linux Mac 上的都可以連真的很弔詭，麻煩同事用跟 Agent 一樣的 Framework 重寫一個簡單的版本也不行，測了很久也找不太到癥結點，後來靈機一動，何不試看看 Safari … 結果果然不出所料… <code>Unable to establish a secure connection</code> XDDD 搞什麼連 Safari 也連不了，這樣子要 Debug 我就可以自己來了，不然要一直麻煩同事跟我對測不好意思，一開始先用 <code>tcpdump</code> 發現 Server 送 Certificate 給 Client 之後 Client 就自己斷掉 connection ?! WTF 這太沒有頭緒了吧，後來上網搜尋 <code>ssl connection fail safari</code>，結果一路看看看就看到了這個 <a href="https://bugs.launchpad.net/ubuntu/+source/openssl/+bug/965371">HTTPS requests fail on sites which immediately close the connection if TLS 1.1 negotiation is attempted, on Ubuntu 12.04</a>，起因是 OpenSSL 1.0.1 的一個 Bug，版上建議降成 OpenSSL 1.0.0 就可以了，因為我要啟用 nginx 的 spdy 所以一定要用 OpenSSL 1.0.1 才可以，不過秉持實驗的精神只好先解除這個功能，於是我就編譯了 nginx with openssl 1.0.0k，然後結果…靠背還是一樣 Safri 不能連其他都可以！不信邪改用 0.9.8y，結果在一模一樣的設定下這個 Safari 就可以連了 = = (這哪招)，總之越來越神秘，只好先回到 nginx with openssl 1.0.1e，(就是死命要 spdy 就對了 XD)，後來在沒什麼想法的情況下只好打開 nginx 的 debug mode <code>error_log xxxxx debug;</code>，瞧瞧裡面有什麼。</p>
<p>結果就看到</p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="constant">SSL</span> <span class="id">handshake</span> <span class="id">handler</span>: <span class="number">0</span></span><br><span class="line">[<span class="id">debug</span>] <span class="number">7585#0</span>: *<span class="number">1</span> <span class="constant">SSL_</span><span class="id">do_handshake</span>: <span class="number">0</span></span><br><span class="line">[<span class="id">debug</span>] <span class="number">7585#0</span>: *<span class="number">1</span> <span class="constant">SSL_</span><span class="id">get_error</span>: <span class="number">5</span></span><br><span class="line">[<span class="id">info</span>] <span class="number">7585#0</span>: *<span class="number">1</span> <span class="id">peer</span> <span class="id">closed</span> <span class="id">connection</span> <span class="id">in</span> <span class="constant">SSL</span> <span class="id">handshake</span> <span class="id">while</span> <span class="constant">SSL</span> <span class="id">handshaking</span>, <span class="id">client</span>: x.x.x.x, <span class="id">server</span>: <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">443</span>                                  </span><br><span class="line">[<span class="id">debug</span>] <span class="number">7585#0</span>: *<span class="number">1</span> <span class="id">close</span> <span class="id">http</span> <span class="id">connection</span>: <span class="number">14</span></span><br><span class="line">[<span class="id">debug</span>] <span class="number">7585#0</span>: *<span class="number">1</span> <span class="constant">SSL_</span><span class="id">shutdown</span>: <span class="number">1</span></span><br></pre></td></tr></table></figure>]]>
    
    </summary>
    
      <category term="Mac" scheme="http://blog.littlero.se/tags/Mac/"/>
    
      <category term="nginx" scheme="http://blog.littlero.se/tags/nginx/"/>
    
      <category term="資訊" scheme="http://blog.littlero.se/categories/%E8%B3%87%E8%A8%8A/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[用 map 的功能把 nginx 變成簡單的應用程式防火牆]]></title>
    <link href="http://blog.littlero.se/post/nginx---using-map-as-a-simple-web-application-firewall/"/>
    <id>http://blog.littlero.se/post/nginx---using-map-as-a-simple-web-application-firewall/</id>
    <published>2013-04-14T03:44:22.000Z</published>
    <updated>2015-03-14T05:41:20.000Z</updated>
    <content type="html"><![CDATA[<p>要幫 nginx 增加安全性的話，大概首推 <a href="http://www.modsecurity.org/projects/modsecurity/nginx/" target="_blank" rel="external">modsecurity</a> 這個模組了，不過目前他只有支援 nginx 1.2 穩定版，尚未支援 1.3 開發版，基本上具有下列功能</p>
<ol>
<li>超過 16000 規則防範下列攻擊<ul>
<li>SQL injection</li>
<li>Cross-site Scripting (XSS)</li>
<li>Local File Include</li>
<li>Remote File Include</li>
</ul>
</li>
<li>可客製化規則，保護下列的應用<ul>
<li>WordPress</li>
<li>cPanel</li>
<li>osCommerce</li>
<li>Joomla</li>
</ul>
</li>
<li>包含了 OWASP Core Rule Set</li>
<li>IP 聲望偵測</li>
<li>Malware Detection</li>
</ol>
<p>不過有一些在更簡單的功能，像是有時候會自己想擋一些 bot，或者要判斷合法的 referrer 才給過之類的就不在這個之內了，這時候我們可以利用 <a href="http://wiki.nginx.org/HttpMapModule" target="_blank" rel="external">map</a> 來幫我們做簡單的過濾。</p>
<a id="more"></a>
<p>首先 <code>map</code> 只能夠放在 <code>http</code> 的 scope 內，所以我們可以在 <code>http</code> 內擺下列規則</p>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">map <span class="variable">$request_method</span> <span class="variable">$bad_method</span> &#123;</span><br><span class="line">  <span class="keyword">default</span> <span class="number">1</span>;</span><br><span class="line">  ~<span class="variable">*(</span>get|head|post) <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">map <span class="variable">$http_user_agent</span> <span class="variable">$bad_bot</span> &#123;</span><br><span class="line">  <span class="keyword">default</span> <span class="number">0</span>;</span><br><span class="line">  ~<span class="variable">*^</span>curl <span class="number">1</span>;</span><br><span class="line">  ~<span class="variable">*^</span>flashget <span class="number">1</span>;</span><br><span class="line">  ~<span class="variable">*^</span>java <span class="number">1</span>;</span><br><span class="line">  ~^$ <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">map <span class="variable">$query_string</span> <span class="variable">$bad_query</span> &#123;</span><br><span class="line">  <span class="keyword">default</span> <span class="number">0</span>;</span><br><span class="line">  ~[a-zA-Z0-<span class="number">9</span>_]=(\.\.<span class="variable">%2F</span>(<span class="variable">%2F</span>)?)+ <span class="number">1</span>;</span><br><span class="line">  ~[a-zA-Z0-<span class="number">9</span>_]=<span class="variable">%2F</span>([a-z0-<span class="number">9</span>_.]+<span class="variable">%2F</span>(<span class="variable">%2F</span>)?)+ <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>map</code> 的用法很簡單，第一個參數給的是要做比較的對象通常就是 http core 可以使用的那些變數可以參考 <a href="http://wiki.nginx.org/HttpCoreModule#Variables" target="_blank" rel="external">這裡</a>，然後第二個參數就是覆寫過後的變數名稱，再來大刮號內首先給這個變數一個預設值也就是 <code>default xxx;</code>，後面就開始接比較的方法跟如果 match 到要給第二個變數什麼值，通常有三種表示法以 <code>~</code> <code>~*</code> 跟不是這兩個開頭的，以 <code>~</code> 跟 <code>~*</code> 開頭的表示要用正規表示式來比對，沒有的就表示是常規的方式比對(直接比對)，所以剛剛的範例來說可以用下面的來解釋</p>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># 比對 <span class="variable">$request_method</span> 然後比對後的值放 <span class="variable">$bad_method</span></span><br><span class="line">map <span class="variable">$request_method</span> <span class="variable">$bad_method</span> &#123;</span><br><span class="line">  # 把 <span class="variable">$bad_method</span> 設定成 <span class="number">0</span></span><br><span class="line">  <span class="keyword">default</span> <span class="number">1</span>;</span><br><span class="line">  # 如果 <span class="variable">$request_method</span> 是 GET 或 HEAD 或 POST 就把 <span class="variable">$bad_method</span> 設成 <span class="number">0</span></span><br><span class="line">  ~<span class="variable">*(</span>get|head|post) <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 比對 <span class="variable">$http_user_agent</span> 比對的值放 <span class="variable">$bad_bot</span></span><br><span class="line">map <span class="variable">$http_user_agent</span> <span class="variable">$bad_bot</span> &#123;</span><br><span class="line">  # <span class="variable">$bad_bot</span> 預設是 <span class="number">0</span></span><br><span class="line">  <span class="keyword">default</span> <span class="number">0</span>;</span><br><span class="line">  # user agent 遇到 curl / flashget / java 或者完全是空的就設成 <span class="number">1</span></span><br><span class="line">  ~<span class="variable">*^</span>curl <span class="number">1</span>;</span><br><span class="line">  ~<span class="variable">*^</span>flashget <span class="number">1</span>;</span><br><span class="line">  ~<span class="variable">*^</span>java <span class="number">1</span>;</span><br><span class="line">  ~^$ <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 比對 ? 後面的參數</span><br><span class="line">map <span class="variable">$query_string</span> <span class="variable">$bad_query</span> &#123;</span><br><span class="line">  <span class="keyword">default</span> <span class="number">0</span>;</span><br><span class="line">  # 如果遇到要 access 檔案的 比方說 a=..<span class="variable">%2Fetc</span><span class="variable">%2Fpasswd</span> 之類的 <span class="variable">$bad_query</span> 就設成 <span class="number">1</span></span><br><span class="line">  ~[a-zA-Z0-<span class="number">9</span>_]=(\.\.<span class="variable">%2F</span>(<span class="variable">%2F</span>)?)+ <span class="number">1</span>;</span><br><span class="line">  # 這個是 a=<span class="variable">%2Fetc</span><span class="variable">%2F</span> 之類的</span><br><span class="line">  ~[a-zA-Z0-<span class="number">9</span>_]=<span class="variable">%2F</span>([a-z0-<span class="number">9</span>_.]+<span class="variable">%2F</span>(<span class="variable">%2F</span>)?)+ <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"># 註: <span class="variable">%2F</span> 就是 /</span><br></pre></td></tr></table></figure>
<p>然後我們要在 <code>server</code> 的 context 擺下面的設定才會生效(建議擺在最上面就可以了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="variable">$bad_method</span> = <span class="number">1</span>) &#123;</span><br><span class="line">  <span class="built_in">return</span> <span class="number">444</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$bad_bot</span> = <span class="number">1</span>) &#123;</span><br><span class="line">  <span class="built_in">return</span> <span class="number">444</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$bad_query</span> = <span class="number">1</span>) &#123;</span><br><span class="line">  <span class="built_in">return</span> <span class="number">444</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>這樣就會把我們不想要的 request 都過濾掉了。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>要幫 nginx 增加安全性的話，大概首推 <a href="http://www.modsecurity.org/projects/modsecurity/nginx/">modsecurity</a> 這個模組了，不過目前他只有支援 nginx 1.2 穩定版，尚未支援 1.3 開發版，基本上具有下列功能</p>
<ol>
<li>超過 16000 規則防範下列攻擊<ul>
<li>SQL injection</li>
<li>Cross-site Scripting (XSS)</li>
<li>Local File Include</li>
<li>Remote File Include</li>
</ul>
</li>
<li>可客製化規則，保護下列的應用<ul>
<li>WordPress</li>
<li>cPanel</li>
<li>osCommerce</li>
<li>Joomla</li>
</ul>
</li>
<li>包含了 OWASP Core Rule Set</li>
<li>IP 聲望偵測</li>
<li>Malware Detection</li>
</ol>
<p>不過有一些在更簡單的功能，像是有時候會自己想擋一些 bot，或者要判斷合法的 referrer 才給過之類的就不在這個之內了，這時候我們可以利用 <a href="http://wiki.nginx.org/HttpMapModule">map</a> 來幫我們做簡單的過濾。</p>]]>
    
    </summary>
    
      <category term="nginx" scheme="http://blog.littlero.se/tags/nginx/"/>
    
      <category term="資訊" scheme="http://blog.littlero.se/categories/%E8%B3%87%E8%A8%8A/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[E-M5 副廠手把]]></title>
    <link href="http://blog.littlero.se/post/e-m5-grip-base/"/>
    <id>http://blog.littlero.se/post/e-m5-grip-base/</id>
    <published>2013-04-13T12:30:03.000Z</published>
    <updated>2015-03-14T05:39:43.000Z</updated>
    <content type="html"><![CDATA[<p>E-M5 的手感雖然有做出手把的弧形但是因為實在是太淺了，所以還是稍微差了一點，像我是手小的都覺得 E-M5 不好握的話，手大的應該就更難了，原廠賣的<a href="http://olympusomd.com/zh-TW/omd/e-m5/accessory/#&amp;panel1-2" target="_blank" rel="external">手把</a>是跟電池底座一起賣的要九張小朋友多一點的價格，真的是見鬼了，而且不喜歡加個電池底座多一個累贅，不過現在救星來了！ <a href="https://www.facebook.com/hoson.design" target="_blank" rel="external">HOSON</a> 團隊帶來了一個鋁鎂合金手把 MA-1</p>
<img src="https://lh3.googleusercontent.com/-sHbJAFUfvyI/UWlS2uiztyI/AAAAAAAAFkg/zheRttROHWI/s640/P4131010.JPG">
<p>沒錯！他叫做阿魯把，是把不是八，剛看到時覺得挺妙的，作者補充說是阿嚕咪(aluminum)的手把啦~ 而且設計製造都是在台灣，純正的 MIT！</p>
<a id="more"></a>
<p>內容物因為在<a href="https://www.facebook.com/events/126297087561209/?ref=22" target="_blank" rel="external">試握會</a>已經開箱了，所以以下就不從開箱開始了，直接分享組裝好的成品(其實也只是兩個螺絲，但我懶得拆了XD)</p>
<p>正面<br><img src="https://lh3.googleusercontent.com/-mqxtp5BZw6Q/UWlS65HGxyI/AAAAAAAAFlA/DU6RPzsFXow/s640/P4131016.JPG"></p>
<p>背面<br><img src="https://lh6.googleusercontent.com/-K92SulEgxtI/UWlS6rvy-wI/AAAAAAAAFkw/it_5izlMBKU/s640/P4131017.JPG"></p>
<p>注意的是底座的上面有作者用手工裁切、黏合的緩衝墊，這樣在上鎖時可以有效地保護 E-M5 的機身，不會被刮到。另外右邊有一根金屬針，左邊有兩個小圓點，都是對應到 E-M5 機身的孔或者螺絲的凸出點，可見作者對於小細節也是相當注重的。</p>
<p>底部<br><img src="https://lh4.googleusercontent.com/--EfZxoR5mnE/UWlTBey5OFI/AAAAAAAAFk8/m_bSRUtuUpg/s640/P4131018.JPG"></p>
<p>注意到的是底部的兩個螺絲，因為這個手把是兩件式的，底座跟手把處是可以分開的，未來會單獨賣上面的手把部，因為作者一直想做木製的 XD，目前是柚木跟檜木在實驗，真的很下重本！只是目前還卡在技術沒有突破(木頭鎖螺絲強度會不夠)，所以就拭目以待吧，期待有好消息。</p>
<p>接下來就是跟 E-M5 的合體照啦！</p>
<img src="https://lh5.googleusercontent.com/-6Bqg9mdeI7I/UWlSzDGX9rI/AAAAAAAAFkY/5IppaEg9MQA/s640/IMG_1374.JPG">
<p>當然換電池是不需要拆的</p>
<img src="https://lh5.googleusercontent.com/-s-g8z5D4elU/UWlS3odhQdI/AAAAAAAAFks/IlDplROs3f0/s640/IMG_1380.JPG">
<p>這張照片可以看出來握把的部份上半段大約有一公分厚的半圓形，然後下半段才是兩段式弧狀的部份，後面會有手握的實際圖，這樣的設計作者有他的道理！<br>底部的部份基本是平整的，有個腳架孔。</p>
<p>然後是手拿的照片</p>
<img src="https://lh4.googleusercontent.com/-8nNG-47ADzk/UWlSyBJy6II/AAAAAAAAFkI/Q_SIc2OzzdE/s640/IMG_1376.JPG">
<p>上視圖</p>
<img src="https://lh5.googleusercontent.com/-MRVAYfBlXJI/UWlSyjeZNeI/AAAAAAAAFkQ/MJ5wcttRSMc/s640/IMG_1377.JPG">
<p>握起來就是中指勾住半圓形的上段，剩下的就勾住下面的弧狀，整體受力就自然很多，不會像沒裝之前那種拇指硬拉的感覺，另外為什麼要在最上半段做半圓形而不是兩段式弧狀，除了中指比較長這樣可以比較有支撐之外另外一個重點是半圓才會靠住原本的 E-M5 機身，如果鏡頭重一點這樣的設計才支撐的比較好。</p>
<p>最後講一下價錢，入手價是 2.6k，算是很好的價位，因為一樣是鋁製的，iPhone 的鋁製底座 <a href="http://www.elevationlab.com/products/elevationdock-for-iphone4" target="_blank" rel="external">elevationdock</a> 價位也大概是 2.5k 左右，而且參加試握會跟作者聊天感覺得到作者真的很用心在做產品，希望他們團隊未來可以開發更多好用的配件。</p>
<p>最後來一張說明書，還有出貨檢驗過的哦！另外他們有多付一顆螺絲做備品。<br><img src="https://lh6.googleusercontent.com/-fd98dKyK4bY/UWljbTenvgI/AAAAAAAAFlg/lo-Go9lf0Cw/s640/P4131020.JPG"></p>
<p>更多的照片可以參考下列文章或者是他們的<a href="https://www.facebook.com/hoson.design" target="_blank" rel="external"> Facebook 粉絲團</a>！</p>
<hr>
<p>相關資料:</p>
<ul>
<li><a href="http://www.mobile01.com/topicdetail.php?f=249&amp;t=3286438&amp;r=3&amp;last=42896665" target="_blank" rel="external">Mobile01 - 【持續分享】Olympus OMD E-M5 手把(握把) 友人自行開發</a></li>
<li><a href="http://www.mobile01.com/topicdetail.php?f=249&amp;t=3280303&amp;r=3&amp;last=42772479" target="_blank" rel="external">Mobile01 - (開箱文）Em-5 omd副廠把手（握把）</a></li>
<li><a href="http://www.mobile01.com/topicdetail.php?f=249&amp;t=3308435&amp;m=s&amp;s=17&amp;r=2&amp;last=43082227" target="_blank" rel="external">Mobile01 - (圖多) EM5 交流俱樂部小聚!</a></li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<p>E-M5 的手感雖然有做出手把的弧形但是因為實在是太淺了，所以還是稍微差了一點，像我是手小的都覺得 E-M5 不好握的話，手大的應該就更難了，原廠賣的<a href="http://olympusomd.com/zh-TW/omd/e-m5/accessory/#&amp;panel1-2">手把</a>是跟電池底座一起賣的要九張小朋友多一點的價格，真的是見鬼了，而且不喜歡加個電池底座多一個累贅，不過現在救星來了！ <a href="https://www.facebook.com/hoson.design">HOSON</a> 團隊帶來了一個鋁鎂合金手把 MA-1</p>
<img src="https://lh3.googleusercontent.com/-sHbJAFUfvyI/UWlS2uiztyI/AAAAAAAAFkg/zheRttROHWI/s640/P4131010.JPG">
<p>沒錯！他叫做阿魯把，是把不是八，剛看到時覺得挺妙的，作者補充說是阿嚕咪(aluminum)的手把啦~ 而且設計製造都是在台灣，純正的 MIT！</p>]]>
    
    </summary>
    
      <category term="E-M5" scheme="http://blog.littlero.se/tags/E-M5/"/>
    
      <category term="3C" scheme="http://blog.littlero.se/categories/3C/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[E-M5 12mm 25mm]]></title>
    <link href="http://blog.littlero.se/post/e-m5-12mm-25mm/"/>
    <id>http://blog.littlero.se/post/e-m5-12mm-25mm/</id>
    <published>2013-03-24T03:05:58.000Z</published>
    <updated>2015-03-14T05:39:34.000Z</updated>
    <content type="html"><![CDATA[<p>三年前原本買了 <a href="http://www.four-thirds.org/en/microft/body.html#c=Panasonic&amp;i_dmc-gf2_panasonic" target="_blank" rel="external">GF2</a> + <a href="http://www.four-thirds.org/en/microft/single.html#i_014mm_f025_panasonic" target="_blank" rel="external">LUMIX G 14mm F2.5 ASPH</a> 要給我妹，結果他竟然嫌棄說 14mm 沒辦法變焦… 0rz… 這實在是，結果後來還是買了一般的小 DC 給她 = =+，然後去年入手了 <a href="http://www.four-thirds.org/en/microft/single.html#i_025mm_f014_panasonic" target="_blank" rel="external">LEICA DG SUMMILUX 25mm F1.4 ASPH</a> </p>
<img src="http://farm9.staticflickr.com/8237/8584909748_bde84d9f1b_z.jpg">
<p>大光圈的加持真的不是蓋的等效 50mm 也相當的好取景，但是最近對焦距離 30cm 真的稍遠不過他本來就被定位在人像鏡所以其實還好，整體來說還是超級棒的一顆鏡頭，只是去參觀室內的展覽(像是小叮噹誕生前百年特展)難免又被我妹嫌棄說為什麼拍照都要站這麼遠 XDDD，以下是 GF2 搭 25mm 拍出來的照片。</p>
<a id="more"></a>
<img src="https://lh6.googleusercontent.com/-nSiRbq-qhwA/Tlc9hvFUYmI/AAAAAAAABTU/38CTnturWCU/s640/P1030972.jpg">
<img src="https://lh6.googleusercontent.com/-oRP9GnFtrwQ/T3rwXl45YcI/AAAAAAAADhc/4v9UaAX8i14/s640/P1060170.jpg">
<img src="https://lh4.googleusercontent.com/-6YuMOqBxatk/T3rxrdUopjI/AAAAAAAADos/aiNGg6pMuyw/s640/P1060245.jpg">
<img src="https://lh4.googleusercontent.com/-0yoP13OqZyk/T1NZaNOoRcI/AAAAAAAADK8/5Dj8hblHRf0/s512/P1050951.jpg">
<img src="https://lh5.googleusercontent.com/-GkuDZgBGjb8/UIX2Bbdq-rI/AAAAAAAAEUA/Xia1f33x7Zs/s640/P1060600.jpg">
<p>25mm 這顆在 f1.4 的加持下散景非常明顯，拍食物的話坐在餐桌前面也不用太刻意的後退，算是人像/食物都可以拍的鏡頭。</p>
<p>後來我妹要出國玩，想說幫他補一顆 <a href="http://www.four-thirds.org/en/microft/standard.html#i_014-042mm_f035-056_pz_panasonic" target="_blank" rel="external">14-42mm F3.5-5.6 X Lens</a>，然後 GF2 終於沒有被他嫌棄了 Q_Q，好吧其實是自己的敗家慾望起來 XD，想趕快把 GF2 脫手，這樣才有下一個目標，整體說起來 GF2 在少了轉盤的狀況下並沒有犧牲很多操作感，因為觸碰真的很方便，不過 GF2 的噪點就是會很多，蠻奇怪的在 ISO100 的狀況下黑色的地方還是會有紅綠小噪點，這也是之前一隻想把 GF2 出掉的原因，無奈 Panasonic 後來出了一堆 m43 的機身… 想賣也賣不到好價錢了，而且我的還是公司貨，賠更多 0rz…，所以就自己留著繼續用，其實搭了 x14-42 後，GF2 也算是稍稍的被解放了，因為這顆變焦體積更小，而且不會有定焦如果是直拍照片不會自己旋轉的問題(因為 GF2 機身沒有 sensor)，所以其實 GF2 + x14-42 真的是不錯的組合，不過！該敗家的計劃還是要實行 XD</p>
<p>這次在收集到足夠的情報下，在過農曆年前發了年終後，就去抱了一台 <a href="http://www.four-thirds.org/en/microft/body.html#c=OLYMPUS&amp;i_om-d_e-m5_olympus" target="_blank" rel="external">E-M5</a> 回來啦~ 主要是相中他文青般的機身(誤)，沒有啦，主要是因為傳聞中 O 家的天空藍，加上這次 E-M5 有新的 Sony Sensor 的加持讓工作可用 ISO 一舉推到 3200 (原本 P 家最新的 G5 大概也是在 1600 而已，不過 GH3 好像也是用這片 Sensor 所以其實兩家目前最好的機身算是打平了)，不過吸引我的是傳說的外星科技五軸防震，因為設計理念不同， P 家是把防震做在鏡頭上、機身則沒有此設計，但是 O 家剛好完全相反，鏡頭都沒有防震(即便是變焦鏡也是沒有的)、而防震做在機身上，這樣的好處是鏡頭防震比較省電，以及機身比較不會過熱(據說的 XD) 而且鏡頭防震好像效果會比較好(望遠端)，但是機身防震的好處是不管接什麼奇怪的鏡頭，自動鏡、手動鏡都會有防震的保護，於是在 E-M5 這麼多好處下，我就跳槽了，反正現有的 25mm f1.4 鏡頭可以繼續用 :)，以下是 E-M5 + 25mm 拍出來的照片。</p>
<img src="http://farm9.staticflickr.com/8522/8484243021_4f271b369b_z.jpg">
<p>其實在室內拍小朋友往往會因為燈光比較暗，快門會拉長導致拍照失敗，但是有 E-M5 的加持真的比較不會失敗 (但是手或腳可能還是會有殘影啦，畢竟手速比較快 XD)。</p>
<img src="http://farm9.staticflickr.com/8511/8485361962_fa844239fc_z.jpg">
<img src="http://farm9.staticflickr.com/8525/8484280419_8da7d7f625_z.jpg">
<img src="https://lh5.googleusercontent.com/-tNjVW_DmLyo/UTG_CSZGpJI/AAAAAAAAFZA/HjJTzrlVJ5w/s640/P3020588.JPG">
<img src="https://lh4.googleusercontent.com/-mu7Rk9VuS9k/UTG_QZdJ3LI/AAAAAAAAFcQ/8s9iw8o0tOU/s640/P3020616.JPG">
<img src="https://lh4.googleusercontent.com/-OeGYEUF-C4c/UTG_SxNDA2I/AAAAAAAAFcc/qnPckYZ4kV0/s640/P3020621.JPG">
<p>以拍人來說，我覺得 E-M5 拍出來的確實比 GF2 拍出來的還要好看，色調上還是有些微的差距，而且 O 家無恥濾鏡真的很有趣，GF2 Panasonic 都一直不肯下放… P 家真的滿卑鄙的 ╮(╯﹏╰）╭ ，而且 25mm 這顆因為原本就沒有數位修正，所以搭在 O 家的機身也完全沒有問題，除了光圈葉片偶爾會給你咔咔聲(縮光圈)，然後對焦慢了一點(在 GF2 對焦比較快)，其餘的相片品質真的是沒話說，搭在 E-M5 發色真的很漂亮。不過還是要回到老問題，室內不夠廣真的是一個問題，而且對焦速度不是很快會稍微拉一下風箱，算算銀行盤纏，還有些許預算 XD，於是就在盤算要買 <a href="http://www.four-thirds.org/en/microft/standard.html#i_012-035mm_f028_x_lens_panasonic" target="_blank" rel="external">12-35mm F2.8 X Lens</a> 還是 <a href="http://www.four-thirds.org/en/microft/single.html#i_012mm_f020_olympus" target="_blank" rel="external">12mm F2.0</a>，考量是前者是恒定變焦鏡，也就是光圈都在 f2.8，而且防塵滴的機身搭配 E-M5 剛好，變焦也很方便，真的要說有缺點就是比較大(沒辦法是 m43 變焦鏡皇)，而且是 P 家機身有數位修正，後者則是 O 家最高的工藝水準「辰野製作所」做的，而且是金屬機身、小顆很輕、定焦鏡畫質不用說，而且 O 家搭 O 家自身的最好，價位上其實差不多，所以考量點其實就在定焦、變焦而已…經過幾經考量，最後還是入手了 12mm 。</p>
<img src="http://farm9.staticflickr.com/8529/8584909214_920e90fb28_z.jpg">
<p>不過因為剛買，還沒有什麼機會帶出去試拍，只有下面北投的照片參考。</p>
<img src="http://farm9.staticflickr.com/8388/8581619891_19fcdc87a8_k.jpg" title="吳氏宗祠">
<img src="http://farm9.staticflickr.com/8101/8581624721_7144bcc865_k.jpg" title="吳氏宗祠2">
<p>這兩張可以發現邊角的紫光有稍微的明顯，因為我不小心都 F2.0 拍了，其實當天都陰天，但是不暗，其實可以縮光圈拍，據說收到 F4.0 就比較不會有。</p>
<img src="http://farm9.staticflickr.com/8531/8581627947_bf221bd979_b.jpg" title="北投圖書館">
<img src="http://farm9.staticflickr.com/8111/8581630347_ed30399588_z.jpg" title="北投溫泉博物館廣場街頭藝人">
<img src="http://farm9.staticflickr.com/8092/8581632279_5abde9ee02_z.jpg" title="12mm的變型感">
<img src="http://farm9.staticflickr.com/8386/8581634559_5dfa874585_z.jpg" title="北投捷運站-新北投列車">
<p>最後幾張照片可以發現 12mm 幾乎沒有桶狀變形，但是只要視角稍微變一下，營造出來的的透視變形還是蠻有感覺的，照片的解析度(100%檢視下)也都相當好，不用說縮圖了 XD，不過 F2.0 的確沒有這麼簡單的可以營造出淺景深就是了，除了身價不凡，這顆真的沒什麼好挑剔的 Q_Q”，是一個很棒的鏡頭蓋，不過不得不說 12mm 在構圖上真的沒有 25mm 這麼簡單 &gt; &lt;”，有時候覺得自己站的位置好像可以了，結果一拿相機才發現還站太遠(因為習慣 25mm 拍東西的距離)，而且透視變形有時候真的很煩人 XD，這點是兩者比較需要習慣適應的，但是兩個在拍照的結果都一樣是非常棒的鏡頭。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>三年前原本買了 <a href="http://www.four-thirds.org/en/microft/body.html#c=Panasonic&amp;i_dmc-gf2_panasonic">GF2</a> + <a href="http://www.four-thirds.org/en/microft/single.html#i_014mm_f025_panasonic">LUMIX G 14mm F2.5 ASPH</a> 要給我妹，結果他竟然嫌棄說 14mm 沒辦法變焦… 0rz… 這實在是，結果後來還是買了一般的小 DC 給她 = =+，然後去年入手了 <a href="http://www.four-thirds.org/en/microft/single.html#i_025mm_f014_panasonic">LEICA DG SUMMILUX 25mm F1.4 ASPH</a> </p>
<img src="http://farm9.staticflickr.com/8237/8584909748_bde84d9f1b_z.jpg">
<p>大光圈的加持真的不是蓋的等效 50mm 也相當的好取景，但是最近對焦距離 30cm 真的稍遠不過他本來就被定位在人像鏡所以其實還好，整體來說還是超級棒的一顆鏡頭，只是去參觀室內的展覽(像是小叮噹誕生前百年特展)難免又被我妹嫌棄說為什麼拍照都要站這麼遠 XDDD，以下是 GF2 搭 25mm 拍出來的照片。</p>]]>
    
    </summary>
    
      <category term="E-M5" scheme="http://blog.littlero.se/tags/E-M5/"/>
    
      <category term="3C" scheme="http://blog.littlero.se/categories/3C/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[nginx 設定檔規則概要]]></title>
    <link href="http://blog.littlero.se/post/notices-about-nginx-rewrite-rule/"/>
    <id>http://blog.littlero.se/post/notices-about-nginx-rewrite-rule/</id>
    <published>2013-02-26T09:47:44.000Z</published>
    <updated>2015-03-14T05:41:45.000Z</updated>
    <content type="html"><![CDATA[<p>這篇是記錄一些 lighttpd 轉 nginx rewrite rule 的實作與一些注意事項，最後會講一些 squid 轉 nginx 的技巧。</p>
<p>這裡先講一些跟 nginx rewrite 有關的重點。</p>
<p>首先 nginx 算是分成 <code>location</code> 跟 <code>rewrite</code>，lighttpd 是有 <code>url.rewrite</code>、<code>url.rewrite-repeat</code> 跟 <code>url.redirect</code>，其中 lighttpd 的 <code>url.rewrite</code> 就是 rewrite once 而 <code>url.rewrite-repeat</code> 則是重複一直 rewrite 的意思，這個則對應到 nginx <code>rewrite</code> 後面接的參數，也就是 <code>break</code> 跟 <code>last</code>，<code>break</code> 就是 rewrite 到此為止不要再跑 <code>rewrite</code> 了，但是 <code>last</code> 就會在重頭跑 rewrite 一次，而且 <code>last</code> 也是 <code>rewrite</code> 這個 directive 的預設值，所以如果你的 rewrite 不小心變成 loop (nginx 預設是 rewrite 10 次後就噴 500)請加上 <code>break</code>。至於 lighttpd 的 <code>url.redirect</code> 其實在 nginx 也是透過 <code>rewrite</code> 完成的，主要是加 <code>redirect</code> 跟 <code>permanent</code> 的參數，分別是回 302 跟 301。<code>rewrite</code> 的用法大約如下：</p>
<a id="more"></a>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">rewrite</span> <span class="regexp"> ^(/download/.*)/media/(.*)\..*$</span>  <span class="variable">$1</span>/mp3/<span class="variable">$2</span>.mp3  <span class="built_in">last</span>;</span><br><span class="line"><span class="title">rewrite</span> <span class="regexp"> ^(/download/.*)/media/(.*)\..*$</span>  <span class="variable">$1</span>/mp3/<span class="variable">$2</span>.mp3  <span class="built_in">break</span>;</span><br><span class="line"><span class="title">rewrite</span><span class="regexp"> ^</span> <span class="url">http://example.com<span class="variable">$request_uri</span>?</span> <span class="built_in">permanent</span>;</span><br></pre></td></tr></table></figure>
<p>注意的是 <code>rewrite</code> 可以擺在 <code>server</code> <code>location</code> <code>if</code> 這三種 block 裡。</p>
<p>在完成了 <code>rewrite</code> 這個階段之後，也就是不管是被 <code>break</code> 或是 <code>last</code> 後重跑了一輪沒比對到，之後會開始比對所謂的 <code>location</code>，<code>location</code> 是用來處理 url 地址(被 rewrite 後)真正的地方，大概會長的像下面這樣。</p>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">location = / <span class="list">&#123;</span><br><span class="line">  [ configuration A ] </span><br><span class="line">&#125;</span></span><br><span class="line">location / <span class="list">&#123;</span><br><span class="line">  [ configuration B ] </span><br><span class="line">&#125;</span></span><br><span class="line">location /documents/ <span class="list">&#123;</span><br><span class="line">  [ configuration C ] </span><br><span class="line">&#125;</span></span><br><span class="line">location ^~ /images/ <span class="list">&#123;</span><br><span class="line">  [ configuration D ] </span><br><span class="line">&#125;</span></span><br><span class="line">location ~* \.(gif|jpg|jpeg)$ <span class="list">&#123;</span><br><span class="line">  [ configuration E ] </span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<p>要注意的是 <code>location</code> 有比對的順序，依序是先從有 <code>=</code> 的，然後是 <code>^~</code>，再來就是依照順序，而 location / 則可以當成一個預設值，因為他會 match 到剩下的所有 url。<code>location</code> 可以放在 <code>server</code> block 裡。</p>
<p>粗略的介紹完，接下來進入一些實務的介紹：</p>
<ul>
<li>lighttpd 原本的 <code>url.redirect</code> 就對應成 nginx 的 <code>rewrite http://foo.bar/ redirect</code></li>
<li>如果原本的 lighttpd 後端因為是 zend 所以就會有一些 rewrite (像是特定的 static file) 是不能送到 zend 去做的，在 lighttpd 就會在 <code>url.rewrite-once</code> 看到一些 <code>&quot;^/images/.*$&quot; =&gt; &quot;$0&quot;</code> 這種的寫法，但是 nginx 沒有 $0 這種東西，這時候就直接把 $0 轉成 $uri 即可，也就是 <code>rewrite ^/images/ $uri last</code></li>
<li>承上面那點，如果 nginx 背後的 php 是跑 zend 這類有 single entry point (什麼都交給 index.php 做 route)的架構，那樣設定會如下</li>
</ul>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">location</span> <span class="regexp">~ \.php$</span> &#123;</span><br><span class="line">  <span class="title">try_files</span> <span class="variable">$uri</span> =<span class="number">404</span>;</span><br><span class="line">  <span class="title">include</span> fastcgi.conf;</span><br><span class="line">  <span class="title">fastcgi_pass</span> <span class="url">unix:/tmp/php.socket</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title">location</span> / &#123;</span><br><span class="line">  <span class="title">try_files</span> <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.php<span class="variable">$is_args</span><span class="variable">$args</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title">rewrite</span><span class="regexp"> ^/images/</span> <span class="variable">$uri</span> <span class="built_in">last</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>因為 lighttpd 的 rewrite 可以連 arguments (也就是 ? 後面的那串參數)都一起 rewrite，但是 nginx 不行，所以就變成需要在 location 裡面做(也就是先 rewrite 完 uri)，因此會變成類似這樣</li>
</ul>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">location</span><span class="regexp"> ^~</span> /abc &#123;</span><br><span class="line">    <span class="title">if</span> (<span class="variable">$args</span> <span class="regexp">~* "(post|put)")</span>&#123;</span><br><span class="line">        <span class="title">set</span> <span class="variable">$args</span> type=<span class="variable">$1</span>;</span><br><span class="line">        <span class="title">rewrite</span><span class="regexp"> ^</span> /dispatch;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>像這個例子就會把 /abc?post 變成 /dispatch?type=post 然後丟給 dispatch 這個 location (假設存在 location = /dispatch 之類的)</p>
<ul>
<li>前面提到的 location 有比較順序，要注意的是只有兩種是可以接正規表示式的也就是 <code>~</code> 跟 <code>~*</code>，<code>~</code> 是有大小寫區分的，<code>~*</code> 則不分大小寫，然後 <code>=</code> 跟 <code>^~</code> 後面都是接一般的表示法，也就是下面這種都是不合法的</li>
</ul>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># misusing</span></span><br><span class="line"><span class="title">location</span> =<span class="regexp"> ^/regular$</span> &#123;&#125;</span><br><span class="line"><span class="title">location</span><span class="regexp"> ^~</span><span class="regexp"> ^/regular2$</span> &#123;&#125;</span><br></pre></td></tr></table></figure>
<p>但是下列的就是合法的</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># right</span></span><br><span class="line"><span class="title">location</span> <span class="regexp">~ ^/regular$</span> &#123;&#125; <span class="comment"># matches $uri = '/regular'</span></span><br><span class="line"><span class="title">location</span><span class="regexp"> ^~</span><span class="regexp"> ^/regular2$</span> &#123;&#125; <span class="comment"># matches $uri = '/Regular2' or '/rEgular2' ...</span></span><br><span class="line"><span class="title">location</span> = /regular3 &#123;&#125; <span class="comment"># matches exactly $uri = '/regular3' with higher priority</span></span><br><span class="line"><span class="title">location</span><span class="regexp"> ^~</span> /regular4 &#123;&#125; <span class="comment"># matches $uri = '/regular4' or '/regular41' or 'regular4a' ...</span></span><br></pre></td></tr></table></figure>
<ul>
<li>另外就是關於 <code>last</code> 跟 <code>break</code> 的詳細用法，<code>rewrite</code> 預設是 <code>last</code>，兩個最基本的差異前面有提到 <code>break</code> 會停止任何 <code>rewrite</code> 進入找 <code>location</code> 的階段，但是 <code>last</code> 會從第一個 <code>rewrite</code> 重新 rewrite 階段，但是這裡其實隱含了一個潛規則，就是如果你的 <code>rewrite</code> 是在 <code>location</code> 裡面的話，搭配 <code>last</code> 就會回到 <code>server</code> 這個 scope 的 <code>rewrite</code> 重新跑一次，但是搭配 <code>break</code> 就只會在這個 <code>location</code> 裡面找 <code>location</code>，這是值得注意的規則，所以有時候建議把 location ~ .php$ {…} 擺在第一個，因為有時候 <code>location</code> 內的 <code>rewrite</code> 又會不小心掉回來這個 <code>location</code>，把 ~ .php$ 擺最前面時，這樣 <code>rewrite ... last</code> 回到 server scope 遇到 php 就會給 ~ .php$ 處理了。</li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<p>這篇是記錄一些 lighttpd 轉 nginx rewrite rule 的實作與一些注意事項，最後會講一些 squid 轉 nginx 的技巧。</p>
<p>這裡先講一些跟 nginx rewrite 有關的重點。</p>
<p>首先 nginx 算是分成 <code>location</code> 跟 <code>rewrite</code>，lighttpd 是有 <code>url.rewrite</code>、<code>url.rewrite-repeat</code> 跟 <code>url.redirect</code>，其中 lighttpd 的 <code>url.rewrite</code> 就是 rewrite once 而 <code>url.rewrite-repeat</code> 則是重複一直 rewrite 的意思，這個則對應到 nginx <code>rewrite</code> 後面接的參數，也就是 <code>break</code> 跟 <code>last</code>，<code>break</code> 就是 rewrite 到此為止不要再跑 <code>rewrite</code> 了，但是 <code>last</code> 就會在重頭跑 rewrite 一次，而且 <code>last</code> 也是 <code>rewrite</code> 這個 directive 的預設值，所以如果你的 rewrite 不小心變成 loop (nginx 預設是 rewrite 10 次後就噴 500)請加上 <code>break</code>。至於 lighttpd 的 <code>url.redirect</code> 其實在 nginx 也是透過 <code>rewrite</code> 完成的，主要是加 <code>redirect</code> 跟 <code>permanent</code> 的參數，分別是回 302 跟 301。<code>rewrite</code> 的用法大約如下：</p>]]>
    
    </summary>
    
      <category term="nginx" scheme="http://blog.littlero.se/tags/nginx/"/>
    
      <category term="資訊" scheme="http://blog.littlero.se/categories/%E8%B3%87%E8%A8%8A/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Linux cgroups]]></title>
    <link href="http://blog.littlero.se/post/linux-cgroups/"/>
    <id>http://blog.littlero.se/post/linux-cgroups/</id>
    <published>2013-01-01T11:16:00.000Z</published>
    <updated>2015-03-14T05:40:32.000Z</updated>
    <content type="html"><![CDATA[<p><a href="http://en.wikipedia.org/wiki/Cgroups" target="_blank" rel="external">cgroups</a> 是 Linux 的一個特色，全名是 control groups，最簡單的概念就是控制資源的分配包含了隔離、記錄的功能，最早是由 Google 的工程師開發的，並且在 2.6.24 正式進了 Kernel，後來也陸續加了不少功能，而且在 3.3 之後又加了網路優先權(priority)功能。後來的 LXC (<a href="http://en.wikipedia.org/wiki/LXC" target="_blank" rel="external">LinuX Containers</a>) 就是用了 cgroups 的功能來的。</p>
<p>由於是從 Kernel 控制的所以幾乎什麼都可以管理，舉凡 <code>blkio</code> (管理輸入輸出的 block device ，像是硬碟、USB)、<code>cpu</code> (設定忙碌時能使用的 CPU time)、<code>cpuacct</code> (做統計用的)、<code>cpuset</code> (設定由那顆 CPU 執行運算)、<code>device</code> (限制能使用的設備)、<code>memory</code> (限制記憶體用量)、<code>net_cls</code> (似乎跟網路有關)，管理的範圍是以 Group 為主，所謂的 Group 可以是同一個使用者、同一個群組、同樣的 Process。</p>
<p>最簡單使用 <code>cgroups</code> 的方式就是裝 <code>libcgroup</code> 來管理<a id="more"></a>，他有幾個跟 cgroups 相關的指令跟服務可以使用，Gentoo 要安裝相當簡單，因為 libcgroup 已經在 portage 裡面了，直接 <code>emerge dev-libs/libcgroup</code> 就裝好了，而 SUSE 則需要先加其他的 repos 才可以使用(下列範例使用 SLES11sp2 當範例):</p>
<pre><code>zypper ar http://download.opensuse.org/repositories/<span class="type">Virtualization</span>/<span class="type">SLE_11_SP2</span>/<span class="type">Virtualization</span>.repo &amp;&amp; zypper -n <span class="keyword">ref</span> &amp;&amp; zypper --no-gpg-checks --non-interactive install --<span class="type">auto</span>-agree-<span class="keyword">with</span>-licenses libcgroup-tools &amp;&amp; zypper rr <span class="type">Virtualization</span>
</code></pre><p>裝好之後系統裡面就會多了 <code>cg</code> 開頭的指令以及 <code>/etc/init.d/cgconfig</code> 跟 <code>/etc/init.d/cgred</code>，要使用這兩個服務會參照到 <code>/etc/cgconfig.conf</code> 跟 <code>/etc/cgrules.conf</code> 這兩個檔案，下面講解我使用到的情境搭配的設定。</p>
<p>因為我們的伺服器會做轉檔的動作，有時候量大就會讓轉檔用的程式(以下叫 convert)咬死 CPU，讓 web server (以下叫 httpd) 跟 php-cgi 因為吃不到 CPU 所以就讓服務中斷了，因此在這裡會用到的是 cpuset 的功能，要注意到的是 cpu 跟 cpuset 的差異在設定 cpu 是限制佔用 CPU 的時間比，也就是當 process A CPU 100％ 跟 process B CPU 也 100% 時，才會看 cpu 這個參數的設定限制 CPU 使用時間，如果只有 process B CPU 100% 其他的 Process 沒有要資源，這樣 Kernel 還是會讓 B 使用全部的資源，因為轉檔時只有 convert 會 100% 其他的程序並沒有 100% 所以單純限制 cpu 還是沒什麼用，所以這時候就要用 cpuset，讓某個 Group 的程序只能使用某幾顆 CPU (現在都是 multi-core 的系統)，我的設定如下</p>
<pre><code><span class="label">wwwrun:</span>httpd * httpd
<span class="label">wwwrun:</span>php-cgi * php
<span class="label">wwwrun:</span>convert * convert
</code></pre><p><code>/etc/cgrules.conf</code> 是給 cgred 這個服務看的，它會監視系統新 fork 出來的 process 有沒有被這個檔案 mapping 到，有的話就會參照每行的第三個參數再去參考 <code>/etc/cgconfig.conf</code> 裡面的設定，至於第一個參數的 <code>wwwrun:httpd</code> 表示是 wwwrun 這個 user 身份執行的 httpd 這個 process，第二個星號(<em>)表示有哪些資源要管理，可以是 <code>cpu</code> <code>memory</code> <code>cpuset</code> 如果是 </em> 表示任何資源都要被管理(一樣會參照 <code>/etc/cgconfig.conf</code> 這個檔案)，所以第一行讀起來就是以 wwwrun 身份執行的 httpd 這個 process 要參考 httpd 這個 group 的設定來管理任何資源，而 <code>/etc/cgconfig.conf</code> 看下面</p>
<pre><code><span class="component">group httpd {
    cpuset {
        cpuset<span class="string">.cpus</span> = 1;
        cpuset<span class="string">.mems</span> = 0;
        cpuset<span class="string">.cpu_exclusive</span> = 1;
    }</span>
}
<span class="component">group php {
    cpuset {
        cpuset<span class="string">.cpus</span> = 2,3,4;
        cpuset<span class="string">.mems</span> = 0;
        cpuset<span class="string">.cpu_exclusive</span> = 1;
    }</span>
}
<span class="component">group convert {
    cpuset {
        cpuset<span class="string">.cpus</span> = 5,6,7;
        cpuset<span class="string">.mems</span> = 0;
        cpuset<span class="string">.cpu_exclusive</span> = 1;
    }</span>
}
<span class="component">mount {
    cpuset = /cgroup/example;
}</span>
</code></pre><p>這幾行說明了一共定義了三個 Group <code>httpd</code> <code>php</code> <code>convert</code>，然後都只有定義了 cpuset 這個管理項目，其中 cpuset 又可以看到分別定義了三個變數 <code>cpuset.cpus</code> (必須)、<code>cpuset.mems</code> (必須)、<code>cpuset.cpu_exclusive</code> (非必要)， <code>cpuset.cpus</code> 就是這個群組的 process 只能使用哪幾顆 CPU，注意是從 0 開始數，這裏我示範的是如何錯開 CPU 的資源，在 convert 這個群組的 process 只能使用 3 顆 CPU，而 <code>cpuset.mems</code> 似乎是對 NUMA 的系統設定的，因為我們是跑在 VMware 上記憶體只有一個，所以定為 0，而 <code>cpuset.cpu_exclusive</code> 就是要不要讓 <code>cpuset.cpus</code> 裡面的 CPU 只能執行這個群組的 process，最後面的 <code>mount</code> 是管理 cgroups 的地方，會以資料夾跟檔案的方式呈現。</p>
<p>一切都設定好之後就直接 <code>/etc/init.d/cgconfig start</code> 跟 <code>/etc/init.d/cgred start</code>，沒有錯誤的話 /cgroup/example 底下應該會出現資料夾跟一堆檔案，其中可以看到 tasks 這個檔案裡面就有一堆 pid 表示現在這些 pid 是套用到這個 group 的設定。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p><a href="http://en.wikipedia.org/wiki/Cgroups">cgroups</a> 是 Linux 的一個特色，全名是 control groups，最簡單的概念就是控制資源的分配包含了隔離、記錄的功能，最早是由 Google 的工程師開發的，並且在 2.6.24 正式進了 Kernel，後來也陸續加了不少功能，而且在 3.3 之後又加了網路優先權(priority)功能。後來的 LXC (<a href="http://en.wikipedia.org/wiki/LXC">LinuX Containers</a>) 就是用了 cgroups 的功能來的。</p>
<p>由於是從 Kernel 控制的所以幾乎什麼都可以管理，舉凡 <code>blkio</code> (管理輸入輸出的 block device ，像是硬碟、USB)、<code>cpu</code> (設定忙碌時能使用的 CPU time)、<code>cpuacct</code> (做統計用的)、<code>cpuset</code> (設定由那顆 CPU 執行運算)、<code>device</code> (限制能使用的設備)、<code>memory</code> (限制記憶體用量)、<code>net_cls</code> (似乎跟網路有關)，管理的範圍是以 Group 為主，所謂的 Group 可以是同一個使用者、同一個群組、同樣的 Process。</p>
<p>最簡單使用 <code>cgroups</code> 的方式就是裝 <code>libcgroup</code> 來管理]]>
    
    </summary>
    
      <category term="Gentoo" scheme="http://blog.littlero.se/tags/Gentoo/"/>
    
      <category term="Linux" scheme="http://blog.littlero.se/tags/Linux/"/>
    
      <category term="SUSE" scheme="http://blog.littlero.se/tags/SUSE/"/>
    
      <category term="cgroups" scheme="http://blog.littlero.se/tags/cgroups/"/>
    
      <category term="資訊" scheme="http://blog.littlero.se/categories/%E8%B3%87%E8%A8%8A/"/>
    
  </entry>
  
</feed>